{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/CreateClass/component/AddSchedule.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { TimezonePicker } from \"baseui/timezonepicker\";\nimport { SIZE } from \"baseui/input\";\nimport service from '../service';\nimport dayjs from \"dayjs\";\nimport FullCalendar from \"@fullcalendar/react\";\nimport { OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from '@fullcalendar/interaction';\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { Modal, Button } from \"react-bootstrap\"; // import Calendar from './FullCalendar';\n// const earliestEnrollment= dayjs().add(21, 'days').format(\"YYYY-MM-DD\");\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaultSchedule = {\n  liveClassType: \"LCLT001\",\n  startDate: \"\",\n  startTime: \"\",\n  endDate: \"\",\n  endTime: \"\",\n  enrollmentStartDate: \"\",\n  enrollmentEndDate: \"\",\n  minLearners: \"\",\n  maxLearners: \"\",\n  timezone: \"Asia/Manila\",\n  dayAvailability: \"\",\n  scheduleLength: \"\",\n  availableDates: [],\n  sessionNumber: \"\"\n}; // const DAYS_OPTIONS = [\n//     { value: \"M\", label: \"Monday\" },\n//     { value: \"T\", label: \"Tuesday\" },\n//     { value: \"W\", label: \"Wednesday\" },\n//     { value: \"H\", label: \"Thursday\" },\n//     { value: \"F\", label: \"Friday\" },\n//     { value: \"S\", label: \"Saturday\" },\n//     { value: \"U\", label: \"Sunday\" },\n// ];\n\nconst TIME_OPTIONS = [{\n  value: \"00:00\",\n  label: \"12:00 am\"\n}, {\n  value: \"00:15\",\n  label: \"12:15 am\"\n}, {\n  value: \"00:30\",\n  label: \"12:30 am\"\n}, {\n  value: \"00:45\",\n  label: \"12:45 am\"\n}, {\n  value: \"01:00\",\n  label: \"01:00 am\"\n}, {\n  value: \"01:15\",\n  label: \"01:15 am\"\n}, {\n  value: \"01:30\",\n  label: \"01:30 am\"\n}, {\n  value: \"01:45\",\n  label: \"01:45 am\"\n}, {\n  value: \"02:00\",\n  label: \"02:00 am\"\n}, {\n  value: \"02:15\",\n  label: \"02:15 am\"\n}, {\n  value: \"02:30\",\n  label: \"02:30 am\"\n}, {\n  value: \"02:45\",\n  label: \"02:45 am\"\n}, {\n  value: \"03:00\",\n  label: \"03:00 am\"\n}, {\n  value: \"03:15\",\n  label: \"03:15 am\"\n}, {\n  value: \"03:30\",\n  label: \"03:30 am\"\n}, {\n  value: \"03:45\",\n  label: \"03:45 am\"\n}, {\n  value: \"04:00\",\n  label: \"04:00 am\"\n}, {\n  value: \"04:15\",\n  label: \"04:15 am\"\n}, {\n  value: \"04:30\",\n  label: \"04:30 am\"\n}, {\n  value: \"04:45\",\n  label: \"04:45 am\"\n}, {\n  value: \"05:00\",\n  label: \"05:00 am\"\n}, {\n  value: \"05:15\",\n  label: \"05:15 am\"\n}, {\n  value: \"05:30\",\n  label: \"05:30 am\"\n}, {\n  value: \"05:45\",\n  label: \"05:45 am\"\n}, {\n  value: \"06:00\",\n  label: \"06:00 am\"\n}, {\n  value: \"06:15\",\n  label: \"06:15 am\"\n}, {\n  value: \"06:30\",\n  label: \"06:30 am\"\n}, {\n  value: \"06:45\",\n  label: \"06:45 am\"\n}, {\n  value: \"07:00\",\n  label: \"07:00 am\"\n}, {\n  value: \"07:15\",\n  label: \"07:15 am\"\n}, {\n  value: \"07:30\",\n  label: \"07:30 am\"\n}, {\n  value: \"07:45\",\n  label: \"07:45 am\"\n}, {\n  value: \"08:00\",\n  label: \"08:00 am\"\n}, {\n  value: \"08:15\",\n  label: \"08:15 am\"\n}, {\n  value: \"08:30\",\n  label: \"08:30 am\"\n}, {\n  value: \"08:45\",\n  label: \"08:45 am\"\n}, {\n  value: \"09:00\",\n  label: \"09:00 am\"\n}, {\n  value: \"09:15\",\n  label: \"09:15 am\"\n}, {\n  value: \"09:30\",\n  label: \"09:30 am\"\n}, {\n  value: \"09:45\",\n  label: \"09:45 am\"\n}, {\n  value: \"10:00\",\n  label: \"10:00 am\"\n}, {\n  value: \"10:15\",\n  label: \"10:15 am\"\n}, {\n  value: \"10:30\",\n  label: \"10:30 am\"\n}, {\n  value: \"10:45\",\n  label: \"10:45 am\"\n}, {\n  value: \"11:00\",\n  label: \"11:00 am\"\n}, {\n  value: \"11:15\",\n  label: \"11:15 am\"\n}, {\n  value: \"11:30\",\n  label: \"11:30 am\"\n}, {\n  value: \"11:45\",\n  label: \"11:45 am\"\n}, {\n  value: \"12:00\",\n  label: \"12:00 pm\"\n}, {\n  value: \"12:15\",\n  label: \"12:15 pm\"\n}, {\n  value: \"12:30\",\n  label: \"12:30 pm\"\n}, {\n  value: \"12:45\",\n  label: \"12:45 pm\"\n}, {\n  value: \"13:00\",\n  label: \"01:00 pm\"\n}, {\n  value: \"13:15\",\n  label: \"01:15 pm\"\n}, {\n  value: \"13:30\",\n  label: \"01:30 pm\"\n}, {\n  value: \"13:45\",\n  label: \"01:45 pm\"\n}, {\n  value: \"14:00\",\n  label: \"02:00 pm\"\n}, {\n  value: \"14:15\",\n  label: \"02:15 pm\"\n}, {\n  value: \"14:30\",\n  label: \"02:30 pm\"\n}, {\n  value: \"14:45\",\n  label: \"02:45 pm\"\n}, {\n  value: \"15:00\",\n  label: \"03:00 pm\"\n}, {\n  value: \"15:15\",\n  label: \"03:15 pm\"\n}, {\n  value: \"15:30\",\n  label: \"03:30 pm\"\n}, {\n  value: \"15:45\",\n  label: \"03:45 pm\"\n}, {\n  value: \"16:00\",\n  label: \"04:00 pm\"\n}, {\n  value: \"16:15\",\n  label: \"04:15 pm\"\n}, {\n  value: \"16:30\",\n  label: \"04:30 pm\"\n}, {\n  value: \"16:45\",\n  label: \"04:45 pm\"\n}, {\n  value: \"17:00\",\n  label: \"05:00 pm\"\n}, {\n  value: \"17:15\",\n  label: \"05:15 pm\"\n}, {\n  value: \"17:30\",\n  label: \"05:30 pm\"\n}, {\n  value: \"17:45\",\n  label: \"05:45 pm\"\n}, {\n  value: \"18:00\",\n  label: \"06:00 pm\"\n}, {\n  value: \"18:15\",\n  label: \"06:15 pm\"\n}, {\n  value: \"18:30\",\n  label: \"06:30 pm\"\n}, {\n  value: \"18:45\",\n  label: \"06:45 pm\"\n}, {\n  value: \"19:00\",\n  label: \"07:00 pm\"\n}, {\n  value: \"19:15\",\n  label: \"07:15 pm\"\n}, {\n  value: \"19:30\",\n  label: \"07:30 pm\"\n}, {\n  value: \"19:45\",\n  label: \"07:45 pm\"\n}, {\n  value: \"20:00\",\n  label: \"08:00 pm\"\n}, {\n  value: \"20:15\",\n  label: \"08:15 pm\"\n}, {\n  value: \"20:30\",\n  label: \"08:30 pm\"\n}, {\n  value: \"20:45\",\n  label: \"08:45 pm\"\n}, {\n  value: \"21:00\",\n  label: \"09:00 pm\"\n}, {\n  value: \"21:15\",\n  label: \"09:15 pm\"\n}, {\n  value: \"21:30\",\n  label: \"09:30 pm\"\n}, {\n  value: \"21:45\",\n  label: \"09:45 pm\"\n}, {\n  value: \"22:00\",\n  label: \"10:00 pm\"\n}, {\n  value: \"22:15\",\n  label: \"10:15 pm\"\n}, {\n  value: \"22:30\",\n  label: \"10:30 pm\"\n}, {\n  value: \"22:45\",\n  label: \"10:45 pm\"\n}, {\n  value: \"23:00\",\n  label: \"11:00 pm\"\n}, {\n  value: \"23:15\",\n  label: \"11:15 pm\"\n}, {\n  value: \"23:30\",\n  label: \"11:30 pm\"\n}, {\n  value: \"23:45\",\n  label: \"11:45 pm\"\n}];\n\nfunction AddSchedule(props) {\n  _s();\n\n  const [modalSchedShow, setModalSchedShow] = useState(false);\n  const [selectedDisplayDates, setSelectedDisplayDates] = useState([]);\n  const [modalSchedErrDesc, setModalSchedErrDesc] = useState(\"\");\n  const [modalSchedErrTitle, setModalSchedErrTitle] = useState(\"\");\n  const [schedule, setSchedule] = useState(defaultSchedule);\n  const [isChange, setIsChange] = useState(props.classDetails !== undefined ? true : false);\n  const [isEdit, setIsEdit] = useState(props.classDetails !== undefined ? true : false);\n  const [selectedDates, setSelectedDates] = useState([]);\n  const calendarRef = useRef(null);\n  const {\n    schedules,\n    title\n  } = props;\n  useEffect(() => {\n    if (schedules && schedules !== {}) {\n      const {\n        liveClassType,\n        dayAvailability\n      } = schedules;\n      const selectedDayAvailability = liveClassType === 'LCLT001' ? 'onetime' : service.normalizedDayAvialability(dayAvailability);\n      setSchedule({ ...defaultSchedule,\n        ...schedules,\n        dayAvailability: selectedDayAvailability\n      });\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (isChange) {\n      const {\n        startDate,\n        endDate,\n        dayAvailability,\n        liveClassType\n      } = schedule;\n      const selectedEndDate = liveClassType === 'LCLT001' ? startDate : endDate;\n      const scheduleLength = `${startDate}, ${selectedEndDate}`;\n\n      if (isEdit) {\n        setInitialData();\n      }\n\n      const normalizedDayAvialability = service.flattenDayAvailability(dayAvailability);\n      props.pushSchedule({ ...schedule,\n        endDate: selectedEndDate,\n        scheduleLength,\n        availableDates: selectedDates,\n        dayAvailability: normalizedDayAvialability\n      });\n      setIsChange(false);\n    }\n  });\n\n  const setInitialData = async () => {\n    const {\n      startTime: sTime,\n      endTime: eTime,\n      minLearners,\n      maxLearners,\n      timeZone,\n      dayAvailability: days,\n      availableDates,\n      title: classTitle,\n      classType\n    } = props.classDetails;\n    const selectedDayAvailability = classType === 'LCLT001' ? 'onetime' : service.normalizedDayAvialability(days);\n\n    if (!!availableDates && availableDates.length > 0) {\n      const displayDatesArray = [];\n      const datesArray = [];\n      await availableDates.forEach(item => {\n        var dateItem = dayjs(item);\n        var aWeekFromNow = dayjs(new Date()).add(7, 'days').format(\"YYYY-MM-DD\");\n\n        if (dateItem.diff(aWeekFromNow, 'day') >= 0) {\n          var temp = {\n            title: classTitle,\n            start: dayjs(item).format(\"YYYY-MM-DD\"),\n            allDay: true,\n            color: \"#dc3545\"\n          };\n          displayDatesArray.push(temp);\n          datesArray.push(temp.start);\n        }\n      });\n      await setSelectedDisplayDates(displayDatesArray);\n      await setSelectedDates(datesArray.sort());\n      await setSchedule({ ...schedules,\n        availableDates: datesArray.sort()\n      });\n      props.pushSchedule({ ...schedule,\n        availableDates: datesArray.sort(),\n        sessionNumber: datesArray.length\n      });\n    }\n\n    await setSchedule({ ...schedules,\n      classType: classType,\n      startTime: sTime ? moment(sTime, \"hh:mm A\").format(\"HH:mm\") : \"\",\n      endTime: eTime ? moment(eTime, \"hh:mm A\").format(\"HH:mm\") : \"\",\n      minLearners,\n      maxLearners,\n      // enrollmentStartDate: enrollmentStartDate ? moment(enrollmentStartDate).format('YYYY-MM-DD') : \"\",\n      // enrollmentEndDate: enrollmentEndDate ? moment(enrollmentEndDate).format('YYYY-MM-DD'): \"\",\n      timezone: timeZone || 'Asia/Manila',\n      scheduleLength: \"\",\n      dayAvailability: selectedDayAvailability,\n      sessionNumber: availableDates ? availableDates.length : null\n    });\n    setIsEdit(false);\n    setIsChange(true);\n  };\n\n  const onInputChange = event => {\n    if (event.target.name === \"sessionNumber\" || event.target.name === \"minLearners\" || event.target.name === \"maxLearners\") {\n      if (event.target.name === \"sessionNumber\") {\n        if (parseInt(event.target.value) > 1) {\n          setSchedule({ ...schedule,\n            liveClassType: 'LCLT002'\n          });\n        } else if (parseInt(event.target.value) === 1) {\n          setSchedule({ ...schedule,\n            liveClassType: 'LCLT001'\n          });\n        }\n      }\n\n      setSchedule({ ...schedule,\n        [event.target.name]: !!event.target.value ? parseInt(event.target.value) : \"\"\n      });\n    } else {\n      setSchedule({ ...schedule,\n        [event.target.name]: event.target.value\n      });\n    }\n\n    setIsChange(true);\n  };\n\n  const onTimeSelect = (value, name) => {\n    setSchedule({ ...schedule,\n      [name]: value\n    });\n    setIsChange(true);\n  };\n\n  const customDisplay = _ref => {\n    let {\n      event,\n      el\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(OverlayTrigger, {\n      placement: \"right\",\n      delay: {\n        show: 50,\n        hide: 200\n      },\n      overlay: /*#__PURE__*/_jsxDEV(Tooltip, {\n        children: event.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 22\n      }, this),\n      style: {\n        cursor: 'pointer'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          padding: \"2px 0\",\n          overflow: \"hidden\",\n          cursor: 'pointer'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flexGrow: \"1\",\n            flexShrink: \"1\",\n            minWidth: \"0\",\n            overflow: \"hidden\",\n            fontWeight: \"bold\",\n            paddingLeft: \"10px\"\n          },\n          children: event.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 11\n    }, this);\n  };\n\n  const addOrRemoveDate = item => {\n    let datesDisplayedArray = [...selectedDisplayDates];\n\n    var temp = _.findIndex(datesDisplayedArray, item2 => {\n      return datesDisplayedArray.length > 0 && dayjs(item2.start).format(\"MM-DD-YYYY\") === dayjs(item.start).format(\"MM-DD-YYYY\");\n    });\n\n    if (temp > -1) {\n      datesDisplayedArray.splice(temp, 1);\n    } else {\n      datesDisplayedArray.push(item);\n    }\n\n    addOrRemoveToState(item.start);\n    setSelectedDisplayDates(datesDisplayedArray);\n  };\n\n  const addOrRemoveToState = item => {\n    let datesArray = [...selectedDates];\n\n    let temp = _.findIndex(datesArray, item2 => {\n      return datesArray.length > 0 && dayjs(item2).format(\"MM-DD-YYYY\") === dayjs(item).format(\"MM-DD-YYYY\");\n    });\n\n    if (temp > -1) {\n      datesArray.splice(temp, 1);\n    } else {\n      datesArray.push(item);\n    }\n\n    setSelectedDates(datesArray.sort());\n  };\n\n  const handleEventAdd = event => {\n    console.log(\"Session Number\", schedule.sessionNumber);\n\n    if (!schedule.sessionNumber || schedule.sessionNumber === \"\" || schedule.sessionNumber === null || schedule.sessionNumber === \"0\" || schedule.sessionNumber === 0) {\n      //change message here\n      setModalSchedErrTitle(\"Oh no!\");\n      setModalSchedErrDesc(\"You have not set the number of sessions for this class\");\n      setModalSchedShow(true);\n    } // else if (!schedule.enrollmentEndDate || schedule.enrollmentEndDate === \"\"){\n    //     setModalSchedErrTitle(\"Oh no!\");\n    //     setModalSchedErrDesc(\"You have not yet set enrollment date for this class\");\n    //     setModalSchedShow(true);\n    // }\n    else {\n      const tempIndex = _.findIndex(selectedDates, item => {\n        return item === dayjs(event.date).format(\"YYYY-MM-DD\");\n      });\n\n      if (selectedDates.length < schedule.sessionNumber || tempIndex > -1) {\n        var temp = {\n          title: title,\n          start: dayjs(event.date).format(\"YYYY-MM-DD\"),\n          allDay: true,\n          color: \"#dc3545\"\n        };\n        addOrRemoveDate(temp); // compare (dates)\n\n        const calendarApi = calendarRef.current.getApi();\n        calendarApi.gotoDate(event.date);\n        setSchedule({ ...schedule,\n          availableDates: selectedDates\n        });\n        setIsChange(true);\n      } else {\n        // show modal\n        //change message here\n        setModalSchedErrTitle(\"Oh no!\");\n        setModalSchedErrDesc(\"You have reached the number of sessions for this class\");\n        setModalSchedShow(true);\n      }\n    }\n  };\n\n  const handleEventClick = event => {\n    console.log(\"Session Number\", schedule.sessionNumber);\n\n    if (!schedule.sessionNumber || schedule.sessionNumber === \"\" || schedule.sessionNumber === null || schedule.sessionNumber === \"0\" || schedule.sessionNumber === 0) {\n      //change message here\n      setModalSchedErrTitle(\"Oh no!\");\n      setModalSchedErrDesc(\"You have not set the number of sessions for this class\");\n      setModalSchedShow(true);\n    } // else if (!schedule.enrollmentEndDate || schedule.enrollmentEndDate === \"\"){\n    //     setModalSchedErrTitle(\"Oh no!\");\n    //     setModalSchedErrDesc(\"You have not yet set enrollment date for this class\");\n    //     setModalSchedShow(true);\n    // }\n    else {\n      const tempIndex = _.findIndex(selectedDates, item => {\n        return item === dayjs(event.event.start).format(\"YYYY-MM-DD\");\n      });\n\n      if (selectedDates.length < schedule.sessionNumber || tempIndex > -1) {\n        var temp = {\n          title: title,\n          start: dayjs(event.event.start).format(\"YYYY-MM-DD\"),\n          allDay: true,\n          color: \"#dc3545\"\n        };\n        addOrRemoveDate(temp); // compare (dates)\n\n        const calendarApi = calendarRef.current.getApi();\n        calendarApi.gotoDate(event.date);\n        setSchedule({ ...schedule,\n          availableDates: selectedDates\n        });\n        setIsChange(true);\n      } else {\n        // show modal\n        //change message here\n        setModalSchedErrTitle(\"Oh no!\");\n        setModalSchedErrDesc(\"You have reached the number of sessions for this class\");\n        setModalSchedShow(true);\n      }\n    }\n  };\n\n  const getValidRange = date => {\n    return {\n      start: dayjs(date).add(7, 'days').format(\"YYYY-MM-DD\")\n    }; // return {start: dayjs(schedule.enrollmentEndDate).add(1, 'days').format(\"YYYY-MM-DD\")};\n  };\n\n  window.$(document).on(\"input\", \".sessionNumber\", function () {\n    this.value = this.value.replace(/\\D/g, '');\n\n    if (this.value === '0') {\n      this.value = 1;\n      setSchedule(prevState => ({ ...prevState,\n        sessionNumber: 36\n      }));\n    }\n\n    if (this.value > 36) {\n      this.value = 36;\n      setSchedule(prevState => ({ ...prevState,\n        sessionNumber: 36\n      }));\n    } // this.value = this.value === '0' ? 1 : this.value;\n\n  });\n  window.$(document).on(\"input\", \".number2\", function () {\n    this.value = this.value.replace(/\\D/g, '');\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      size: \"m\",\n      show: modalSchedShow,\n      backdrop: \"static\",\n      keyboard: false,\n      onHide: () => setModalSchedShow(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: modalSchedErrTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: modalSchedErrDesc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: () => setModalSchedShow(false),\n          children: \"Ok\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"lms-input-sublabel\",\n                children: \"Number of Sessions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                className: \"form-control sessionNumber\",\n                min: \"1\",\n                max: \"9\",\n                pattern: \"[0-9]{1}\",\n                name: \"sessionNumber\",\n                defaultValue: schedule.sessionNumber,\n                onInput: onInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 527,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: \"12px\"\n                },\n                children: \"Note: The minimum number of sessions is 1 and the maximum is 36\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"lms-input-sublabel\",\n                children: \"Timezone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TimezonePicker, {\n                value: schedule.timezone,\n                onChange: _ref2 => {\n                  let {\n                    id\n                  } = _ref2;\n                  return onTimeSelect(id, 'timezone');\n                },\n                size: SIZE.compact,\n                overrides: {\n                  Select: {\n                    props: {\n                      overrides: {\n                        ControlContainer: {\n                          style: _ref3 => {\n                            let {\n                              $theme\n                            } = _ref3;\n                            return {\n                              borderColor: `#ced4da!important`,\n                              borderRadius: `0.25em!important`,\n                              borderWidth: `thin!important`,\n                              backgroundColor: $theme.colors.white,\n                              minHeight: `38px`\n                            };\n                          }\n                        },\n                        Input: {\n                          style: _ref4 => {\n                            let {\n                              $theme\n                            } = _ref4;\n                            return {\n                              cursor: `text`\n                            };\n                          }\n                        },\n                        InputContainer: {\n                          style: _ref5 => {\n                            let {\n                              $theme\n                            } = _ref5;\n                            return {\n                              cursor: `text`\n                            };\n                          }\n                        },\n                        ValueContainer: {\n                          style: _ref6 => {\n                            let {\n                              $theme\n                            } = _ref6;\n                            return {\n                              cursor: `pointer`\n                            };\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 541,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"lms-input-sublabel\",\n                children: \"Minimum learners\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 584,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"0\",\n                className: \"form-control number2\",\n                name: \"minLearners\",\n                defaultValue: schedule.minLearners,\n                onInput: onInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 585,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"lms-input-sublabel\",\n                children: \"Maximum learners\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"0\",\n                className: \"form-control number2\",\n                name: \"maxLearners\",\n                defaultValue: schedule.maxLearners,\n                onInput: onInputChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"lms-input-sublabel mr-4\",\n                forHtml: \"startTime\",\n                children: \"Start Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 614,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"startTime\",\n                id: \"startTime\",\n                value: schedule.startTime,\n                className: \"custom-select lms-portal-select\",\n                classNamePrefix: \"select\",\n                onChange: onInputChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 37\n                }, this), TIME_OPTIONS.map(item => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.value,\n                    children: item.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 626,\n                    columnNumber: 45\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 615,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 613,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-md-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"lms-input-sublabel mr-4\",\n                children: \"End Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 632,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                name: \"endTime\",\n                id: \"endTime\",\n                value: schedule.endTime,\n                className: \"custom-select lms-portal-select\",\n                classNamePrefix: \"select\",\n                onChange: onInputChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 641,\n                  columnNumber: 37\n                }, this), TIME_OPTIONS.map(item => {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: item.value,\n                    children: item.label\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 645,\n                    columnNumber: 45\n                  }, this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 631,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 612,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 610,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Please select the preferred dates for your class session/s\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Selected days: \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: selectedDates.length || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FullCalendar, {\n        height: 700,\n        aspectRatio: 1.95,\n        plugins: [dayGridPlugin, interactionPlugin],\n        events: selectedDisplayDates,\n        ref: calendarRef,\n        initialView: \"dayGridMonth\",\n        themeSystem: 'bootstrap',\n        nowIndicator: true,\n        dateClick: handleEventAdd,\n        eventClick: handleEventClick,\n        eventContent: customDisplay,\n        validRange: getValidRange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: \"12px\"\n        },\n        children: \"Note: Unselect a date by clicking the date again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 485,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(AddSchedule, \"1AWNZB4NzhD3FO9V1J27cHSjo9w=\");\n\n_c = AddSchedule;\nexport default AddSchedule;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddSchedule\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/CreateClass/component/AddSchedule.jsx"],"names":["React","useEffect","useState","useRef","TimezonePicker","SIZE","service","dayjs","FullCalendar","OverlayTrigger","Tooltip","dayGridPlugin","interactionPlugin","_","moment","Modal","Button","defaultSchedule","liveClassType","startDate","startTime","endDate","endTime","enrollmentStartDate","enrollmentEndDate","minLearners","maxLearners","timezone","dayAvailability","scheduleLength","availableDates","sessionNumber","TIME_OPTIONS","value","label","AddSchedule","props","modalSchedShow","setModalSchedShow","selectedDisplayDates","setSelectedDisplayDates","modalSchedErrDesc","setModalSchedErrDesc","modalSchedErrTitle","setModalSchedErrTitle","schedule","setSchedule","isChange","setIsChange","classDetails","undefined","isEdit","setIsEdit","selectedDates","setSelectedDates","calendarRef","schedules","title","selectedDayAvailability","normalizedDayAvialability","selectedEndDate","setInitialData","flattenDayAvailability","pushSchedule","sTime","eTime","timeZone","days","classTitle","classType","length","displayDatesArray","datesArray","forEach","item","dateItem","aWeekFromNow","Date","add","format","diff","temp","start","allDay","color","push","sort","onInputChange","event","target","name","parseInt","onTimeSelect","customDisplay","el","show","hide","cursor","display","alignItems","padding","overflow","flexGrow","flexShrink","minWidth","fontWeight","paddingLeft","addOrRemoveDate","datesDisplayedArray","findIndex","item2","splice","addOrRemoveToState","handleEventAdd","console","log","tempIndex","date","calendarApi","current","getApi","gotoDate","handleEventClick","getValidRange","window","$","document","on","replace","prevState","fontSize","id","compact","Select","overrides","ControlContainer","style","$theme","borderColor","borderRadius","borderWidth","backgroundColor","colors","white","minHeight","Input","InputContainer","ValueContainer","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport { TimezonePicker } from \"baseui/timezonepicker\";\nimport { SIZE } from \"baseui/input\";\nimport service from '../service';\nimport dayjs from \"dayjs\";\n\nimport FullCalendar  from \"@fullcalendar/react\";\nimport {OverlayTrigger, Tooltip} from 'react-bootstrap'\nimport dayGridPlugin from \"@fullcalendar/daygrid\";\nimport interactionPlugin from '@fullcalendar/interaction';\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { Modal, Button } from \"react-bootstrap\";\n\n\n// import Calendar from './FullCalendar';\n\n// const earliestEnrollment= dayjs().add(21, 'days').format(\"YYYY-MM-DD\");\n\nconst defaultSchedule = {\n    liveClassType: \"LCLT001\",\n    startDate: \"\",\n    startTime: \"\",\n    endDate: \"\",\n    endTime: \"\",\n    enrollmentStartDate: \"\",\n    enrollmentEndDate: \"\",\n    minLearners: \"\",\n    maxLearners: \"\",\n    timezone: \"Asia/Manila\",\n    dayAvailability: \"\",\n    scheduleLength: \"\",\n    availableDates: [],\n    sessionNumber:\"\"\n};\n\n// const DAYS_OPTIONS = [\n//     { value: \"M\", label: \"Monday\" },\n//     { value: \"T\", label: \"Tuesday\" },\n//     { value: \"W\", label: \"Wednesday\" },\n//     { value: \"H\", label: \"Thursday\" },\n//     { value: \"F\", label: \"Friday\" },\n//     { value: \"S\", label: \"Saturday\" },\n//     { value: \"U\", label: \"Sunday\" },\n// ];\n\nconst TIME_OPTIONS = [\n    { value:\"00:00\", label: \"12:00 am\" },\n    { value:\"00:15\", label: \"12:15 am\" },\n    { value:\"00:30\", label: \"12:30 am\" },\n    { value:\"00:45\", label: \"12:45 am\" },\n    { value:\"01:00\", label: \"01:00 am\" },\n    { value:\"01:15\", label: \"01:15 am\" },\n    { value:\"01:30\", label: \"01:30 am\" },\n    { value:\"01:45\", label: \"01:45 am\" },\n    { value:\"02:00\", label: \"02:00 am\" },\n    { value:\"02:15\", label: \"02:15 am\" },\n    { value:\"02:30\", label: \"02:30 am\" },\n    { value:\"02:45\", label: \"02:45 am\" },\n    { value:\"03:00\", label: \"03:00 am\" },\n    { value:\"03:15\", label: \"03:15 am\" },\n    { value:\"03:30\", label: \"03:30 am\" },\n    { value:\"03:45\", label: \"03:45 am\" },\n    { value:\"04:00\", label: \"04:00 am\" },\n    { value:\"04:15\", label: \"04:15 am\" },\n    { value:\"04:30\", label: \"04:30 am\" },\n    { value:\"04:45\", label: \"04:45 am\" },\n    { value:\"05:00\", label: \"05:00 am\" },\n    { value:\"05:15\", label: \"05:15 am\" },\n    { value:\"05:30\", label: \"05:30 am\" },\n    { value:\"05:45\", label: \"05:45 am\" },\n    { value:\"06:00\", label: \"06:00 am\" },\n    { value:\"06:15\", label: \"06:15 am\" },\n    { value:\"06:30\", label: \"06:30 am\" },\n    { value:\"06:45\", label: \"06:45 am\" },\n    { value:\"07:00\", label: \"07:00 am\" },\n    { value:\"07:15\", label: \"07:15 am\" },\n    { value:\"07:30\", label: \"07:30 am\" },\n    { value:\"07:45\", label: \"07:45 am\" },\n    { value:\"08:00\", label: \"08:00 am\" },\n    { value:\"08:15\", label: \"08:15 am\" },\n    { value:\"08:30\", label: \"08:30 am\" },\n    { value:\"08:45\", label: \"08:45 am\" },\n    { value:\"09:00\", label: \"09:00 am\" },\n    { value:\"09:15\", label: \"09:15 am\" },\n    { value:\"09:30\", label: \"09:30 am\" },\n    { value:\"09:45\", label: \"09:45 am\" },\n    { value:\"10:00\", label: \"10:00 am\" },\n    { value:\"10:15\", label: \"10:15 am\" },\n    { value:\"10:30\", label: \"10:30 am\" },\n    { value:\"10:45\", label: \"10:45 am\" },\n    { value:\"11:00\", label: \"11:00 am\" },\n    { value:\"11:15\", label: \"11:15 am\" },\n    { value:\"11:30\", label: \"11:30 am\" },\n    { value:\"11:45\", label: \"11:45 am\" },\n    { value:\"12:00\", label: \"12:00 pm\" },\n    { value:\"12:15\", label: \"12:15 pm\" },\n    { value:\"12:30\", label: \"12:30 pm\" },\n    { value:\"12:45\", label: \"12:45 pm\" },\n    { value:\"13:00\", label: \"01:00 pm\" },\n    { value:\"13:15\", label: \"01:15 pm\" },\n    { value:\"13:30\", label: \"01:30 pm\" },\n    { value:\"13:45\", label: \"01:45 pm\" },\n    { value:\"14:00\", label: \"02:00 pm\" },\n    { value:\"14:15\", label: \"02:15 pm\" },\n    { value:\"14:30\", label: \"02:30 pm\" },\n    { value:\"14:45\", label: \"02:45 pm\" },\n    { value:\"15:00\", label: \"03:00 pm\" },\n    { value:\"15:15\", label: \"03:15 pm\" },\n    { value:\"15:30\", label: \"03:30 pm\" },\n    { value:\"15:45\", label: \"03:45 pm\" },\n    { value:\"16:00\", label: \"04:00 pm\" },\n    { value:\"16:15\", label: \"04:15 pm\" },\n    { value:\"16:30\", label: \"04:30 pm\" },\n    { value:\"16:45\", label: \"04:45 pm\" },\n    { value:\"17:00\", label: \"05:00 pm\" },\n    { value:\"17:15\", label: \"05:15 pm\" },\n    { value:\"17:30\", label: \"05:30 pm\" },\n    { value:\"17:45\", label: \"05:45 pm\" },\n    { value:\"18:00\", label: \"06:00 pm\" },\n    { value:\"18:15\", label: \"06:15 pm\" },\n    { value:\"18:30\", label: \"06:30 pm\" },\n    { value:\"18:45\", label: \"06:45 pm\" },\n    { value:\"19:00\", label: \"07:00 pm\" },\n    { value:\"19:15\", label: \"07:15 pm\" },\n    { value:\"19:30\", label: \"07:30 pm\" },\n    { value:\"19:45\", label: \"07:45 pm\" },\n    { value:\"20:00\", label: \"08:00 pm\" },\n    { value:\"20:15\", label: \"08:15 pm\" },\n    { value:\"20:30\", label: \"08:30 pm\" },\n    { value:\"20:45\", label: \"08:45 pm\" },\n    { value:\"21:00\", label: \"09:00 pm\" },\n    { value:\"21:15\", label: \"09:15 pm\" },\n    { value:\"21:30\", label: \"09:30 pm\" },\n    { value:\"21:45\", label: \"09:45 pm\" },\n    { value:\"22:00\", label: \"10:00 pm\" },\n    { value:\"22:15\", label: \"10:15 pm\" },\n    { value:\"22:30\", label: \"10:30 pm\" },\n    { value:\"22:45\", label: \"10:45 pm\" },\n    { value:\"23:00\", label: \"11:00 pm\" },\n    { value:\"23:15\", label: \"11:15 pm\" },\n    { value:\"23:30\", label: \"11:30 pm\" },\n    { value:\"23:45\", label: \"11:45 pm\" }\n];\n\nfunction AddSchedule(props) {\n    const [modalSchedShow, setModalSchedShow] = useState(false);\n    const [selectedDisplayDates, setSelectedDisplayDates] = useState([]);\n    const [modalSchedErrDesc, setModalSchedErrDesc] = useState(\"\");\n    const [modalSchedErrTitle, setModalSchedErrTitle] = useState(\"\");\n    const [schedule, setSchedule] = useState(defaultSchedule);\n    const [isChange, setIsChange] = useState(props.classDetails !== undefined ? true : false);\n    const [isEdit, setIsEdit] = useState(props.classDetails !== undefined ? true : false);\n    const [selectedDates, setSelectedDates] = useState([]);\n    const calendarRef = useRef(null);\n    const { schedules, title } = props;\n\n    useEffect(() => {\n        if ((schedules && schedules !== {})) {\n            const { liveClassType, dayAvailability } = schedules;\n            const selectedDayAvailability = liveClassType === 'LCLT001' ? 'onetime' : service.normalizedDayAvialability(dayAvailability);\n            setSchedule({ \n                ...defaultSchedule, \n                ...schedules, \n                dayAvailability: selectedDayAvailability\n            });\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    useEffect(() => {\n        if (isChange) {\n            const { startDate, endDate, dayAvailability, liveClassType } = schedule;\n            const selectedEndDate = liveClassType === 'LCLT001' ? startDate : endDate;\n            const scheduleLength = `${startDate}, ${selectedEndDate}`;\n\n            if(isEdit){\n                setInitialData();\n            }\n\n            const normalizedDayAvialability = service.flattenDayAvailability(dayAvailability)\n            props.pushSchedule({\n                ...schedule, endDate: selectedEndDate,\n                scheduleLength,\n                availableDates: selectedDates,\n                dayAvailability: normalizedDayAvialability,\n            });\n            setIsChange(false);\n        }\n    })\n\n    const setInitialData = async() => {\n        const { startTime: sTime, endTime: eTime, minLearners, maxLearners, timeZone,\n            dayAvailability: days, availableDates, title: classTitle, classType } = props.classDetails;\n        const selectedDayAvailability = classType === 'LCLT001' ? 'onetime' : service.normalizedDayAvialability(days);\n        if(!!availableDates && availableDates.length > 0){\n            const displayDatesArray = []\n            const datesArray = []\n            await availableDates.forEach((item) => {\n                var dateItem = dayjs(item);\n                var aWeekFromNow = dayjs(new Date()).add(7, 'days').format(\"YYYY-MM-DD\");\n                if(dateItem.diff(aWeekFromNow, 'day') >= 0)\n                {\n                    var temp ={\n                        title: classTitle,\n                        start: dayjs(item).format(\"YYYY-MM-DD\"),\n                        allDay: true,\n                        color: \"#dc3545\"\n                    };\n                    displayDatesArray.push(temp);\n                    datesArray.push(temp.start);\n                }\n            });\n\n\n            await setSelectedDisplayDates(displayDatesArray);\n            await setSelectedDates(datesArray.sort());\n            await setSchedule({ ...schedules, availableDates: datesArray.sort()});\n            props.pushSchedule({\n                ...schedule, availableDates: datesArray.sort(),\n                sessionNumber: datesArray.length\n            });\n        }\n\n        await setSchedule({ ...schedules, classType: classType,\n            startTime: sTime ? moment(sTime, \"hh:mm A\").format(\"HH:mm\") : \"\",\n            endTime: eTime ? moment(eTime, \"hh:mm A\").format(\"HH:mm\") : \"\",\n            minLearners,\n            maxLearners,\n            // enrollmentStartDate: enrollmentStartDate ? moment(enrollmentStartDate).format('YYYY-MM-DD') : \"\",\n            // enrollmentEndDate: enrollmentEndDate ? moment(enrollmentEndDate).format('YYYY-MM-DD'): \"\",\n            timezone: timeZone || 'Asia/Manila',\n            scheduleLength: \"\",\n            dayAvailability: selectedDayAvailability,\n            sessionNumber: availableDates ? availableDates.length : null\n        });\n\n        setIsEdit(false);\n        setIsChange(true);\n    }\n\n    const onInputChange = (event) => {\n        if (event.target.name === \"sessionNumber\" || event.target.name === \"minLearners\" || event.target.name === \"maxLearners\")\n        {\n            if (event.target.name === \"sessionNumber\")\n            {\n                if (parseInt(event.target.value) > 1)\n                {\n                    setSchedule({ ...schedule, liveClassType: 'LCLT002' });\n                }\n                else if (parseInt(event.target.value) === 1)\n                {\n                    setSchedule({ ...schedule, liveClassType: 'LCLT001' });\n                }\n            }\n            setSchedule({ ...schedule, [event.target.name]: !!event.target.value ? parseInt(event.target.value) : \"\" });\n        }\n        else\n        {\n            setSchedule({ ...schedule, [event.target.name]: event.target.value });\n        }\n        setIsChange(true);\n    }\n\n    const onTimeSelect = (value, name) => {\n        setSchedule({ ...schedule, [name]: value })\n        setIsChange(true);\n    }\n\n    const customDisplay = ({ event, el }) => {\n        return (\n          <OverlayTrigger\n            placement=\"right\"\n            delay={{ show: 50, hide: 200 }}\n            overlay={<Tooltip>{event.title}</Tooltip>}\n            style={{cursor: 'pointer'}}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                padding: \"2px 0\",\n                overflow: \"hidden\",\n                cursor: 'pointer'\n              }}\n            >\n             \n              <div\n                style={{\n                  flexGrow: \"1\",\n                  flexShrink: \"1\",\n                  minWidth: \"0\",\n                  overflow: \"hidden\",\n                  fontWeight: \"bold\",\n                  paddingLeft: \"10px\",\n                }}\n              >\n                {event.title}\n              </div>\n            </div>\n          </OverlayTrigger>\n        );\n      };\n\n\n      const addOrRemoveDate = (item) => {\n        let datesDisplayedArray = [...selectedDisplayDates];\n        var temp = _.findIndex(datesDisplayedArray, (item2)=>{\n            return datesDisplayedArray.length > 0 && dayjs(item2.start).format(\"MM-DD-YYYY\") === dayjs(item.start).format(\"MM-DD-YYYY\");\n        });\n      \n        if (temp > -1){\n            datesDisplayedArray.splice(temp, 1);\n        }\n        else{\n            datesDisplayedArray.push(item);}\n\n        \n        addOrRemoveToState(item.start);\n        setSelectedDisplayDates(datesDisplayedArray);\n      }\n\n     const addOrRemoveToState = (item) =>{\n        let datesArray = [...selectedDates];\n        let temp = _.findIndex(datesArray, (item2)=>{\n            return datesArray.length > 0 && dayjs(item2).format(\"MM-DD-YYYY\") === dayjs(item).format(\"MM-DD-YYYY\");\n        });\n\n        if (temp > -1)\n        {\n            datesArray.splice(temp, 1);\n        }\n        else{\n            datesArray.push(item);\n        }\n        setSelectedDates(datesArray.sort());\n        \n     }\n\n    const handleEventAdd = (event) =>{\n        console.log(\"Session Number\", schedule.sessionNumber);\n\n        if (!schedule.sessionNumber || schedule.sessionNumber === \"\" || schedule.sessionNumber === null || schedule.sessionNumber === \"0\" || schedule.sessionNumber === 0)\n        {\n                //change message here\n                setModalSchedErrTitle(\"Oh no!\");\n                setModalSchedErrDesc(\"You have not set the number of sessions for this class\");\n                setModalSchedShow(true);\n\n        }\n        // else if (!schedule.enrollmentEndDate || schedule.enrollmentEndDate === \"\"){\n        //     setModalSchedErrTitle(\"Oh no!\");\n        //     setModalSchedErrDesc(\"You have not yet set enrollment date for this class\");\n        //     setModalSchedShow(true);\n        // }\n        else\n        {\n            const tempIndex = _.findIndex(selectedDates, (item)=>{\n                return item === dayjs(event.date).format(\"YYYY-MM-DD\");\n            });\n            if (selectedDates.length < schedule.sessionNumber || tempIndex > -1)\n            {\n                var temp ={\n                    title: title,\n                    start: dayjs(event.date).format(\"YYYY-MM-DD\"),\n                    allDay: true,\n                    color: \"#dc3545\"};\n                addOrRemoveDate(temp);\n            \n                // compare (dates)\n                const calendarApi = calendarRef.current.getApi();\n                calendarApi.gotoDate(event.date);\n        \n                setSchedule({ ...schedule, availableDates: selectedDates });\n                setIsChange(true);\n            }\n            else\n            {\n                // show modal\n                //change message here\n                setModalSchedErrTitle(\"Oh no!\");\n                setModalSchedErrDesc(\"You have reached the number of sessions for this class\");\n                setModalSchedShow(true);\n            }\n        }\n        \n    };\n\n    const handleEventClick=(event)=>{\n        console.log(\"Session Number\", schedule.sessionNumber);\n        if (!schedule.sessionNumber || schedule.sessionNumber === \"\" || schedule.sessionNumber === null || schedule.sessionNumber === \"0\" || schedule.sessionNumber === 0)\n        {\n                //change message here\n                setModalSchedErrTitle(\"Oh no!\");\n                setModalSchedErrDesc(\"You have not set the number of sessions for this class\");\n                setModalSchedShow(true);\n\n        }\n        // else if (!schedule.enrollmentEndDate || schedule.enrollmentEndDate === \"\"){\n        //     setModalSchedErrTitle(\"Oh no!\");\n        //     setModalSchedErrDesc(\"You have not yet set enrollment date for this class\");\n        //     setModalSchedShow(true);\n        // }\n        else\n        {\n            const tempIndex = _.findIndex(selectedDates, (item)=>{\n                return item === dayjs(event.event.start).format(\"YYYY-MM-DD\");\n            });\n            if (selectedDates.length < schedule.sessionNumber || tempIndex > -1)\n            {\n                var temp ={\n                    title: title,\n                    start: dayjs(event.event.start).format(\"YYYY-MM-DD\"),\n                    allDay: true,\n                    color: \"#dc3545\"};\n                addOrRemoveDate(temp);\n            \n                // compare (dates)\n                const calendarApi = calendarRef.current.getApi();\n                calendarApi.gotoDate(event.date);\n        \n                setSchedule({ ...schedule, availableDates: selectedDates });\n                setIsChange(true);\n            }\n            else\n            {\n                // show modal\n                //change message here\n                setModalSchedErrTitle(\"Oh no!\");\n                setModalSchedErrDesc(\"You have reached the number of sessions for this class\");\n                setModalSchedShow(true);\n            }\n        }\n    };\n\n    \n    const getValidRange = (date) =>{\n        return {start: dayjs(date).add(7, 'days').format(\"YYYY-MM-DD\")};\n\n        // return {start: dayjs(schedule.enrollmentEndDate).add(1, 'days').format(\"YYYY-MM-DD\")};\n    };\n\n    window.$(document).on(\"input\", \".sessionNumber\", function() {\n        this.value = this.value.replace(/\\D/g,'');\n        if (this.value === '0')\n        {\n            this.value = 1;\n            setSchedule(prevState => ({...prevState, sessionNumber: 36}));\n        }\n        if (this.value > 36)\n        {\n            this.value = 36;\n            setSchedule(prevState => ({...prevState, sessionNumber: 36}));\n        }\n        // this.value = this.value === '0' ? 1 : this.value;\n    });\n\n    window.$(document).on(\"input\", \".number2\", function() {\n        this.value = this.value.replace(/\\D/g,'');\n    });\n\n    return (\n        <>\n            <Modal\n                size=\"m\"\n                show={modalSchedShow}\n                backdrop=\"static\"\n                keyboard={false}\n                onHide={() => setModalSchedShow(false)}\n                >\n                <Modal.Header closeButton>\n                    <Modal.Title>{modalSchedErrTitle}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {modalSchedErrDesc}\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"primary\" onClick={() => setModalSchedShow(false)}>\n                    Ok\n                    </Button>\n                </Modal.Footer>\n                </Modal>\n            <div>\n                <div className=\"row mt-4\">\n                    <div className=\"col-12\">\n                        {/* <div className=\"form-group row\">\n                            <div className=\"col-md-6\">\n                            <label className=\"lms-input-label\" htmlFor=\"enrollmentStartDate\">\n                                Enrollment Start Date\n                            </label>\n                            <input\n                                type=\"date\"\n                                className=\"form-control\"\n                                id=\"enrollmentStartDate\"\n                                name=\"enrollmentStartDate\"\n                                placeholder=\"Enrollment Date\"\n                                onChange={onInputChange}\n                                onKeyDown={(e) => e.preventDefault()}\n                                value={schedule.enrollmentStartDate}\n                                min={earliestEnrollment}\n                            />\n                            </div>\n                            <div className=\"col-md-6\">\n                            <label className=\"lms-input-label\" htmlFor=\"enrollmentEndDate\">\n                                Enrollment End Date\n                            </label>\n                            <input\n                                type=\"date\"\n                                className=\"form-control\"\n                                id=\"enrollmentEndDate\"\n                                name=\"enrollmentEndDate\"\n                                placeholder=\"Enrollment Date\"\n                                onChange={onInputChange}\n                                onKeyDown={(e) => e.preventDefault()}\n                                value={schedule.enrollmentEndDate}\n                                disabled={!schedule.enrollmentStartDate || schedule.enrollmentStartDate === \"\"}\n                                min={dayjs(schedule.enrollmentStartDate).add(1, 'days').format(\"YYYY-MM-DD\")}\n                            />\n                            </div>\n                        </div> */}\n\n                        <div className=\"form-group row\">\n                            <div className=\"col-md-6\">\n                                <label className=\"lms-input-sublabel\">Number of Sessions</label>\n                                <input\n                                    type=\"number\"\n                                    className=\"form-control sessionNumber\"\n                                    min=\"1\"\n                                    max=\"9\"\n                                    pattern=\"[0-9]{1}\"\n                                    name=\"sessionNumber\"\n                                    defaultValue={schedule.sessionNumber}\n                                    onInput={onInputChange}\n                                />\n                                <div style={{fontSize: \"12px\"}}>\n                                    Note: The minimum number of sessions is 1 and the maximum is 36\n                                </div>\n                            </div>\n                            <div className=\"col-md-6\">\n                                <label className=\"lms-input-sublabel\">Timezone</label>\n                                <TimezonePicker\n                                    value={schedule.timezone}\n                                    onChange={({ id }) => onTimeSelect(id, 'timezone')}\n                                    size={SIZE.compact}\n                                    overrides={{\n                                        Select: {\n                                            props: {\n                                                overrides: {\n                                                    ControlContainer:{\n                                                        style: ({ $theme }) => ({\n                                                            borderColor: `#ced4da!important`,\n                                                            borderRadius: `0.25em!important`,\n                                                            borderWidth: `thin!important`,\n                                                            backgroundColor: $theme.colors.white,\n                                                            minHeight: `38px`\n                                                          }),\n                                                    },\n                                                    Input:{\n                                                        style: ({ $theme }) => ({\n                                                            cursor:`text`\n                                                        })\n                                                    },\n                                                    InputContainer:{\n                                                        style: ({ $theme }) => ({\n                                                            cursor:`text`\n                                                        })\n                                                    },\n                                                    ValueContainer:{\n                                                        style: ({ $theme }) => ({\n                                                            cursor:`pointer`\n                                                        })\n                                                    }\n                                                },\n                                            },\n                                        },\n                                    }}\n                                />\n                            </div>\n                        </div>\n                        <div className=\"form-group row\">\n                            <div className=\"col-md-6\">\n                                <label className=\"lms-input-sublabel\">Minimum learners</label>\n                                <input\n                                    type=\"number\"\n                                    min=\"0\"\n                                    className=\"form-control number2\"\n                                    name=\"minLearners\"\n                                    defaultValue={schedule.minLearners}\n                                    onInput={onInputChange}\n                                />\n                            </div>\n                            <div className=\"col-md-6\">\n                                <label className=\"lms-input-sublabel\">Maximum learners</label>\n                                <input\n                                    type=\"number\"\n                                    min=\"0\"\n                                    className=\"form-control number2\"\n                                    name=\"maxLearners\"\n                                    defaultValue={schedule.maxLearners}\n                                    onInput={onInputChange}\n                                />\n                            </div>\n                        </div>\n                        \n                    </div>    \n                </div>\n\n                <div className=\"row mt-4\">\n                    <div className=\"col-12\">\n                        <div className=\"form-group row\">\n                            <div className=\"col-md-6\">\n                                <label className=\"lms-input-sublabel mr-4\" forHtml=\"startTime\">Start Time</label>\n                                <select\n                                    name=\"startTime\"\n                                    id=\"startTime\"\n                                    value={schedule.startTime}\n                                    className=\"custom-select lms-portal-select\"\n                                    classNamePrefix=\"select\"\n                                    onChange={onInputChange}\n                                >\n                                    <option value=\"\"></option>\n                                    {TIME_OPTIONS.map((item)=>{\n                                        return (\n                                            <option value={item.value}>{item.label}</option>\n                                        )\n                                    })}\n                                </select>\n                            </div>\n                            <div className=\"col-md-6\">\n                                <label className=\"lms-input-sublabel mr-4\">End Time</label>\n                                <select\n                                    name=\"endTime\"\n                                    id=\"endTime\"\n                                    value={schedule.endTime}\n                                    className=\"custom-select lms-portal-select\"\n                                    classNamePrefix=\"select\"\n                                    onChange={onInputChange}\n                                >\n                                    <option value=\"\"></option>\n\n                                    {TIME_OPTIONS.map((item)=>{\n                                      return  (\n                                            <option value={item.value}>{item.label}</option>\n                                        )\n                                    })}\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n                    \n                </div>\n\n                <br></br>\n                <div>\n                    Please select the preferred dates for your class session/s\n                </div>\n                <div>\n                    Selected days: <b>{selectedDates.length || 0}</b>\n                </div>\n                <FullCalendar\n                    height={700}\n                    aspectRatio={1.95}\n                    plugins={[dayGridPlugin, interactionPlugin]}\n                    events={selectedDisplayDates}\n                    ref={calendarRef}\n                    initialView=\"dayGridMonth\"\n                    themeSystem={'bootstrap'}\n                    nowIndicator={true}\n                    dateClick={handleEventAdd}\n                    eventClick={handleEventClick}\n                    eventContent={customDisplay}\n                    validRange={getValidRange} />\n                <div style={{fontSize: \"12px\"}}>\n                    Note: Unselect a date by clicking the date again.\n                </div>\n            </div>\n\n            \n        </>\n    );\n}\n\nexport default AddSchedule;"]},"metadata":{},"sourceType":"module"}