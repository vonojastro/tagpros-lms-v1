{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/TeacherFeaturedVideos/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { getAllClassRecordings, saveSelectedClassRecordings, getAllSelectedVideosByTeacher } from \"api/teacher\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from 'react-toastify';\nimport ReactPlayer from 'react-player';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Entities = require('html-entities').XmlEntities;\n\nconst he = new Entities();\nexport default function TeacherFeaturedVideos() {\n  _s();\n\n  const dispatch = useDispatch();\n  const [loadPage, setLoadPage] = useState(false);\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [errorList, setErrorList] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n  const [videoPreview, setVideoPreview] = useState({});\n  const [selectedVideosClone, setSelectedVideosClone] = useState({});\n  const recordedClasses = useSelector(state => state.teacher ? state.teacher.getIn(['recordedClasses', 'recorded']) : []);\n  const selectedVideos = useSelector(state => state.teacher ? state.teacher.getIn(['recordedClasses', 'featured']) : []);\n\n  const loadData = async () => {\n    setErrorList(false);\n    setSubmitLoading(false);\n    setLoadPage(true);\n    await getAllClassRecordings(dispatch, async response => {\n      if (response === false) {\n        await setErrorList(true);\n        toast.error(\"Oh no! Something went wrong. Please try again.\");\n        setLoadPage(false);\n      } else {\n        await getAllSelectedVideosByTeacher(dispatch, async (response, data) => {\n          if (response === false) {\n            await setErrorList(true);\n            toast.error(\"Oh no! Something went wrong. Please try again.\");\n          } else {\n            await setErrorList(false);\n            setSelectedVideosClone(JSON.parse(JSON.stringify(data)));\n          }\n\n          setLoadPage(false);\n        });\n      }\n    });\n  };\n\n  const getTotalVideos = () => {\n    let count = 0;\n\n    if (recordedClasses.length > 0) {\n      recordedClasses.map(item => {\n        if (!!item['RECORDINGS'] && item['RECORDINGS'].length > 0) {\n          count += item['RECORDINGS'].length;\n        }\n\n        return item;\n      });\n    }\n\n    return count;\n  };\n\n  const getFeaturedVideos = () => {\n    if (selectedVideos.length > 0) return selectedVideos.length;\n    return 0;\n  };\n\n  const submitButton = () => {\n    if (selectedVideosClone.length > 5) {\n      toast.error('You have selected more than 5 videos.');\n    } else {\n      setSubmitLoading(true);\n      saveSelectedClassRecordings(dispatch, {\n        selectedVideos: selectedVideosClone\n      }, status => {\n        if (status) {\n          toast.success('Successfully saved featured videos.');\n          setEditMode(false);\n          loadData();\n        } else {\n          toast.error('Failed saving featured videos. Please try again later.');\n        }\n\n        setSubmitLoading(false);\n      });\n    }\n  };\n\n  const handleVideoClick = (sessionNum, title, videoLink) => {\n    setVideoPreview({\n      sessionNum,\n      title,\n      videoLink\n    });\n  };\n\n  const onClose = () => {\n    document.getElementById(\"modal-close\").click();\n    setVideoPreview({\n      sessionNum: \"\",\n      title: \"\",\n      videoLink: \"\"\n    });\n  };\n\n  const checkChange = async (event, recordItem) => {\n    const recordItemVideoName = recordItem['fileName'] || recordItem['VIDEO_NAME'];\n    let clone = [...selectedVideosClone];\n    let index = clone.findIndex(item => {\n      const itemVideo = item['fileName'] || item['VIDEO_NAME'];\n      return itemVideo === recordItemVideoName;\n    });\n\n    if (index > -1) {\n      clone.splice(index, 1);\n      setSelectedVideosClone(clone);\n    } else {\n      clone.push(recordItem);\n      setSelectedVideosClone(clone);\n    }\n\n    console.log(\"clone\", clone);\n    console.log(\"selectedVideosClone\", selectedVideosClone);\n  };\n\n  const cancelButtonClick = async () => {\n    console.log(selectedVideos);\n    setSelectedVideosClone([...selectedVideos]);\n    await setEditMode(false);\n  };\n\n  const editButtonClick = async () => {\n    setSelectedVideosClone([...selectedVideos]);\n    await setEditMode(true);\n  };\n\n  const isVideoSelected = recordItem => {\n    return selectedVideosClone.findIndex(video => {\n      const recordItemVideoName = recordItem['fileName'] || recordItem['VIDEO_NAME'];\n      const videoName = video['fileName'] || video['VIDEO_NAME'];\n      return recordItemVideoName === videoName;\n    }) > -1;\n  };\n\n  useEffect(() => {\n    loadData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"left-aside bg-light-part col-3\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-style-none\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"box-label\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      style: {\n                        pointerEvents: 'none'\n                      },\n                      href: \"#!\",\n                      onClick: event => {\n                        event.stopPropagation();\n                        return false;\n                      },\n                      children: [\"Total Videos \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: getTotalVideos()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 165,\n                        columnNumber: 62\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"box-label\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      style: {\n                        pointerEvents: 'none'\n                      },\n                      href: \"#!\",\n                      onClick: event => {\n                        event.stopPropagation();\n                        return false;\n                      },\n                      children: [\"Featured Videos \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: getFeaturedVideos()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 170,\n                        columnNumber: 65\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 169,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 34\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"right-aside col\",\n                style: {\n                  marginLeft: '0px !important',\n                  overflowY: \"auto\"\n                },\n                children: [loadPage === true && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center data-loading\",\n                  style: {\n                    display: loadPage ? 'block' : 'none'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"spinner-border text-primary\",\n                    role: \"status\",\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"sr-only\",\n                      children: \"Loading...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 180,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 41\n                }, this), loadPage === false && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [errorList === true && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"column d-flex justify-content-center\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-center no-data error\",\n                      children: [\"There was an error loading the data.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 189,\n                        columnNumber: 93\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"btn btn-link\",\n                        onClick: () => loadData(),\n                        children: \"Reload\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 190,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 188,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 49\n                  }, this), errorList === false && /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: getTotalVideos() === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"column d-flex justify-content-center\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center no-data error\",\n                        children: [\"It seems you have no recorded videos yet.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 199,\n                          columnNumber: 106\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 198,\n                        columnNumber: 61\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 197,\n                      columnNumber: 57\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row d-flex justify-content-end\",\n                        children: editMode === false ? /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-primary\",\n                          name: \"editButton\",\n                          type: \"button\",\n                          onClick: () => editButtonClick(),\n                          children: \"Edit Featured Videos\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 207,\n                          columnNumber: 67\n                        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"btn btn-danger\",\n                            style: {\n                              marginRight: '12px'\n                            },\n                            name: \"cancelEdit\",\n                            type: \"button\",\n                            onClick: () => cancelButtonClick(),\n                            children: \"Cancel\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 209,\n                            columnNumber: 69\n                          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                            className: \"btn btn-primary\",\n                            name: \"saveButton\",\n                            type: \"button\",\n                            onClick: () => submitButton(),\n                            disabled: submitLoading,\n                            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                              style: {\n                                display: submitLoading ? 'inline-block' : 'none'\n                              },\n                              class: \"spinner-border spinner-border-sm btn-load\",\n                              role: \"status\",\n                              \"aria-hidden\": \"true\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 211,\n                              columnNumber: 73\n                            }, this), \"Save Featured Videos\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 210,\n                            columnNumber: 69\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 208,\n                          columnNumber: 67\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 205,\n                        columnNumber: 57\n                      }, this), editMode === false && !!selectedVideos && selectedVideos.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"column d-flex justify-content-center\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-center no-data error\",\n                          children: [\"No featured videos selected\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 220,\n                            columnNumber: 96\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 219,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 218,\n                        columnNumber: 61\n                      }, this), editMode === false && !!selectedVideos && selectedVideos.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"row row-cols-2 m-2\",\n                          children: selectedVideos.map((selectedItem, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"p-2\",\n                            children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n                              className: \"fieldset-border\",\n                              children: [/*#__PURE__*/_jsxDEV(\"legend\", {\n                                className: \"fieldset-border mb-0\",\n                                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                                  children: [\"Featured Video \", idx + 1]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 232,\n                                  columnNumber: 118\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 232,\n                                columnNumber: 77\n                              }, this), /*#__PURE__*/_jsxDEV(ReactPlayer, {\n                                url: selectedItem.VIDEO_LINK,\n                                controls: true,\n                                width: '100%',\n                                height: '100%'\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 233,\n                                columnNumber: 77\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 231,\n                              columnNumber: 73\n                            }, this)\n                          }, idx, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 230,\n                            columnNumber: 69\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 228,\n                          columnNumber: 65\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 227,\n                        columnNumber: 61\n                      }, this), editMode === true && !!recordedClasses && recordedClasses.length > 0 && recordedClasses.map((recordedClassItem, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [!!recordedClassItem.RECORDINGS && recordedClassItem.RECORDINGS.length > 0 && /*#__PURE__*/_jsxDEV(\"h3\", {\n                          children: he.decode(recordedClassItem.TITLE)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 246,\n                          columnNumber: 147\n                        }, this), !!recordedClassItem.RECORDINGS && recordedClassItem.RECORDINGS.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"row m-2 d-flex flex-row\",\n                            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                              className: \"list-group list-group-flush w-100 p-2\",\n                              children: recordedClassItem.RECORDINGS.map((recordItem, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                                className: \"list-group-item d-flex flex-row\",\n                                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"checkbox checkbox-info mr-2\",\n                                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                                    id: `check-${index}`,\n                                    name: `check-${index}`,\n                                    type: \"checkbox\",\n                                    onClick: event => checkChange(event, recordItem, index),\n                                    checked: isVideoSelected(recordItem)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 253,\n                                    columnNumber: 85\n                                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                                    className: \"mb-0\",\n                                    htmlFor: `check-${index}`,\n                                    children: [\"Session \", index + 1]\n                                  }, void 0, true, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 254,\n                                    columnNumber: 85\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 252,\n                                  columnNumber: 81\n                                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                                  className: \"ml-auto\",\n                                  role: \"button\",\n                                  \"data-target\": \"#videoModal\",\n                                  \"data-toggle\": \"modal\",\n                                  \"data-original-title\": \"View\",\n                                  onClick: event => {\n                                    handleVideoClick(index + 1, recordedClassItem.TITLE, recordItem.link);\n                                    event.preventDefault();\n                                  },\n                                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                                    href: \"#!\",\n                                    onClick: () => {\n                                      return false;\n                                    },\n                                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                      className: \"fas fa-play\",\n                                      style: {\n                                        fontSize: '18px'\n                                      }\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 263,\n                                      columnNumber: 89\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 262,\n                                    columnNumber: 85\n                                  }, this)\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 256,\n                                  columnNumber: 81\n                                }, this)]\n                              }, index, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 251,\n                                columnNumber: 77\n                              }, this) // {[1,2,3,4,5,6,7,8].map((item, index) => (\n                              // <div key={index} className=\"p-2\">\n                              //     <fieldset className=\"fieldset-border\">\n                              //         <legend className=\"fieldset-border mb-0\"><b>Session {index+1}</b></legend>\n                              //         <div className=\"row d-flex justify-content-end\" style={{display: editMode === true ? 'auto': 'none'}}>\n                              //             <div className=\"checkbox checkbox-info mr-2\">\n                              //                 <input id={`check-${index}`} name={`check-${index}`} type=\"checkbox\" onClick={(event)=>checkChange(event, recordItem, index)} checked={isVideoSelected(recordItem)}/>\n                              //                 <label className=\"mb-0\" htmlFor={`check-${index}`}></label>\n                              //             </div>\n                              //         </div>\n                              //         <img className={!editMode ? 'mt-2': ''} role=\"button\" \n                              //             data-target=\"#videoModal\"\n                              //             data-toggle=\"modal\"\n                              //             data-original-title=\"View\"\n                              //             src=\"/img/Jitsi-Virtual-Meeting.png\" \n                              //             onClick={() => handleVideoClick((index+1), recordedClassItem.TITLE, recordItem.link)}\n                              //             alt={`Session ${index+1}`} \n                              //             width={'100%'} height={'100%'}/>\n                              //     </fieldset>   \n                              // </div>\n                              )\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 249,\n                              columnNumber: 77\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 248,\n                            columnNumber: 73\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 247,\n                          columnNumber: 147\n                        }, this), !!recordedClassItem.RECORDINGS && recordedClassItem.RECORDINGS.length > 0 && idx !== recordedClassItem.RECORDINGS.length - 1 && /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 294,\n                          columnNumber: 191\n                        }, this)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 245,\n                        columnNumber: 61\n                      }, this))]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 204,\n                      columnNumber: 53\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal\",\n                id: \"videoModal\",\n                tabIndex: -1,\n                \"aria-labelledby\": \"videoModal\",\n                \"aria-hidden\": \"true\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-dialog modal-lg\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"modal-content\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal-header\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"modal-title\",\n                        id: \"exampleModalLabel\",\n                        children: [he.decode(videoPreview.title), /*#__PURE__*/_jsxDEV(\"small\", {\n                          style: {\n                            display: 'block'\n                          },\n                          children: [\"Session \", videoPreview.sessionNum]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 318,\n                          columnNumber: 53\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 316,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        type: \"button\",\n                        className: \"close\",\n                        \"data-dismiss\": \"modal\",\n                        \"aria-label\": \"Close\",\n                        onClick: () => onClose(),\n                        children: /*#__PURE__*/_jsxDEV(\"span\", {\n                          \"aria-hidden\": \"true\",\n                          children: \"\\xD7\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 327,\n                          columnNumber: 49\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 315,\n                      columnNumber: 45\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"modal-body\",\n                      children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n                        url: videoPreview.videoLink,\n                        controls: true,\n                        width: '100%',\n                        height: '100%'\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 331,\n                        columnNumber: 49\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 330,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 314,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 9\n  }, this);\n}\n\n_s(TeacherFeaturedVideos, \"x++JsP6+aNbKn3lRfLT/ZPzsMA8=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = TeacherFeaturedVideos;\n\nvar _c;\n\n$RefreshReg$(_c, \"TeacherFeaturedVideos\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/TeacherFeaturedVideos/index.jsx"],"names":["React","Fragment","useEffect","useState","getAllClassRecordings","saveSelectedClassRecordings","getAllSelectedVideosByTeacher","useDispatch","useSelector","toast","ReactPlayer","Entities","require","XmlEntities","he","TeacherFeaturedVideos","dispatch","loadPage","setLoadPage","submitLoading","setSubmitLoading","errorList","setErrorList","editMode","setEditMode","videoPreview","setVideoPreview","selectedVideosClone","setSelectedVideosClone","recordedClasses","state","teacher","getIn","selectedVideos","loadData","response","error","data","JSON","parse","stringify","getTotalVideos","count","length","map","item","getFeaturedVideos","submitButton","status","success","handleVideoClick","sessionNum","title","videoLink","onClose","document","getElementById","click","checkChange","event","recordItem","recordItemVideoName","clone","index","findIndex","itemVideo","splice","push","console","log","cancelButtonClick","editButtonClick","isVideoSelected","video","videoName","pointerEvents","stopPropagation","marginLeft","overflowY","display","marginRight","selectedItem","idx","VIDEO_LINK","recordedClassItem","RECORDINGS","decode","TITLE","link","preventDefault","fontSize"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,QAApC,QAAmD,OAAnD;AACA,SAASC,qBAAT,EAAgCC,2BAAhC,EAA6DC,6BAA7D,QAAkG,aAAlG;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,OAAOC,WAAP,MAAwB,cAAxB;;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,eAAD,CAAP,CAAyBC,WAA1C;;AACA,MAAMC,EAAE,GAAG,IAAIH,QAAJ,EAAX;AAEA,eAAe,SAASI,qBAAT,GAAgC;AAAA;;AAC3C,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACgB,aAAD,EAAgBC,gBAAhB,IAAoCjB,QAAQ,CAAC,KAAD,CAAlD;AACA,QAAM,CAACkB,SAAD,EAAYC,YAAZ,IAA4BnB,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACoB,QAAD,EAAWC,WAAX,IAA0BrB,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACsB,YAAD,EAAeC,eAAf,IAAkCvB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACwB,mBAAD,EAAsBC,sBAAtB,IAAgDzB,QAAQ,CAAC,EAAD,CAA9D;AAEA,QAAM0B,eAAe,GAAGrB,WAAW,CAAEsB,KAAD,IAAWA,KAAK,CAACC,OAAN,GAAgBD,KAAK,CAACC,OAAN,CAAcC,KAAd,CAAoB,CAAC,iBAAD,EAAoB,UAApB,CAApB,CAAhB,GAAuE,EAAnF,CAAnC;AACA,QAAMC,cAAc,GAAGzB,WAAW,CAAEsB,KAAD,IAAWA,KAAK,CAACC,OAAN,GAAgBD,KAAK,CAACC,OAAN,CAAcC,KAAd,CAAoB,CAAC,iBAAD,EAAoB,UAApB,CAApB,CAAhB,GAAuE,EAAnF,CAAlC;;AAEA,QAAME,QAAQ,GAAG,YAAU;AACvBZ,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAF,IAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACAF,IAAAA,WAAW,CAAC,IAAD,CAAX;AACA,UAAMd,qBAAqB,CAACY,QAAD,EAAW,MAAOmB,QAAP,IAAkB;AACpD,UAAIA,QAAQ,KAAK,KAAjB,EACA;AACI,cAAMb,YAAY,CAAC,IAAD,CAAlB;AACAb,QAAAA,KAAK,CAAC2B,KAAN,CAAY,gDAAZ;AACAlB,QAAAA,WAAW,CAAC,KAAD,CAAX;AACH,OALD,MAOA;AACI,cAAMZ,6BAA6B,CAACU,QAAD,EAAW,OAAMmB,QAAN,EAAgBE,IAAhB,KAAuB;AACjE,cAAIF,QAAQ,KAAK,KAAjB,EACA;AACI,kBAAMb,YAAY,CAAC,IAAD,CAAlB;AACAb,YAAAA,KAAK,CAAC2B,KAAN,CAAY,gDAAZ;AACH,WAJD,MAMA;AACI,kBAAMd,YAAY,CAAC,KAAD,CAAlB;AACAM,YAAAA,sBAAsB,CAACU,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,IAAf,CAAX,CAAD,CAAtB;AACH;;AACDnB,UAAAA,WAAW,CAAC,KAAD,CAAX;AACH,SAZkC,CAAnC;AAaH;AACJ,KAvB0B,CAA3B;AAwBH,GA5BD;;AA8BA,QAAMuB,cAAc,GAAG,MAAK;AACxB,QAAIC,KAAK,GAAG,CAAZ;;AACA,QAAIb,eAAe,CAACc,MAAhB,GAAyB,CAA7B,EACA;AACId,MAAAA,eAAe,CAACe,GAAhB,CAAqBC,IAAD,IAAQ;AACxB,YAAG,CAAC,CAACA,IAAI,CAAC,YAAD,CAAN,IAAwBA,IAAI,CAAC,YAAD,CAAJ,CAAmBF,MAAnB,GAA4B,CAAvD,EACA;AACID,UAAAA,KAAK,IAAIG,IAAI,CAAC,YAAD,CAAJ,CAAmBF,MAA5B;AACH;;AACD,eAAOE,IAAP;AACH,OAND;AAOH;;AAGD,WAAOH,KAAP;AACH,GAfD;;AAiBA,QAAMI,iBAAiB,GAAG,MAAI;AAC1B,QAAIb,cAAc,CAACU,MAAf,GAAwB,CAA5B,EACI,OAAOV,cAAc,CAACU,MAAtB;AACJ,WAAO,CAAP;AACH,GAJD;;AAMA,QAAMI,YAAY,GAAG,MAAK;AACtB,QAAGpB,mBAAmB,CAACgB,MAApB,GAA6B,CAAhC,EACA;AACIlC,MAAAA,KAAK,CAAC2B,KAAN,CAAY,uCAAZ;AACH,KAHD,MAKA;AACIhB,MAAAA,gBAAgB,CAAC,IAAD,CAAhB;AACAf,MAAAA,2BAA2B,CAACW,QAAD,EAAW;AAACiB,QAAAA,cAAc,EAAEN;AAAjB,OAAX,EAAmDqB,MAAD,IAAY;AACrF,YAAGA,MAAH,EAAU;AACNvC,UAAAA,KAAK,CAACwC,OAAN,CAAc,qCAAd;AACAzB,UAAAA,WAAW,CAAC,KAAD,CAAX;AACAU,UAAAA,QAAQ;AACX,SAJD,MAIK;AACDzB,UAAAA,KAAK,CAAC2B,KAAN,CAAY,wDAAZ;AACH;;AAEDhB,QAAAA,gBAAgB,CAAC,KAAD,CAAhB;AACH,OAV0B,CAA3B;AAWH;AACJ,GApBD;;AAsBA,QAAM8B,gBAAgB,GAAG,CAACC,UAAD,EAAaC,KAAb,EAAoBC,SAApB,KAAkC;AACvD3B,IAAAA,eAAe,CAAC;AAACyB,MAAAA,UAAD;AAAaC,MAAAA,KAAb;AAAoBC,MAAAA;AAApB,KAAD,CAAf;AACH,GAFD;;AAIA,QAAMC,OAAO,GAAG,MAAM;AAClBC,IAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,KAAvC;AACA/B,IAAAA,eAAe,CAAC;AAACyB,MAAAA,UAAU,EAAE,EAAb;AAAiBC,MAAAA,KAAK,EAAE,EAAxB;AAA4BC,MAAAA,SAAS,EAAE;AAAvC,KAAD,CAAf;AACH,GAHD;;AAKA,QAAMK,WAAW,GAAG,OAAOC,KAAP,EAAcC,UAAd,KAA4B;AAC5C,UAAMC,mBAAmB,GAAGD,UAAU,CAAC,UAAD,CAAV,IAA0BA,UAAU,CAAC,YAAD,CAAhE;AACA,QAAIE,KAAK,GAAG,CAAC,GAAGnC,mBAAJ,CAAZ;AACA,QAAIoC,KAAK,GAAGD,KAAK,CAACE,SAAN,CAAiBnB,IAAD,IAAU;AAClC,YAAMoB,SAAS,GAAGpB,IAAI,CAAC,UAAD,CAAJ,IAAoBA,IAAI,CAAC,YAAD,CAA1C;AACA,aAAOoB,SAAS,KAAKJ,mBAArB;AACH,KAHW,CAAZ;;AAKA,QAAIE,KAAK,GAAG,CAAC,CAAb,EACA;AACID,MAAAA,KAAK,CAACI,MAAN,CAAaH,KAAb,EAAoB,CAApB;AACAnC,MAAAA,sBAAsB,CAACkC,KAAD,CAAtB;AACH,KAJD,MAMA;AACIA,MAAAA,KAAK,CAACK,IAAN,CAAWP,UAAX;AACAhC,MAAAA,sBAAsB,CAACkC,KAAD,CAAtB;AACH;;AAEDM,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBP,KAArB;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmC1C,mBAAnC;AACH,GArBD;;AAuBA,QAAM2C,iBAAiB,GAAG,YAAU;AAChCF,IAAAA,OAAO,CAACC,GAAR,CAAYpC,cAAZ;AACAL,IAAAA,sBAAsB,CAAC,CAAC,GAAGK,cAAJ,CAAD,CAAtB;AACA,UAAMT,WAAW,CAAC,KAAD,CAAjB;AACH,GAJD;;AAMA,QAAM+C,eAAe,GAAG,YAAU;AAC9B3C,IAAAA,sBAAsB,CAAC,CAAC,GAAGK,cAAJ,CAAD,CAAtB;AACA,UAAMT,WAAW,CAAC,IAAD,CAAjB;AACH,GAHD;;AAKA,QAAMgD,eAAe,GAAIZ,UAAD,IAAgB;AACpC,WAAOjC,mBAAmB,CAACqC,SAApB,CAA+BS,KAAD,IAAS;AAC1C,YAAMZ,mBAAmB,GAAGD,UAAU,CAAC,UAAD,CAAV,IAA0BA,UAAU,CAAC,YAAD,CAAhE;AACA,YAAMc,SAAS,GAAGD,KAAK,CAAC,UAAD,CAAL,IAAqBA,KAAK,CAAC,YAAD,CAA5C;AACA,aAAOZ,mBAAmB,KAAKa,SAA/B;AACH,KAJM,IAIF,CAAC,CAJN;AAKH,GAND;;AAQAxE,EAAAA,SAAS,CAAC,MAAM;AACZgC,IAAAA,QAAQ,GADI,CAEX;AACJ,GAHQ,EAGN,EAHM,CAAT;AAKA,sBACI,QAAC,QAAD;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,mCAEI;AAAK,cAAA,SAAS,EAAC,KAAf;AAAA,sCAEK;AAAK,gBAAA,SAAS,EAAC,gCAAf;AAAA,uCACG;AAAI,kBAAA,SAAS,EAAC,iBAAd;AAAA,0CACI;AAAI,oBAAA,SAAS,EAAC,WAAd;AAAA,2CACI;AAAG,sBAAA,KAAK,EAAE;AAACyC,wBAAAA,aAAa,EAAE;AAAhB,uBAAV;AAAmC,sBAAA,IAAI,EAAC,IAAxC;AAA6C,sBAAA,OAAO,EAAGhB,KAAD,IAAS;AAACA,wBAAAA,KAAK,CAACiB,eAAN;AAAwB,+BAAO,KAAP;AAAc,uBAAtG;AAAA,+DACiB;AAAA,kCAAOnC,cAAc;AAArB;AAAA;AAAA;AAAA;AAAA,8BADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BADJ,eAMI;AAAI,oBAAA,SAAS,EAAC,WAAd;AAAA,2CACI;AAAG,sBAAA,KAAK,EAAE;AAACkC,wBAAAA,aAAa,EAAE;AAAhB,uBAAV;AAAmC,sBAAA,IAAI,EAAC,IAAxC;AAA6C,sBAAA,OAAO,EAAGhB,KAAD,IAAS;AAACA,wBAAAA,KAAK,CAACiB,eAAN;AAAwB,+BAAO,KAAP;AAAc,uBAAtG;AAAA,kEACoB;AAAA,kCAAO9B,iBAAiB;AAAxB;AAAA;AAAA;AAAA;AAAA,8BADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADH;AAAA;AAAA;AAAA;AAAA,sBAFL,eAiBI;AAAK,gBAAA,SAAS,EAAC,iBAAf;AAAiC,gBAAA,KAAK,EAAE;AAAE+B,kBAAAA,UAAU,EAAE,gBAAd;AAAgCC,kBAAAA,SAAS,EAAE;AAA3C,iBAAxC;AAAA,2BACK7D,QAAQ,KAAK,IAAb,iBACG;AAAK,kBAAA,SAAS,EAAC,0BAAf;AAA0C,kBAAA,KAAK,EAAI;AAAC8D,oBAAAA,OAAO,EAAE9D,QAAQ,GAAG,OAAH,GAAY;AAA9B,mBAAnD;AAAA,yCACI;AAAK,oBAAA,SAAS,EAAC,6BAAf;AAA6C,oBAAA,IAAI,EAAC,QAAlD;AAAA,2CACI;AAAM,sBAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,wBAFR,EAQKA,QAAQ,KAAK,KAAb,iBACG;AAAA,6BACKI,SAAS,KAAK,IAAd,iBACG;AAAK,oBAAA,SAAS,EAAC,sCAAf;AAAA,2CACI;AAAK,sBAAA,SAAS,EAAC,2BAAf;AAAA,sFACwC;AAAA;AAAA;AAAA;AAAA,8BADxC,eAEI;AAAQ,wBAAA,SAAS,EAAC,cAAlB;AAAiC,wBAAA,OAAO,EAAE,MAAIa,QAAQ,EAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,0BAFR,EASKb,SAAS,KAAK,KAAd,iBACG;AAAA,8BACKoB,cAAc,OAAO,CAArB,gBACG;AAAK,sBAAA,SAAS,EAAC,sCAAf;AAAA,6CACI;AAAK,wBAAA,SAAS,EAAC,2BAAf;AAAA,6FAC6C;AAAA;AAAA;AAAA;AAAA,gCAD7C;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BADH,gBAQD;AAAA,8CACI;AAAK,wBAAA,SAAS,EAAC,gCAAf;AAAA,kCACMlB,QAAQ,KAAK,KAAb,gBACI;AAAQ,0BAAA,SAAS,EAAC,iBAAlB;AAAoC,0BAAA,IAAI,EAAC,YAAzC;AAAsD,0BAAA,IAAI,EAAC,QAA3D;AAAoE,0BAAA,OAAO,EAAE,MAAIgD,eAAe,EAAhG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADJ,gBAEI;AAAA,kDACE;AAAQ,4BAAA,SAAS,EAAC,gBAAlB;AAAmC,4BAAA,KAAK,EAAE;AAACS,8BAAAA,WAAW,EAAE;AAAd,6BAA1C;AAAiE,4BAAA,IAAI,EAAC,YAAtE;AAAmF,4BAAA,IAAI,EAAC,QAAxF;AAAiG,4BAAA,OAAO,EAAE,MAAIV,iBAAiB,EAA/H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,eAEE;AAAQ,4BAAA,SAAS,EAAC,iBAAlB;AAAoC,4BAAA,IAAI,EAAC,YAAzC;AAAsD,4BAAA,IAAI,EAAC,QAA3D;AAAoE,4BAAA,OAAO,EAAE,MAAIvB,YAAY,EAA7F;AAAiG,4BAAA,QAAQ,EAAE5B,aAA3G;AAAA,oDACI;AAAM,8BAAA,KAAK,EAAE;AAAE4D,gCAAAA,OAAO,EAAE5D,aAAa,GAAG,cAAH,GAAoB;AAA5C,+BAAb;AAAmE,8BAAA,KAAK,EAAC,2CAAzE;AAAqH,8BAAA,IAAI,EAAC,QAA1H;AAAmI,6CAAY;AAA/I;AAAA;AAAA;AAAA;AAAA,oCADJ;AAAA;AAAA;AAAA;AAAA;AAAA,kCAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAHV;AAAA;AAAA;AAAA;AAAA,8BADJ,EAaKI,QAAQ,KAAK,KAAb,IAAsB,CAAC,CAACU,cAAxB,IAA0CA,cAAc,CAACU,MAAf,KAA0B,CAApE,iBACG;AAAK,wBAAA,SAAS,EAAC,sCAAf;AAAA,+CACI;AAAK,0BAAA,SAAS,EAAC,2BAAf;AAAA,iFAC+B;AAAA;AAAA;AAAA;AAAA,kCAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,8BAdR,EAsBKpB,QAAQ,KAAK,KAAb,IAAsB,CAAC,CAACU,cAAxB,IAA0CA,cAAc,CAACU,MAAf,GAAwB,CAAlE,iBACG;AAAA,+CACI;AAAK,0BAAA,SAAS,EAAC,oBAAf;AAAA,oCACKV,cAAc,CAACW,GAAf,CAAmB,CAACqC,YAAD,EAAeC,GAAf,kBACpB;AAAe,4BAAA,SAAS,EAAC,KAAzB;AAAA,mDACI;AAAU,8BAAA,SAAS,EAAC,iBAApB;AAAA,sDACI;AAAQ,gCAAA,SAAS,EAAC,sBAAlB;AAAA,uDAAyC;AAAA,gEAAmBA,GAAG,GAAC,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAzC;AAAA;AAAA;AAAA;AAAA,sCADJ,eAEI,QAAC,WAAD;AACI,gCAAA,GAAG,EAAED,YAAY,CAACE,UADtB;AAEI,gCAAA,QAAQ,MAFZ;AAEa,gCAAA,KAAK,EAAE,MAFpB;AAE4B,gCAAA,MAAM,EAAE;AAFpC;AAAA;AAAA;AAAA;AAAA,sCAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,6BAAUD,GAAV;AAAA;AAAA;AAAA;AAAA,kCADC;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,8BAvBR,EAwCK3D,QAAQ,KAAK,IAAb,IAAqB,CAAC,CAACM,eAAvB,IAA0CA,eAAe,CAACc,MAAhB,GAAyB,CAAnE,IAAwEd,eAAe,CAACe,GAAhB,CAAoB,CAACwC,iBAAD,EAAoBF,GAApB,kBACzF;AAAA,mCACS,CAAC,CAACE,iBAAiB,CAACC,UAApB,IAAkCD,iBAAiB,CAACC,UAAlB,CAA6B1C,MAA7B,GAAsC,CAAxE,iBAA6E;AAAA,oCAAK7B,EAAE,CAACwE,MAAH,CAAUF,iBAAiB,CAACG,KAA5B;AAAL;AAAA;AAAA;AAAA;AAAA,gCADtF,EAES,CAAC,CAACH,iBAAiB,CAACC,UAApB,IAAkCD,iBAAiB,CAACC,UAAlB,CAA6B1C,MAA7B,GAAsC,CAAxE,iBAA6E;AAAA,iDAC1E;AAAK,4BAAA,SAAS,EAAC,yBAAf;AAAA,mDACI;AAAI,8BAAA,SAAS,EAAC,uCAAd;AAAA,wCACHyC,iBAAiB,CAACC,UAAlB,CAA6BzC,GAA7B,CAAiC,CAACgB,UAAD,EAAaG,KAAb,kBAC9B;AAAgB,gCAAA,SAAS,EAAC,iCAA1B;AAAA,wDACI;AAAK,kCAAA,SAAS,EAAC,6BAAf;AAAA,0DACI;AAAO,oCAAA,EAAE,EAAG,SAAQA,KAAM,EAA1B;AAA6B,oCAAA,IAAI,EAAG,SAAQA,KAAM,EAAlD;AAAqD,oCAAA,IAAI,EAAC,UAA1D;AAAqE,oCAAA,OAAO,EAAGJ,KAAD,IAASD,WAAW,CAACC,KAAD,EAAQC,UAAR,EAAoBG,KAApB,CAAlG;AAA8H,oCAAA,OAAO,EAAES,eAAe,CAACZ,UAAD;AAAtJ;AAAA;AAAA;AAAA;AAAA,0CADJ,eAEI;AAAO,oCAAA,SAAS,EAAC,MAAjB;AAAwB,oCAAA,OAAO,EAAG,SAAQG,KAAM,EAAhD;AAAA,2DAA4DA,KAAK,GAAC,CAAlE;AAAA;AAAA;AAAA;AAAA;AAAA,0CAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,wCADJ,eAKI;AAAK,kCAAA,SAAS,EAAC,SAAf;AACI,kCAAA,IAAI,EAAC,QADT;AAEI,iDAAY,aAFhB;AAGI,iDAAY,OAHhB;AAII,yDAAoB,MAJxB;AAKI,kCAAA,OAAO,EAAGJ,KAAD,IAAS;AAACT,oCAAAA,gBAAgB,CAAEa,KAAK,GAAC,CAAR,EAAYqB,iBAAiB,CAACG,KAA9B,EAAqC3B,UAAU,CAAC4B,IAAhD,CAAhB;AAAuE7B,oCAAAA,KAAK,CAAC8B,cAAN;AAAuB,mCALrH;AAAA,yDAMI;AAAG,oCAAA,IAAI,EAAC,IAAR;AAAa,oCAAA,OAAO,EAAE,MAAI;AAAC,6CAAO,KAAP;AAAa,qCAAxC;AAAA,2DACI;AAAG,sCAAA,SAAS,EAAC,aAAb;AAA2B,sCAAA,KAAK,EAAE;AAAEC,wCAAAA,QAAQ,EAAE;AAAZ;AAAlC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,wCALJ;AAAA,iCAAS3B,KAAT;AAAA;AAAA;AAAA;AAAA,sCADH,CAiBG;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AArCP;AADG;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAD0E;AAAA;AAAA;AAAA;AAAA,gCAFtF,EAiDK,CAAC,CAACqB,iBAAiB,CAACC,UAApB,IAAkCD,iBAAiB,CAACC,UAAlB,CAA6B1C,MAA7B,GAAsC,CAAxE,IAA6EuC,GAAG,KAAKE,iBAAiB,CAACC,UAAlB,CAA6B1C,MAA7B,GAAoC,CAAzH,iBAA6H;AAAA;AAAA;AAAA;AAAA,gCAjDlI;AAAA,yBAAUuC,GAAV;AAAA;AAAA;AAAA;AAAA,8BADqE,CAxC7E;AAAA;AAAA;AAAA;AAAA;AAAA;AATJ;AAAA;AAAA;AAAA;AAAA,0BAVR;AAAA;AAAA;AAAA;AAAA;AAAA,wBATR;AAAA;AAAA;AAAA;AAAA;AAAA,sBAjBJ,eAmJI;AACA,gBAAA,SAAS,EAAC,OADV;AAEA,gBAAA,EAAE,EAAC,YAFH;AAGA,gBAAA,QAAQ,EAAE,CAAC,CAHX;AAIA,mCAAgB,YAJhB;AAKA,+BAAY,MALZ;AAAA,uCAOI;AAAK,kBAAA,SAAS,EAAC,uBAAf;AAAA,yCACI;AAAK,oBAAA,SAAS,EAAC,eAAf;AAAA,4CACI;AAAK,sBAAA,SAAS,EAAC,cAAf;AAAA,8CACI;AAAI,wBAAA,SAAS,EAAC,aAAd;AAA4B,wBAAA,EAAE,EAAC,mBAA/B;AAAA,mCACKpE,EAAE,CAACwE,MAAH,CAAU7D,YAAY,CAAC2B,KAAvB,CADL,eAEI;AAAO,0BAAA,KAAK,EAAE;AAAC2B,4BAAAA,OAAO,EAAC;AAAT,2BAAd;AAAA,iDAA0CtD,YAAY,CAAC0B,UAAvD;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,eAKI;AACA,wBAAA,IAAI,EAAC,QADL;AAEA,wBAAA,SAAS,EAAC,OAFV;AAGA,wCAAa,OAHb;AAIA,sCAAW,OAJX;AAKA,wBAAA,OAAO,EAAE,MAAMG,OAAO,EALtB;AAAA,+CAOA;AAAM,yCAAY,MAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAPA;AAAA;AAAA;AAAA;AAAA,8BALJ;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,eAgBI;AAAK,sBAAA,SAAS,EAAC,YAAf;AAAA,6CACI,QAAC,WAAD;AACI,wBAAA,GAAG,EAAE7B,YAAY,CAAC4B,SADtB;AAEI,wBAAA,QAAQ,MAFZ;AAEa,wBAAA,KAAK,EAAE,MAFpB;AAE4B,wBAAA,MAAM,EAAE;AAFpC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,4BAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA,sBAnJJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAiMH;;GAhVuBtC,qB;UACHR,W,EAQOC,W,EACDA,W;;;KAVHO,qB","sourcesContent":["import React, {Fragment, useEffect, useState} from \"react\";\nimport { getAllClassRecordings, saveSelectedClassRecordings, getAllSelectedVideosByTeacher } from \"api/teacher\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from 'react-toastify';\nimport ReactPlayer from 'react-player';\nconst Entities = require('html-entities').XmlEntities;\nconst he = new Entities();\n\nexport default function TeacherFeaturedVideos(){\n    const dispatch = useDispatch();\n    const [loadPage, setLoadPage] = useState(false);\n    const [submitLoading, setSubmitLoading] = useState(false);\n    const [errorList, setErrorList] = useState(false);\n    const [editMode, setEditMode] = useState(false);\n    const [videoPreview, setVideoPreview] = useState({});\n    const [selectedVideosClone, setSelectedVideosClone] = useState({});\n    \n    const recordedClasses = useSelector((state) => state.teacher ? state.teacher.getIn(['recordedClasses', 'recorded']) : []);\n    const selectedVideos = useSelector((state) => state.teacher ? state.teacher.getIn(['recordedClasses', 'featured']) : []);\n    \n    const loadData = async ()=>{\n        setErrorList(false);\n        setSubmitLoading(false);\n        setLoadPage(true);\n        await getAllClassRecordings(dispatch, async (response)=>{\n            if (response === false)\n            {\n                await setErrorList(true);\n                toast.error(\"Oh no! Something went wrong. Please try again.\");\n                setLoadPage(false);\n            }\n            else\n            {\n                await getAllSelectedVideosByTeacher(dispatch, async(response, data)=>{\n                    if (response === false)\n                    {\n                        await setErrorList(true);\n                        toast.error(\"Oh no! Something went wrong. Please try again.\");\n                    }\n                    else\n                    {\n                        await setErrorList(false);\n                        setSelectedVideosClone(JSON.parse(JSON.stringify(data)));\n                    }\n                    setLoadPage(false);\n                });\n            }\n        })\n    };\n\n    const getTotalVideos = () =>{\n        let count = 0;\n        if (recordedClasses.length > 0)\n        {\n            recordedClasses.map((item)=>{\n                if(!!item['RECORDINGS'] && item['RECORDINGS'].length > 0)\n                {\n                    count += item['RECORDINGS'].length;\n                }\n                return item;\n            });\n        }\n        \n\n        return count;\n    };\n    \n    const getFeaturedVideos = ()=>{\n        if (selectedVideos.length > 0)\n            return selectedVideos.length;\n        return 0;\n    };\n\n    const submitButton = ()=> {\n        if(selectedVideosClone.length > 5)\n        {\n            toast.error('You have selected more than 5 videos.'); \n        }\n        else\n        {\n            setSubmitLoading(true);\n            saveSelectedClassRecordings(dispatch, {selectedVideos: selectedVideosClone}, (status) => {\n                if(status){\n                    toast.success('Successfully saved featured videos.');\n                    setEditMode(false);\n                    loadData();\n                }else{\n                    toast.error('Failed saving featured videos. Please try again later.');\n                }\n\n                setSubmitLoading(false);\n            })\n        }\n    };\n\n    const handleVideoClick = (sessionNum, title, videoLink) => {\n        setVideoPreview({sessionNum, title, videoLink});\n    }\n\n    const onClose = () => {\n        document.getElementById(\"modal-close\").click();\n        setVideoPreview({sessionNum: \"\", title: \"\", videoLink: \"\"});\n    };\n\n    const checkChange = async (event, recordItem) =>{\n        const recordItemVideoName = recordItem['fileName'] || recordItem['VIDEO_NAME'];\n        let clone = [...selectedVideosClone];\n        let index = clone.findIndex((item) => {\n            const itemVideo = item['fileName'] || item['VIDEO_NAME'];\n            return itemVideo === recordItemVideoName;\n        });\n\n        if (index > -1)\n        {\n            clone.splice(index, 1);\n            setSelectedVideosClone(clone);\n        }\n        else\n        {\n            clone.push(recordItem);\n            setSelectedVideosClone(clone);\n        }\n\n        console.log(\"clone\", clone);\n        console.log(\"selectedVideosClone\", selectedVideosClone);\n    };\n\n    const cancelButtonClick = async ()=>{\n        console.log(selectedVideos);\n        setSelectedVideosClone([...selectedVideos]);\n        await setEditMode(false);\n    };\n\n    const editButtonClick = async ()=>{\n        setSelectedVideosClone([...selectedVideos]);\n        await setEditMode(true);\n    };\n\n    const isVideoSelected = (recordItem) => {\n        return selectedVideosClone.findIndex((video)=>{\n            const recordItemVideoName = recordItem['fileName'] || recordItem['VIDEO_NAME'];\n            const videoName = video['fileName'] || video['VIDEO_NAME'];\n            return recordItemVideoName === videoName;\n        }) > -1;\n    }\n\n    useEffect(() => {\n        loadData();\n         // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <Fragment>\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <div className=\"card\">\n                            {/* <!-- .left-right-aside-column--> */}\n                            <div className=\"row\">\n                                {/* <!-- .left-aside-column--> */}\n                                 <div className=\"left-aside bg-light-part col-3\">\n                                    <ul className=\"list-style-none\">\n                                        <li className=\"box-label\">\n                                            <a style={{pointerEvents: 'none'}} href=\"#!\" onClick={(event)=>{event.stopPropagation();return false;}}>\n                                                Total Videos <span>{getTotalVideos()}</span>\n                                            </a>\n                                        </li>\n                                        <li className=\"box-label\">\n                                            <a style={{pointerEvents: 'none'}} href=\"#!\" onClick={(event)=>{event.stopPropagation();return false;}}>\n                                                Featured Videos <span>{getFeaturedVideos()}</span>\n                                            </a>\n                                        </li>\n                                    </ul>\n                                </div>\n                                {/* <!-- /.left-aside-column--> */}\n                                <div className=\"right-aside col\" style={{ marginLeft: '0px !important', overflowY: \"auto\" }}>\n                                    {loadPage === true && \n                                        <div className=\"text-center data-loading\" style = {{display: loadPage ? 'block': 'none'}}>\n                                            <div className=\"spinner-border text-primary\" role=\"status\">\n                                                <span className=\"sr-only\">Loading...</span>\n                                            </div>\n                                        </div>\n                                    }\n                                    {loadPage === false &&\n                                        <div>\n                                            {errorList === true && \n                                                <div className=\"column d-flex justify-content-center\">\n                                                    <div className=\"text-center no-data error\">\n                                                        There was an error loading the data.<br/>\n                                                        <button className=\"btn btn-link\" onClick={()=>loadData()}>Reload</button>\n                                                    </div>\n                                                </div>\n                                            }\n                                            {errorList === false &&\n                                                <div>\n                                                    {getTotalVideos() === 0 ?\n                                                        <div className=\"column d-flex justify-content-center\">\n                                                            <div className=\"text-center no-data error\">\n                                                                It seems you have no recorded videos yet.<br/>\n                                                                \n                                                            </div>\n                                                        </div>\n                                                    :\n                                                    <div>\n                                                        <div className=\"row d-flex justify-content-end\">\n                                                            { editMode === false\n                                                                ? <button className=\"btn btn-primary\" name=\"editButton\" type=\"button\" onClick={()=>editButtonClick()}>Edit Featured Videos</button>\n                                                                : <div>\n                                                                    <button className=\"btn btn-danger\" style={{marginRight: '12px'}} name=\"cancelEdit\" type=\"button\" onClick={()=>cancelButtonClick()}>Cancel</button>\n                                                                    <button className=\"btn btn-primary\" name=\"saveButton\" type=\"button\" onClick={()=>submitButton()} disabled={submitLoading}>\n                                                                        <span style={{ display: submitLoading ? 'inline-block' : 'none' }} class=\"spinner-border spinner-border-sm btn-load\" role=\"status\" aria-hidden=\"true\"></span>\n                                                                        Save Featured Videos\n                                                                    </button>\n                                                                </div>}\n                                                        </div>\n\n                                                        {editMode === false && !!selectedVideos && selectedVideos.length === 0 &&\n                                                            <div className=\"column d-flex justify-content-center\">\n                                                                <div className=\"text-center no-data error\">\n                                                                    No featured videos selected<br/>\n                                                                    \n                                                                </div>\n                                                            </div>\n                                                        }\n\n                                                        {editMode === false && !!selectedVideos && selectedVideos.length > 0 &&\n                                                            <div>\n                                                                <div className=\"row row-cols-2 m-2\">\n                                                                    {selectedVideos.map((selectedItem, idx)=>\n                                                                    <div key={idx} className=\"p-2\">\n                                                                        <fieldset className=\"fieldset-border\">\n                                                                            <legend className=\"fieldset-border mb-0\"><b>Featured Video {idx+1}</b></legend>\n                                                                            <ReactPlayer\n                                                                                url={selectedItem.VIDEO_LINK} \n                                                                                controls width={'100%'} height={'100%'} />   \n                                                                            \n                                                                        </fieldset>\n                                                                    </div>)\n                                                                    }\n                                                                </div>\n                                                            </div>\n                                                        }\n                                                        \n                                                        {editMode === true && !!recordedClasses && recordedClasses.length > 0 && recordedClasses.map((recordedClassItem, idx)=>\n                                                            <div key={idx}>\n                                                                    {!!recordedClassItem.RECORDINGS && recordedClassItem.RECORDINGS.length > 0 && <h3>{he.decode(recordedClassItem.TITLE)}</h3>}\n                                                                    {!!recordedClassItem.RECORDINGS && recordedClassItem.RECORDINGS.length > 0 && <div>\n                                                                        <div className=\"row m-2 d-flex flex-row\">\n                                                                            <ul className=\"list-group list-group-flush w-100 p-2\">\n                                                                        {recordedClassItem.RECORDINGS.map((recordItem, index)=>\n                                                                            <li key={index} className=\"list-group-item d-flex flex-row\">\n                                                                                <div className=\"checkbox checkbox-info mr-2\">\n                                                                                    <input id={`check-${index}`} name={`check-${index}`} type=\"checkbox\" onClick={(event)=>checkChange(event, recordItem, index)} checked={isVideoSelected(recordItem)}/>\n                                                                                    <label className=\"mb-0\" htmlFor={`check-${index}`}>Session {index+1}</label>\n                                                                                </div>\n                                                                                <div className=\"ml-auto\"\n                                                                                    role=\"button\"\n                                                                                    data-target=\"#videoModal\"\n                                                                                    data-toggle=\"modal\"\n                                                                                    data-original-title=\"View\"\n                                                                                    onClick={(event)=>{handleVideoClick((index+1), recordedClassItem.TITLE, recordItem.link); event.preventDefault()}}>\n                                                                                    <a href=\"#!\" onClick={()=>{return false}}>\n                                                                                        <i className=\"fas fa-play\" style={{ fontSize: '18px' }}></i>\n                                                                                    </a>\n                                                                                </div>\n                                                                            </li>\n                                                                            // {[1,2,3,4,5,6,7,8].map((item, index) => (\n                                                                                // <div key={index} className=\"p-2\">\n                                                                                //     <fieldset className=\"fieldset-border\">\n                                                                                //         <legend className=\"fieldset-border mb-0\"><b>Session {index+1}</b></legend>\n                                                                                //         <div className=\"row d-flex justify-content-end\" style={{display: editMode === true ? 'auto': 'none'}}>\n                                                                                //             <div className=\"checkbox checkbox-info mr-2\">\n                                                                                //                 <input id={`check-${index}`} name={`check-${index}`} type=\"checkbox\" onClick={(event)=>checkChange(event, recordItem, index)} checked={isVideoSelected(recordItem)}/>\n                                                                                //                 <label className=\"mb-0\" htmlFor={`check-${index}`}></label>\n                                                                                //             </div>\n                                                                                //         </div>\n                                                                                //         <img className={!editMode ? 'mt-2': ''} role=\"button\" \n                                                                                //             data-target=\"#videoModal\"\n                                                                                //             data-toggle=\"modal\"\n                                                                                //             data-original-title=\"View\"\n                                                                                //             src=\"/img/Jitsi-Virtual-Meeting.png\" \n                                                                                //             onClick={() => handleVideoClick((index+1), recordedClassItem.TITLE, recordItem.link)}\n                                                                                //             alt={`Session ${index+1}`} \n                                                                                //             width={'100%'} height={'100%'}/>\n                                                                                        \n                                                                                //     </fieldset>   \n                                                                                // </div>\n                                                                            )}\n                                                                            </ul>\n                                                                        </div>\n                                                                            \n                                                                    </div>}\n                                                                {/* )} */}\n                                                                {!!recordedClassItem.RECORDINGS && recordedClassItem.RECORDINGS.length > 0 && idx !== recordedClassItem.RECORDINGS.length-1 &&<hr />}\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                    }\n                                                </div>\n                                            }\n                                        </div>\n                                    }\n                                </div>\n                                {/* <!-- /.left-right-aside-column--> */}\n                                {/* Modal */}\n                                <div\n                                className=\"modal\"\n                                id=\"videoModal\"\n                                tabIndex={-1}\n                                aria-labelledby=\"videoModal\"\n                                aria-hidden=\"true\"\n                                >\n                                    <div className=\"modal-dialog modal-lg\">\n                                        <div className=\"modal-content\">\n                                            <div className=\"modal-header\">\n                                                <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                                                    {he.decode(videoPreview.title)}\n                                                    <small style={{display:'block'}}>Session {videoPreview.sessionNum}</small>\n                                                </h5>\n                                                <button\n                                                type=\"button\"\n                                                className=\"close\"\n                                                data-dismiss=\"modal\"\n                                                aria-label=\"Close\"\n                                                onClick={() => onClose()}\n                                                >\n                                                <span aria-hidden=\"true\">×</span>\n                                                </button>\n                                            </div>\n                                            <div className=\"modal-body\">\n                                                <ReactPlayer\n                                                    url={videoPreview.videoLink} \n                                                    controls width={'100%'} height={'100%'} />     \n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </Fragment>\n    );\n}"]},"metadata":{},"sourceType":"module"}