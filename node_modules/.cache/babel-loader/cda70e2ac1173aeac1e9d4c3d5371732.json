{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/DashboardHome/FamilyDashboardHome/index.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-script-url */\n\n/* eslint-disable jsx-a11y/img-redundant-alt */\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\n\n/* eslint-disable jsx-a11y/alt-text */\nimport React from \"react\";\nimport moment from \"moment\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MyLearnersSchedules from \"./MyLearnersSchedules\";\nimport { getAllActiveClasses } from \"api/class\";\nimport { getActiveAnnouncements } from \"api/announcement\";\nimport TopClasses from \"../TopClasses\";\nimport { getPendingEnrollment } from \"api/class\";\nimport { useNavigate } from \"react-router-dom\";\nimport { api } from '../../../api';\nimport { toast } from \"react-toastify\";\nimport { PAYMENT_STATUS } from \"utils/constants\";\nimport Calendar from 'react-calendar';\nimport 'css/Calendar.css';\nimport { viewAllMyLearnersClass } from \"api/classEnroll\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FamilyDashboardHome() {\n  _s();\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const enrolledClasses = useSelector(state => state.classes ? state.classes.getIn(['data', 'familyClass']) : []);\n  const pendingEnrollment = useSelector(state => state.classes ? state.classes.getIn(['data', 'pendingEnrollment']) : []);\n  const announcements = useSelector(state => state.announcement ? state.announcement.getIn(['data', 'announcements']) : []);\n\n  const cancelTransaction = async txnId => {\n    await api.post('/payment/void', {\n      txnId\n    }).then(response => {\n      if (response.success) {\n        toast.success('Enrollment has been cancelled.');\n      }\n\n      getPendingEnrollment(dispatch);\n    }).catch(err => {\n      console.log(err);\n      toast.error('Cannot cancel enrollment. Please try again later.');\n    });\n  };\n\n  const getBadge = key => {\n    switch (key) {\n      case PAYMENT_STATUS.PAID:\n        return \"badge-success\";\n\n      case PAYMENT_STATUS.CANCELLED:\n      case PAYMENT_STATUS.VOID:\n        return \"badge-danger\";\n\n      case PAYMENT_STATUS.REFUNDED:\n        return \"badge-secondary\";\n\n      case PAYMENT_STATUS.FOR_REFUND:\n        return \"badge-warning\";\n\n      default:\n        return \"badge-primary\";\n    }\n  };\n\n  const getIcon = key => {\n    switch (key) {\n      case \"promo\":\n        return \"fa-shopping-cart\";\n\n      case \"event\":\n        return \"fa-calendar\";\n\n      case \"info\":\n        return \"fa-info-circle\";\n\n      case \"other\":\n      default:\n        return \"fa-question-circle\";\n    }\n  };\n\n  const getValue = value => {\n    return Object.keys(PAYMENT_STATUS).find(key => PAYMENT_STATUS[key] === value);\n  };\n\n  React.useEffect(() => {\n    getAllActiveClasses(dispatch);\n    getPendingEnrollment(dispatch);\n    viewAllMyLearnersClass(dispatch);\n    getActiveAnnouncements(dispatch); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const datesToAddClassTo = enrolledClasses.length > 0 && enrolledClasses.availableDates ? enrolledClasses.map(o => o.availableDates.map(d => new Date(d))).flat() : [];\n\n  function tileClassName(_ref) {\n    let {\n      date,\n      view\n    } = _ref;\n\n    // Add class to tiles in month view only\n    if (view === 'month') {\n      console.log(datesToAddClassTo); // Check if a date React-Calendar wants to check is on the list of dates to add class to\n\n      if (datesToAddClassTo.find(dDate => dDate.getFullYear() === date.getFullYear() && dDate.getMonth() === date.getMonth() && dDate.getDate() === date.getDate())) {\n        return 'react-calendar__tile react-calendar__tile--active react-calendar__tile--range react-calendar__tile--rangeStart react-calendar__tile--rangeEnd react-calendar__tile--rangeBothEnds react-calendar__month-view__days__day react-calendar__month-view__days__day--weekend';\n      }\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-8 col-md-7\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card card-default\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hero-action p-4 col-xl-12\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"d-flex\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fa fa-lightbulb-o\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 137,\n                      columnNumber: 23\n                    }, this), \" What do you want to learn today?\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 135,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"ml-auto\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"/search\",\n                    children: \"Advanced Search\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 141,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                className: \"form-horizontal form-material\",\n                id: \"loginform\",\n                action: \"/search\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form-group mb-0\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-xs-12 form-G01-div\",\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      className: \"form-control form-G01 mt-2 pl-3\",\n                      type: \"text\",\n                      placeholder: \"Search all classes\",\n                      name: \"query\",\n                      id: \"loginform-input\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 151,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 150,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TopClasses, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MyLearnersSchedules, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card card-default learner-ui\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"card-title m-b-0 float-left\",\n                children: \"My Pending Enrollments\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body collapse show py-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tab-content br-n pn\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"dropdown-divider\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"navtabs-3\",\n                  className: \"tab-pane active\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"table-responsive mt-1\",\n                    children: /*#__PURE__*/_jsxDEV(\"table\", {\n                      className: \"table table-striped mt-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Date\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 188,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Reference\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 189,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Class Title\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 190,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Price\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 191,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Status\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 192,\n                            columnNumber: 29\n                          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                            children: \"Actions\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 193,\n                            columnNumber: 29\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 187,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                        children: pendingEnrollment.map(_ref2 => {\n                          let {\n                            createdDateTime,\n                            classTitle,\n                            price,\n                            status,\n                            ref,\n                            classId,\n                            enrollmentId,\n                            transactionId\n                          } = _ref2;\n                          return /*#__PURE__*/_jsxDEV(\"tr\", {\n                            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: \"text-muted\",\n                                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fa fa-clock-o\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 202,\n                                  columnNumber: 37\n                                }, this), \" \", moment(createdDateTime).format(\"MM/DD/YYYY hh:mm a\")]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 201,\n                                columnNumber: 35\n                              }, this), \" \"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 200,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: ref || transactionId\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 205,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: classTitle\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 206,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: price\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 207,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                className: `badge + ${getBadge(status)}`,\n                                children: getValue(status)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 209,\n                                columnNumber: 35\n                              }, this)\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 208,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                className: \"btn btn-danger btn-sm\",\n                                onClick: () => cancelTransaction(transactionId),\n                                children: \"Cancel\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 214,\n                                columnNumber: 35\n                              }, this), (transactionId === '' || transactionId === null) && /*#__PURE__*/_jsxDEV(\"button\", {\n                                className: \"btn btn-info btn-sm\",\n                                onClick: () => navigate(`/checkout`, {\n                                  state: {\n                                    classId,\n                                    enrollmentId\n                                  }\n                                }),\n                                children: \" Pay\"\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 216,\n                                columnNumber: 40\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 213,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 199,\n                            columnNumber: 31\n                          }, this);\n                        })\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 196,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 185,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-lg-4 col-md-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card card-default\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"card-title m-b-0\",\n                children: \"My Calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body collapse show pt-0 my-learners-card\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"calendar-container\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"calendar-box\",\n                  children: /*#__PURE__*/_jsxDEV(Calendar // value={new Date(2021, 11, 12)}\n                  , {\n                    tileClassName: tileClassName,\n                    nextLabel: \"Next\",\n                    next2Label: null,\n                    prevLabel: \"Prev\",\n                    prev2Label: null,\n                    calendarType: \"US\",\n                    formatShortWeekday: (locale, value) => ['S', 'M', 'T', 'W', 'T', 'F', 'S'][value.getDay()]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card card-default\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"card-title m-b-0\",\n                children: \"TAGPROS Announcements\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body collapse show bg-info\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                id: \"announcementCarousel\",\n                className: \"carousel slide\",\n                \"data-ride\": \"carousel\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"carousel-inner\",\n                  children: !announcements || announcements.filter(item => item.userTypes.includes('LEARNER')).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"carousel-item flex-column active \",\n                    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-light font-light\",\n                      children: /*#__PURE__*/_jsxDEV(\"i\", {\n                        children: \"No Announcements\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 285,\n                        columnNumber: 63\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 20\n                  }, this) : announcements.filter(item => item.userTypes.includes('LEARNER')).map((announcement, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"carousel-item flex-column \" + (index === 0 ? \"active\" : \"\"),\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-white d-flex align-items-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fa \" + getIcon(announcement.type) + \" fa-2x text-white\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 291,\n                        columnNumber: 78\n                      }, this), \"\\xA0 \", announcement.title]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-white font-light\",\n                      children: announcement.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n                  class: \"carousel-indicators\",\n                  children: announcements && announcements.filter(item => item.userTypes.includes('LEARNER')).map((announcement, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                    \"data-target\": \"#announcementCarousel\",\n                    \"data-slide-to\": index,\n                    class: index === 0 ? \"active\" : \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 305,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FamilyDashboardHome, \"gkcRItruvweBx1iNFNkZEUaMJJg=\", false, function () {\n  return [useNavigate, useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = FamilyDashboardHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"FamilyDashboardHome\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/DashboardHome/FamilyDashboardHome/index.jsx"],"names":["React","moment","useDispatch","useSelector","MyLearnersSchedules","getAllActiveClasses","getActiveAnnouncements","TopClasses","getPendingEnrollment","useNavigate","api","toast","PAYMENT_STATUS","Calendar","viewAllMyLearnersClass","FamilyDashboardHome","navigate","dispatch","enrolledClasses","state","classes","getIn","pendingEnrollment","announcements","announcement","cancelTransaction","txnId","post","then","response","success","catch","err","console","log","error","getBadge","key","PAID","CANCELLED","VOID","REFUNDED","FOR_REFUND","getIcon","getValue","value","Object","keys","find","useEffect","datesToAddClassTo","length","availableDates","map","o","d","Date","flat","tileClassName","date","view","dDate","getFullYear","getMonth","getDate","createdDateTime","classTitle","price","status","ref","classId","enrollmentId","transactionId","format","locale","getDay","filter","item","userTypes","includes","index","type","title","description"],"mappings":"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","sourcesContent":["/* eslint-disable no-script-url */\n/* eslint-disable jsx-a11y/img-redundant-alt */\n/* eslint-disable jsx-a11y/anchor-is-valid */\n/* eslint-disable jsx-a11y/alt-text */\nimport React from \"react\";\nimport moment from \"moment\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport MyLearnersSchedules from \"./MyLearnersSchedules\";\nimport { getAllActiveClasses } from \"api/class\";\nimport { getActiveAnnouncements } from \"api/announcement\";\nimport TopClasses from \"../TopClasses\";\nimport { getPendingEnrollment } from \"api/class\";\nimport { useNavigate } from \"react-router-dom\";\nimport { api } from '../../../api'\nimport { toast } from \"react-toastify\";\nimport { PAYMENT_STATUS } from \"utils/constants\";\nimport Calendar from 'react-calendar';\nimport 'css/Calendar.css';\nimport { viewAllMyLearnersClass } from \"api/classEnroll\";\n\nexport default function FamilyDashboardHome() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const enrolledClasses = useSelector((state) => state.classes ? state.classes.getIn(['data', 'familyClass']) : []);\n  const pendingEnrollment = useSelector((state) => state.classes ? state.classes.getIn(['data', 'pendingEnrollment']) : []);\n  const announcements = useSelector((state) => state.announcement ? state.announcement.getIn(['data', 'announcements']) : []);\n\n  const cancelTransaction = async (txnId) => {\n    await api.post('/payment/void', { txnId }).then(response => {\n      if (response.success) {\n        toast.success('Enrollment has been cancelled.');\n      }\n      getPendingEnrollment(dispatch);\n    }).catch(err => {\n      console.log(err);\n      toast.error('Cannot cancel enrollment. Please try again later.');\n    });\n  }\n\n  const getBadge = (key) => {\n    switch (key) {\n      case PAYMENT_STATUS.PAID:\n        return \"badge-success\"\n      case PAYMENT_STATUS.CANCELLED:\n      case PAYMENT_STATUS.VOID:\n        return \"badge-danger\"\n      case PAYMENT_STATUS.REFUNDED:\n        return \"badge-secondary\"\n      case PAYMENT_STATUS.FOR_REFUND:\n        return \"badge-warning\"\n      default:\n        return \"badge-primary\"\n    }\n  }\n\n  const getIcon = (key) => {\n    switch (key) {\n      case \"promo\":\n        return \"fa-shopping-cart\"\n      case \"event\":\n        return \"fa-calendar\"\n      case \"info\":\n        return \"fa-info-circle\"\n      case \"other\":\n      default:\n        return \"fa-question-circle\"\n    }\n  }\n\n  const getValue = (value) => {\n    return Object.keys(PAYMENT_STATUS).find(key => PAYMENT_STATUS[key] === value);\n  }\n\n\n\n  React.useEffect(() => {\n    getAllActiveClasses(dispatch);\n    getPendingEnrollment(dispatch);\n    viewAllMyLearnersClass(dispatch);\n    getActiveAnnouncements(dispatch);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  \n\n  const datesToAddClassTo = (enrolledClasses.length > 0 && enrolledClasses.availableDates) ? enrolledClasses.map(o => o.availableDates.map(d => new Date(d))).flat() : [];\n\n  function tileClassName({ date, view }) {\n    // Add class to tiles in month view only\n    if (view === 'month') {\n      console.log(datesToAddClassTo);\n      // Check if a date React-Calendar wants to check is on the list of dates to add class to\n      if (datesToAddClassTo.find(dDate => dDate.getFullYear() === date.getFullYear() && dDate.getMonth() === date.getMonth() && dDate.getDate() === date.getDate())) {\n        return 'react-calendar__tile react-calendar__tile--active react-calendar__tile--range react-calendar__tile--rangeStart react-calendar__tile--rangeEnd react-calendar__tile--rangeBothEnds react-calendar__month-view__days__day react-calendar__month-view__days__day--weekend';\n      }\n    }\n  }\n\n\n  \n\n  return (\n    <div>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-12\">\n            {/* <div className=\"alert alert-danger p-3\">\n            <img\n              src=\"../assets/images/tarsier-v2c.png\"\n              className=\"float-left mr-4\"\n              style={{ width: \"100px\" }}\n            />\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"alert\"\n              aria-label=\"Close\"\n            >\n              {\" \"}\n              <span aria-hidden=\"true\">×</span>{\" \"}\n            </button>\n            <h3 className=\"text-danger\">\n              <i className=\"fa fa-smile-o\" /> Hello! Have you completed your profile yet?\n            </h3>{\" \"}\n            Just checking to see if you've completed your Learners profile yet! Simply\n            click on your profile picture on the sidebar to the left, or{\" \"}\n            <a href=\"#\">CLICK HERE</a> to start editing! Completed profiles get to unlock\n            all the features of the Tagpros LMS!\n          </div> */}\n          </div>\n          <div className=\"col-lg-8 col-md-7\">\n            <div className=\"card card-default\">\n              <div className=\"hero-action p-4 col-xl-12\">\n                <div class=\"d-flex\">\n                  <div>\n                    <h4>\n                      <i className=\"fa fa-lightbulb-o\" /> What do you want to learn today?\n                    </h4>\n                  </div>\n                  <div class=\"ml-auto\">\n                    <a href=\"/search\">Advanced Search</a>\n                  </div>\n                </div>\n                <form\n                  className=\"form-horizontal form-material\"\n                  id=\"loginform\"\n                  action=\"/search\"\n                >\n                  <div className=\"form-group mb-0\">\n                    <div className=\"col-xs-12 form-G01-div\">\n                      <input\n                        className=\"form-control form-G01 mt-2 pl-3\"\n                        type=\"text\"\n                        placeholder=\"Search all classes\"\n                        name=\"query\"\n                        id=\"loginform-input\"\n                      />\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n            <TopClasses />\n            <MyLearnersSchedules />\n            <div className=\"card card-default learner-ui\">\n              <div className=\"card-header\">\n                <h4 className=\"card-title m-b-0 float-left\">My Pending Enrollments</h4>\n                {/* <div className=\"card-actions\">\n                  <a className data-action=\"collapse\">\n                    <i className=\"ti-minus\" />\n                  </a>\n                  <a className=\"btn-minimize\" data-action=\"expand\">\n                    <i className=\"mdi mdi-arrow-expand\" />\n                  </a>\n                  <a className=\"btn-close\" data-action=\"close\">\n                    <i className=\"ti-close\" />\n                  </a>\n                </div> */}\n              </div>\n              <div className=\"card-body collapse show py-2\">\n                <div className=\"tab-content br-n pn\">\n                  <div className=\"dropdown-divider\" />\n                  <div id=\"navtabs-3\" className=\"tab-pane active\">\n                    <div className=\"table-responsive mt-1\">\n                      <table className=\"table table-striped mt-3\">\n                        <thead>\n                          <tr>\n                            <th>Date</th>\n                            <th>Reference</th>\n                            <th>Class Title</th>\n                            <th>Price</th>\n                            <th>Status</th>\n                            <th>Actions</th>\n                          </tr>\n                        </thead>\n                        <tbody>\n                          {\n                            pendingEnrollment.map(({ createdDateTime, classTitle, price, status, ref, classId, enrollmentId, transactionId }) => (\n                              <tr>\n                                <td>\n                                  <span className=\"text-muted\">\n                                    <i className=\"fa fa-clock-o\" /> {moment(createdDateTime).format(\"MM/DD/YYYY hh:mm a\")}\n                                  </span>{\" \"}\n                                </td>\n                                <td>{ref || transactionId}</td>\n                                <td>{classTitle}</td>\n                                <td>{price}</td>\n                                <td>\n                                  <div className={`badge + ${getBadge(status)}`}>\n                                    {getValue(status)}\n                                  </div>\n                                </td>\n                                <td>\n                                  <button className=\"btn btn-danger btn-sm\" onClick={() => cancelTransaction(transactionId)}>Cancel</button>\n                                  {(transactionId === '' || transactionId === null)\n                                    && <button className=\"btn btn-info btn-sm\" onClick={() => navigate(`/checkout`, { state: { classId, enrollmentId } })}> Pay</button>}\n                                </td>\n                              </tr>\n                            ))\n                          }\n                        </tbody>\n                      </table>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-lg-4 col-md-5\">\n            <div className=\"card card-default\">\n              <div className=\"card-header\">\n                {/* <div className=\"card-actions\">\n                  <a className data-action=\"collapse\">\n                    <i className=\"ti-minus\" />\n                  </a>\n                  <a className=\"btn-minimize\" data-action=\"expand\">\n                    <i className=\"mdi mdi-arrow-expand\" />\n                  </a>\n                  <a className=\"btn-close\" data-action=\"close\">\n                    <i className=\"ti-close\" />\n                  </a>\n                </div> */}\n                <h4 className=\"card-title m-b-0\">My Calendar</h4>\n              </div>\n              <div className=\"card-body collapse show pt-0 my-learners-card\">\n                <div className=\"calendar-container\">\n                  <div className=\"calendar-box\">\n                    <Calendar\n                      // value={new Date(2021, 11, 12)}\n                      tileClassName={tileClassName}\n                      nextLabel={\"Next\"}\n                      next2Label={null}\n                      prevLabel={\"Prev\"}\n                      prev2Label={null}\n                      calendarType={\"US\"}\n                      formatShortWeekday={(locale, value) => ['S', 'M', 'T', 'W', 'T', 'F', 'S'][value.getDay()]}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n            {/* <!-- Column --> */}\n            <div className=\"card card-default\">\n              <div className=\"card-header\">\n                {/* <div className=\"card-actions\">\n                  <a href=\"#/\" className=\"\" data-action=\"collapse\">\n                    <i className=\"ti-minus\"></i>\n                  </a>\n                  <a href=\"#/\" className=\"btn-minimize\" data-action=\"expand\">\n                    <i className=\"mdi mdi-arrow-expand\"></i>\n                  </a>\n                  <a href=\"#/\" className=\"btn-close\" data-action=\"close\">\n                    <i className=\"ti-close\"></i>\n                  </a>\n                </div> */}\n                <h4 className=\"card-title m-b-0\">TAGPROS Announcements</h4>\n              </div>\n              <div className=\"card-body collapse show bg-info\">\n                <div id=\"announcementCarousel\" className=\"carousel slide\" data-ride=\"carousel\">\n                  {/* <!-- Carousel items --> */}\n                  <div className=\"carousel-inner\">\n                  {((!announcements || announcements.filter(item=> item.userTypes.includes('LEARNER')).length === 0)) ? \n                   <div className=\"carousel-item flex-column active \">\n                       \n                        <h3 className=\"text-light font-light\"><i>\n                         No Announcements\n                         </i></h3>\n                      </div>: \n                    (announcements.filter(item=> item.userTypes.includes('LEARNER')).map((announcement, index) =>\n                      <div className={\"carousel-item flex-column \" + (index === 0 ? \"active\" : \"\")}>\n                        <h3 className=\"text-white d-flex align-items-center\"><i className={\"fa \" + getIcon(announcement.type) + \" fa-2x text-white\"}></i>&nbsp; {announcement.title}</h3>\n                        <p className=\"text-white font-light\">\n                          {announcement.description}\n                        </p>\n                      </div>\n                    ))\n                    \n                  }\n\n                  </div>\n                  <br />\n                  <ol class=\"carousel-indicators\">\n                    {announcements &&\n                      (announcements.filter(item=> item.userTypes.includes('LEARNER')).map((announcement, index) =>\n                        <li data-target=\"#announcementCarousel\" data-slide-to={index} class={(index === 0 ? \"active\" : \"\")}></li>\n                      ))\n                    }\n                  </ol>\n                </div>\n              </div>\n            </div>\n            {/* <!-- Column --> */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}