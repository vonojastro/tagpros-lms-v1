{"ast":null,"code":"import { getStatusDisplay } from \"components/common/ClassDetails\";\nimport Immutable from \"immutable\";\nimport { GET_CLASSES, GET_CLASSES_ADMIN, GET_ACTIVE_CLASSES, GET_LEARNER_ENROLLED_CLASSES, GET_ALL_ENROLLED_CLASSES, // POST_CLASS_APPROVAL,\nGET_CLASS_DETAILS, ENROLL_CLASS, ENROLL_CLASS_SOLO, GET_PENDING_ENROLLMENT, VIEW_ALL_CLASS, GET_ENROLLMENT_HISTORY, GET_FINAL_RECORDED_CLASSES } from \"../actions/class\";\nconst initialState = {\n  data: {\n    class: [],\n    learner: [],\n    enrolledClass: [],\n    pendingEnrollment: [],\n    familyClass: [],\n    history: []\n  },\n  enroll: {}\n};\n\nconst classes = function () {\n  var _action$data;\n\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Immutable.fromJS(initialState);\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  let newState = state;\n\n  switch (action.type) {\n    case GET_CLASSES:\n      newState = newState.setIn([\"data\", \"class\"], action.data);\n      break;\n\n    case GET_CLASSES_ADMIN:\n      newState = newState.setIn([\"data\", \"class\"], action.data);\n      break;\n\n    case GET_ACTIVE_CLASSES:\n      newState = newState.setIn([\"data\", \"class\"], (_action$data = action.data) === null || _action$data === void 0 ? void 0 : _action$data.map(i => ({\n        statusDisplay: getStatusDisplay(i),\n        ...i\n      })));\n      break;\n\n    case GET_LEARNER_ENROLLED_CLASSES:\n      newState = newState.setIn([\"data\", \"enrolledClass\"], action.data);\n      break;\n\n    case GET_ALL_ENROLLED_CLASSES:\n      newState = newState.setIn([\"data\", \"learner\"], action.data);\n      break;\n\n    case GET_PENDING_ENROLLMENT:\n      newState = newState.setIn([\"data\", \"pendingEnrollment\"], action.data);\n      break;\n\n    case GET_ENROLLMENT_HISTORY:\n      newState = newState.setIn([\"data\", \"history\"], action.data);\n      break;\n    // case POST_CLASS_APPROVAL: \n    //   console.log('newStateClass', action.data);\n    //   newState = newState.updateIn([\"data\", \"class\", action.data.index, \"status\"], () => action.data.status);\n    //   break;\n\n    case GET_CLASS_DETAILS:\n      newState = newState.setIn([\"data\", \"class\"], action.data);\n      break;\n\n    case ENROLL_CLASS:\n      newState = newState.set(\"enroll\", action.data);\n      break;\n\n    case ENROLL_CLASS_SOLO:\n      newState = newState.set(\"enroll\", action.data);\n      break;\n\n    case VIEW_ALL_CLASS:\n      newState = newState.setIn([\"data\", \"familyClass\"], action.data);\n      break;\n\n    case GET_FINAL_RECORDED_CLASSES:\n      newState = newState.setIn([\"data\", \"class\"], action.data);\n      break;\n    // no default\n  }\n\n  return newState;\n};\n\nexport default classes;","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/redux/reducers/classes.js"],"names":["getStatusDisplay","Immutable","GET_CLASSES","GET_CLASSES_ADMIN","GET_ACTIVE_CLASSES","GET_LEARNER_ENROLLED_CLASSES","GET_ALL_ENROLLED_CLASSES","GET_CLASS_DETAILS","ENROLL_CLASS","ENROLL_CLASS_SOLO","GET_PENDING_ENROLLMENT","VIEW_ALL_CLASS","GET_ENROLLMENT_HISTORY","GET_FINAL_RECORDED_CLASSES","initialState","data","class","learner","enrolledClass","pendingEnrollment","familyClass","history","enroll","classes","state","fromJS","action","newState","type","setIn","map","i","statusDisplay","set"],"mappings":"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","sourcesContent":["import { getStatusDisplay } from \"components/common/ClassDetails\";\nimport Immutable from \"immutable\";\nimport {\n  GET_CLASSES,\n  GET_CLASSES_ADMIN,\n  GET_ACTIVE_CLASSES,\n  GET_LEARNER_ENROLLED_CLASSES,\n  GET_ALL_ENROLLED_CLASSES,\n  // POST_CLASS_APPROVAL,\n  GET_CLASS_DETAILS,\n  ENROLL_CLASS,\n  ENROLL_CLASS_SOLO,\n  GET_PENDING_ENROLLMENT,\n  VIEW_ALL_CLASS,\n  GET_ENROLLMENT_HISTORY,\n  GET_FINAL_RECORDED_CLASSES\n} from \"../actions/class\";\n\nconst initialState = {\n  data: {\n    class: [],\n    learner: [],\n    enrolledClass: [],\n    pendingEnrollment: [],\n    familyClass: [],\n    history: [],\n  },\n  enroll: {}\n};\n\nconst classes = (state = Immutable.fromJS(initialState), action) => {\n  let newState = state;\n\n  switch (action.type) {\n    case GET_CLASSES:\n      newState = newState.setIn([\"data\", \"class\"], action.data);\n      break;\n    case GET_CLASSES_ADMIN:\n      newState = newState.setIn([\"data\", \"class\"], action.data);\n      break;\n    case GET_ACTIVE_CLASSES:\n      newState = newState.setIn([\"data\", \"class\"], action.data?.map((i)=>({statusDisplay: getStatusDisplay(i), ...i})));\n      break;\n    case GET_LEARNER_ENROLLED_CLASSES:\n      newState = newState.setIn([\"data\", \"enrolledClass\"], action.data);\n      break;\n    case GET_ALL_ENROLLED_CLASSES:\n      newState = newState.setIn([\"data\", \"learner\"], action.data);\n      break;\n    case  GET_PENDING_ENROLLMENT:\n      newState = newState.setIn([\"data\", \"pendingEnrollment\"], action.data);\n      break;\n    case  GET_ENROLLMENT_HISTORY:\n      newState = newState.setIn([\"data\", \"history\"], action.data);\n      break;\n    // case POST_CLASS_APPROVAL: \n    //   console.log('newStateClass', action.data);\n    //   newState = newState.updateIn([\"data\", \"class\", action.data.index, \"status\"], () => action.data.status);\n    //   break;\n    case GET_CLASS_DETAILS:\n      newState = newState.setIn([\"data\", \"class\"], action.data);\n      break;\n    case ENROLL_CLASS:\n      newState = newState.set(\"enroll\", action.data);\n      break;\n    case ENROLL_CLASS_SOLO:\n      newState = newState.set(\"enroll\", action.data);\n      break;\n    case VIEW_ALL_CLASS:\n        newState = newState.setIn([\"data\", \"familyClass\"], action.data);\n        break;\n    case GET_FINAL_RECORDED_CLASSES:\n      newState = newState.setIn([\"data\", \"class\"], action.data);\n      break;\n    // no default\n  }\n  return newState;\n};\n\nexport default classes;\n"]},"metadata":{},"sourceType":"module"}