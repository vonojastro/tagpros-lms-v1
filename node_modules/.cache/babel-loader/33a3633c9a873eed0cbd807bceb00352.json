{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Profile/EditProfile/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateAccountDetails, getUserProfile, changePassword } from \"../../../api/account\";\nimport { toast } from 'react-toastify';\nimport schema from '../../../validators/registration';\nimport { errorMessage } from '../../../validators/errorMessages';\nimport { Autocomplete } from \"components/common/Form/Inputs\";\nimport './index.css';\nimport { LEARNER_GRADE_LEVELS } from \"utils/constants\";\nimport moment from 'moment'; // import { setLastLogin } from \"redux/actions/auth\";\n\nimport { useNavigate } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditProfile() {\n  _s();\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const initialValidation = {\n    firstName: {\n      validationType: \"\"\n    },\n    lastName: {\n      validationType: \"\"\n    },\n    gender: {\n      validationType: \"\"\n    },\n    birthday: {\n      validationType: \"\"\n    },\n    gradeLevel: {\n      validationType: \"\"\n    },\n    salutation: {\n      validationType: \"\"\n    },\n    nickname: {\n      validationType: \"\"\n    },\n    phone: {\n      validationType: \"\"\n    },\n    email: {\n      validationType: \"\"\n    },\n    password: {\n      validationType: \"\"\n    },\n    oldPassword: {\n      validationType: \"\"\n    },\n    confirmPassword: {\n      validationType: \"\"\n    }\n  };\n  const maxBday = moment(new Date()).subtract(4, 'years').format('YYYY-MM-DD');\n  const {\n    firstName,\n    lastName,\n    email,\n    contactNumber,\n    aboutMe,\n    photo,\n    type,\n    salutation,\n    nickname,\n    gender,\n    birthday,\n    gradeLevel\n  } = useSelector(state => state.auth.user);\n  const lastLogin = useSelector(state => state.auth.lastLogin ? state.auth.lastLogin : null);\n  const [editPersonalFlag, setEditPersonalFlag] = useState(false);\n  const [editPasswordFlag, setEditPasswordFlag] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [validationFields, setValidationFields] = useState(initialValidation);\n  const [changePass, setChangePass] = useState(false);\n  React.useEffect(() => {\n    getUserProfile(dispatch); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onBlur = async event => {\n    var {\n      name,\n      value\n    } = event.target;\n\n    try {\n      if (name === \"password\") {\n        setPassword(value);\n      }\n\n      if (name === \"confirmPassword\") {\n        value = {\n          value,\n          password\n        };\n      }\n\n      await schema.validateAt(name, {\n        [name]: value\n      });\n      setValidationFieldKeywords(name, \"valid\");\n    } catch (error) {\n      //* yup error: { ValidationError, errors }\n      var validationType = error.errors ? error.errors.toString() : \"\";\n      setValidationFieldKeywords(name, validationType);\n    }\n  };\n\n  const setValidationFieldKeywords = function (name) {\n    let validationType = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"\";\n    const validation = { ...validationFields,\n      [name]: {\n        validationType: validationType\n      }\n    };\n    setValidationFields(validation);\n  };\n\n  const validationMessage = params => {\n    var validationType = validationFields[params].validationType;\n\n    if (validationType) {\n      if (validationType in errorMessage) return \"invalid-feedback\";else return \"valid-feedback\";\n    } else return \"\";\n  };\n\n  const validationFieldColor = params => {\n    var validationType = validationFields[params].validationType;\n\n    if (validationType) {\n      if (validationType in errorMessage) return \"has-danger has-error\";else return \"has-success\";\n      /**Enable valid field color */\n    } else return \"\";\n  };\n\n  const validationInputIcon = params => {\n    var validationType = validationFields[params].validationType;\n\n    if (validationType) {\n      if (validationType in errorMessage) return \"is-invalid\";\n    } else return \"\";\n  };\n\n  const getErrorMessage = (params, placeholder) => {\n    var validationType = validationFields[params].validationType;\n\n    if (validationType) {\n      if (validationType in errorMessage) {\n        if ([\"too_short\", \"too_long\", \"too_long_2\", \"special_char\"].includes(validationType)) {\n          return placeholder + errorMessage[validationType];\n        }\n\n        return errorMessage[validationType] ? errorMessage[validationType] : validationType;\n      }\n\n      ;\n    } else return \"\";\n  };\n\n  const onCancelEdit = form => {\n    let validations = {};\n\n    if (form === \"personal\") {\n      validations = { ...validationFields,\n        firstName: {\n          validationType: \"\"\n        },\n        lastName: {\n          validationType: \"\"\n        },\n        phone: {\n          validationType: \"\"\n        },\n        email: {\n          validationType: \"\"\n        },\n        gender: {\n          validationType: \"\"\n        },\n        birthday: {\n          validationType: \"\"\n        },\n        gradeLevel: {\n          validationType: \"\"\n        }\n      };\n      setEditPersonalFlag(false);\n    } else {\n      validations = { ...validationFields,\n        password: {\n          validationType: \"\"\n        },\n        oldPassword: {\n          validationType: \"\"\n        },\n        confirmPassword: {\n          validationType: \"\"\n        }\n      };\n      setEditPasswordFlag(false);\n    }\n\n    setValidationFields(validations);\n  };\n\n  const handleSubmit = async event => {\n    var _event$target$element, _event$target$element2;\n\n    event.preventDefault();\n    setSubmitLoading(true);\n    const user = {\n      salutation: (_event$target$element = event.target.elements.salutation) === null || _event$target$element === void 0 ? void 0 : _event$target$element.value,\n      nickname: (_event$target$element2 = event.target.elements.nickname) === null || _event$target$element2 === void 0 ? void 0 : _event$target$element2.value,\n      firstName: event.target.elements.firstName.value,\n      lastName: event.target.elements.lastName.value,\n      contactNumber: event.target.elements.phone.value,\n      aboutMe: event.target.elements.aboutMe.value,\n      gender: event.target.elements.gender.value,\n      birthday: event.target.elements.birthday.value,\n      gradeLevel: type === \"learner\" ? event.target.elements.gradeLevel.value : null\n    };\n    await updateAccountDetails(dispatch, user, status => {\n      setSubmitLoading(false);\n\n      if (status) {\n        setEditPersonalFlag(false);\n        getUserProfile(dispatch);\n        toast.success(\"Account Details has been successfully updated!\");\n\n        if (lastLogin === null && (type === \"learner\" || type === \"family\") && photo !== null && photo !== \"\" && photo !== undefined) {\n          if (type === \"learner\") {// dispatch(setLastLogin(true));\n          }\n\n          navigate(\"/\", {\n            replace: true\n          });\n        }\n      } else {\n        toast.error(\"Failed updating account details. Please try again.\");\n      }\n    });\n  };\n\n  const handleChangePassword = async event => {\n    event.preventDefault();\n    setChangePass(true);\n    const password = {\n      oldPassword: event.target.elements.oldPassword.value,\n      newPassword: event.target.elements.password.value,\n      source: 'change_pass'\n    };\n    await changePassword(password, status => {\n      setChangePass(false);\n\n      if (status) {\n        setEditPasswordFlag(false);\n        toast.success(\"Password has been changed successfully!\");\n      } else {\n        toast.error(\"Change password failed. Please make sure your current password is correct.\");\n      }\n    });\n  };\n\n  const salutations = ['Mr.', 'Sir', 'Ms.', 'Mrs.', 'Ma\\'am', 'Professor', 'Teacher'];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card-body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '10px 20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderBottom: '3px #8080805c solid'\n        },\n        className: \"row justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          style: {\n            paddingTop: '10px'\n          },\n          children: \"PERSONAL DETAILS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-link\",\n          style: {\n            display: !!editPersonalFlag ? 'none' : 'block'\n          },\n          onClick: () => setEditPersonalFlag(true),\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-horizontal floating-labels\",\n      onSubmit: handleSubmit,\n      children: [type === 'teacher' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: \"How would you like to be addressed?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"col-md-12\",\n              children: \"Salutation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `col-md-12 ${validationFieldColor(\"salutation\")} has-feedback`,\n              children: [/*#__PURE__*/_jsxDEV(Autocomplete, {\n                name: \"salutation\",\n                className: `form-control ${validationInputIcon(\"salutation\")}`,\n                suggestions: salutations,\n                defaultValue: salutation,\n                disabled: !editPersonalFlag,\n                onBlur: onBlur\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: validationMessage(\"salutation\"),\n                children: getErrorMessage(\"salutation\", \"Salutation\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-9\",\n            children: [/*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"col-md-12 lbl\",\n              children: \"Nickname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `col-md-12 ${validationFieldColor(\"nickname\")} has-feedback`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: `form-control ${validationInputIcon(\"nickname\")}`,\n                type: \"text\",\n                name: \"nickname\",\n                defaultValue: nickname,\n                disabled: !editPersonalFlag,\n                onBlur: onBlur\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: validationMessage(\"nickname\"),\n                children: getErrorMessage(\"nickname\", \"Nickname\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: !!editPersonalFlag ? 'block' : 'none'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"col-md-12 lbl\",\n              children: \"First Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `col-md-12 ${validationFieldColor(\"firstName\")} has-feedback`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: `form-control ${validationInputIcon(\"firstName\")}`,\n                type: \"text\",\n                name: \"firstName\",\n                defaultValue: firstName,\n                onBlur: onBlur\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: validationMessage(\"firstName\"),\n                children: getErrorMessage(\"firstName\", \"First Name\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"col-md-12 lbl\",\n              children: \"Last Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `col-md-12 ${validationFieldColor(\"lastName\")} has-feedback`,\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                className: `form-control ${validationInputIcon(\"lastName\")}`,\n                type: \"text\",\n                name: \"lastName\",\n                defaultValue: lastName,\n                onBlur: onBlur\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: validationMessage(\"lastName\"),\n                children: getErrorMessage(\"lastName\", \"Last Name\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          display: !!editPersonalFlag ? 'none' : 'block'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: \"Full Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: firstName + \" \" + lastName,\n            className: \"form-control form-control-line\",\n            disabled: !editPersonalFlag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: \"Sex\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `col-md-12 ${validationFieldColor(\"gender\")} has-feedback`,\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"custom-select\",\n            name: \"gender\",\n            defaultValue: gender,\n            disabled: !editPersonalFlag,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: null,\n              selected: true,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 1,\n              children: \"Male\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: 2,\n              children: \"Female\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: validationMessage(\"gender\"),\n            children: getErrorMessage(\"gender\", \"Sex\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: \"Date of Birth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `col-md-12 ${validationFieldColor(\"birthday\")} has-feedback`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            defaultValue: birthday ? moment(new Date(birthday)).format('YYYY-MM-DD') : null,\n            className: \"form-control form-control-line\",\n            name: \"birthday\",\n            max: maxBday,\n            onKeyDown: e => e.preventDefault(),\n            disabled: !editPersonalFlag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: validationMessage(\"birthday\"),\n            children: getErrorMessage(\"birthday\", \"Birthday\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), type === \"learner\" && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: \"Grade Level\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `col-md-12 ${validationFieldColor(\"gradeLevel\")} has-feedback`,\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            class: \"custom-select\",\n            name: \"gradeLevel\",\n            defaultValue: gradeLevel,\n            disabled: !editPersonalFlag,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: null,\n              selected: true,\n              disabled: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), LEARNER_GRADE_LEVELS.map(item => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: item.value,\n              children: item.label\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 53\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: validationMessage(\"gradeLevel\"),\n            children: getErrorMessage(\"gradeLevel\", \"Grade Level\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          htmlFor: \"example-email\",\n          className: \"col-md-12 lbl\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `col-md-12 ${validationFieldColor(\"email\")} has-feedback`,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            defaultValue: email,\n            className: \"form-control form-control-line\",\n            name: \"email\",\n            id: \"example-email\",\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: [\"Phone No \", /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: 'red'\n            },\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `col-md-12 ${validationFieldColor(\"phone\")} has-feedback`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: `form-control ${validationInputIcon(\"phone\")}`,\n            type: \"text\",\n            name: \"phone\",\n            defaultValue: contactNumber,\n            onBlur: onBlur,\n            disabled: !editPersonalFlag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: validationMessage(\"phone\"),\n            children: getErrorMessage(\"phone\", \"Phone No.\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: [\"About Me \", /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: 'red'\n            },\n            children: \"*\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 has-feedback\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            rows: 5,\n            className: \"form-control form-control-line\",\n            name: \"aboutMe\",\n            defaultValue: aboutMe,\n            disabled: !editPersonalFlag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: !!editPersonalFlag ? 'block' : 'none',\n          marginRight: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group row justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-link\",\n            style: {\n              marginRight: '20px'\n            },\n            type: \"reset\",\n            onClick: () => onCancelEdit('personal'),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-info\",\n            type: \"submit\",\n            disabled: submitLoading,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                display: submitLoading ? 'inline-block' : 'none'\n              },\n              class: \"spinner-border spinner-border-sm btn-load\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 17\n            }, this), \"Update Profile\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 404,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-horizontal floating-labels\",\n      onSubmit: handleChangePassword,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '10px 20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderBottom: '3px #8080805c solid'\n          },\n          className: \"row justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            style: {\n              paddingTop: '10px'\n            },\n            children: \"CHANGE PASSWORD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-link\",\n            style: {\n              display: !!editPasswordFlag ? 'none' : 'block'\n            },\n            type: \"reset\",\n            onClick: () => setEditPasswordFlag(true),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: \"Current Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `col-md-12 ${validationFieldColor(\"oldPassword\")} has-feedback`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: `form-control ${validationInputIcon(\"oldPassword\")}`,\n            type: \"password\",\n            name: \"oldPassword\",\n            onBlur: onBlur,\n            defaultValue: !editPasswordFlag ? \"password\" : \"\",\n            disabled: !editPasswordFlag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: validationMessage(\"oldPassword\"),\n            children: getErrorMessage(\"oldPassword\", \"Current Password\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          display: !!editPasswordFlag ? 'block' : 'none'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: \"New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `col-md-12 ${validationFieldColor(\"password\")} has-feedback`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: `form-control ${validationInputIcon(\"password\")}`,\n            type: \"password\",\n            name: \"password\",\n            onBlur: onBlur\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: validationMessage(\"password\"),\n            children: getErrorMessage(\"password\", \"New Password\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          display: !!editPasswordFlag ? 'block' : 'none'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"col-md-12 lbl\",\n          children: \"Confirm New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `col-md-12 ${validationFieldColor(\"confirmPassword\")} has-feedback`,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: `form-control ${validationInputIcon(\"confirmPassword\")}`,\n            type: \"password\",\n            name: \"confirmPassword\",\n            onBlur: onBlur\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: validationMessage(\"confirmPassword\"),\n            children: getErrorMessage(\"confirmPassword\", \"Confirm Password\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 451,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: !!editPasswordFlag ? 'block' : 'none',\n          marginRight: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group row float-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-link\",\n            style: {\n              marginRight: '20px'\n            },\n            type: \"reset\",\n            onClick: () => onCancelEdit('password'),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-info\",\n            type: \"submit\",\n            disabled: changePass,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                display: changePass ? 'inline-block' : 'none'\n              },\n              class: \"spinner-border spinner-border-sm btn-load\",\n              role: \"status\",\n              \"aria-hidden\": \"true\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 17\n            }, this), \"Change Password\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 465,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 210,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditProfile, \"m+li9VjdAVK/yB9IFYRfHW5xmI8=\", false, function () {\n  return [useDispatch, useNavigate, useSelector, useSelector];\n});\n\n_c = EditProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditProfile\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Profile/EditProfile/index.jsx"],"names":["React","useState","useSelector","useDispatch","updateAccountDetails","getUserProfile","changePassword","toast","schema","errorMessage","Autocomplete","LEARNER_GRADE_LEVELS","moment","useNavigate","EditProfile","dispatch","navigate","initialValidation","firstName","validationType","lastName","gender","birthday","gradeLevel","salutation","nickname","phone","email","password","oldPassword","confirmPassword","maxBday","Date","subtract","format","contactNumber","aboutMe","photo","type","state","auth","user","lastLogin","editPersonalFlag","setEditPersonalFlag","editPasswordFlag","setEditPasswordFlag","setPassword","submitLoading","setSubmitLoading","validationFields","setValidationFields","changePass","setChangePass","useEffect","onBlur","event","name","value","target","validateAt","setValidationFieldKeywords","error","errors","toString","validation","validationMessage","params","validationFieldColor","validationInputIcon","getErrorMessage","placeholder","includes","onCancelEdit","form","validations","handleSubmit","preventDefault","elements","status","success","undefined","replace","handleChangePassword","newPassword","source","salutations","padding","borderBottom","paddingTop","display","e","map","item","label","color","marginRight"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateAccountDetails, getUserProfile, changePassword } from \"../../../api/account\";\nimport { toast } from 'react-toastify';\nimport schema from '../../../validators/registration';\nimport { errorMessage } from '../../../validators/errorMessages';\nimport { Autocomplete } from \"components/common/Form/Inputs\";\nimport './index.css';\nimport { LEARNER_GRADE_LEVELS } from \"utils/constants\";\nimport moment from 'moment';\n// import { setLastLogin } from \"redux/actions/auth\";\nimport { useNavigate } from \"react-router\";\n\nexport default function EditProfile() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const initialValidation = {\n    firstName: { validationType: \"\" },\n    lastName: { validationType: \"\" },\n    gender: { validationType: \"\" },\n    birthday: { validationType: \"\" },\n    gradeLevel: { validationType: \"\" },\n    salutation: { validationType: \"\" },\n    nickname: { validationType: \"\" },\n    phone: { validationType: \"\" },\n    email: { validationType: \"\" },\n    password: { validationType: \"\" },\n    oldPassword: { validationType: \"\" },\n    confirmPassword: { validationType: \"\" }\n  }\n\n  const maxBday = (moment(new Date()).subtract(4, 'years')).format('YYYY-MM-DD');\n\n  const { firstName, lastName, email, contactNumber, aboutMe, photo, type, salutation, nickname, gender, birthday, gradeLevel } = useSelector((state) => state.auth.user);\n  const lastLogin = useSelector((state) =>\n    state.auth.lastLogin ? state.auth.lastLogin : null\n  );\n\n  const [editPersonalFlag, setEditPersonalFlag] = useState(false);\n  const [editPasswordFlag, setEditPasswordFlag] = useState(false);\n  const [password, setPassword] = useState(\"\");\n  const [submitLoading, setSubmitLoading] = useState(false);\n  const [validationFields, setValidationFields] = useState(initialValidation);\n  const [changePass, setChangePass] = useState(false);\n\n  React.useEffect(() => {\n    getUserProfile(dispatch)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const onBlur = async(event) => {\n\t\tvar { name, value } = event.target;\n\t\ttry {\n      if(name === \"password\"){\n        setPassword(value);\n      }\n      \n\t\t\tif (name === \"confirmPassword\") {\n\t\t\t\tvalue = { value, password }\n\t\t\t}\n\n\t\t\tawait schema.validateAt(name ,{[name] : value});\n\t\t\tsetValidationFieldKeywords(name, \"valid\")\n\n\t\t} catch(error) { //* yup error: { ValidationError, errors }\n\t\t\tvar validationType = error.errors ? error.errors.toString() : \"\";\n\n\t\t\tsetValidationFieldKeywords(name, validationType)\n\t\t}\n\t}\n\n  const setValidationFieldKeywords = (name, validationType = \"\") => {\n\t\t\tconst validation = { ...validationFields, \n\t\t\t\t[name] : { validationType: validationType }\n\t\t\t};\n\n      setValidationFields(validation);\n\t}\n\n  const validationMessage = (params) => {\n\t\tvar validationType = validationFields[params].validationType;\n\n\t\tif(validationType) {\n\t\t\tif(validationType in errorMessage) return \"invalid-feedback\";\n\t\t\telse return \"valid-feedback\";\n\t\t}\n\n\t\telse return \"\"\n\t}\n\n  const validationFieldColor = (params) => {\n\t\tvar validationType = validationFields[params].validationType;\n\n\t\tif(validationType) {\n\t\t\tif(validationType in errorMessage) return \"has-danger has-error\"\n\t\t\telse return \"has-success\" /**Enable valid field color */\n\t\t} \n\t\telse return \"\" \n\t}\n\n  const validationInputIcon = (params) => {\n\t\tvar validationType = validationFields[params].validationType;\n\n\t\tif(validationType) {\n\t\t\tif(validationType in errorMessage) return \"is-invalid\";\n\t\t}\n\n\t\telse return \"\"\n\t}\n\n  const getErrorMessage = (params, placeholder) => {\n\t\tvar validationType = validationFields[params].validationType;\n\n\t\tif(validationType) {\n\t\t\tif(validationType in errorMessage) { \n\t\t\t\tif ([\"too_short\", \"too_long\", \"too_long_2\", \"special_char\"].includes(validationType)) {\n\t\t\t\t\treturn placeholder + errorMessage[validationType] \n\t\t\t\t}\n\t\t\t\treturn errorMessage[validationType] ? errorMessage[validationType] : validationType\n\t\t\t};\n\t\t}\n\n\t\telse return \"\";\n\t}\n\n  const onCancelEdit = (form) => {\n    let validations = {};\n    if(form === \"personal\"){\n      validations = { ...validationFields, \n\t\t\t\tfirstName: { validationType: \"\" },\n        lastName: { validationType: \"\" },\n        phone: { validationType: \"\" },\n        email: { validationType: \"\" }, \n        gender: { validationType: \"\" }, \n        birthday: { validationType: \"\" }, \n        gradeLevel: { validationType: \"\" }, \n      }\n      setEditPersonalFlag(false);\n    }else{\n      validations = { ...validationFields, \n\t\t\t\tpassword: { validationType: \"\" },\n        oldPassword: { validationType: \"\" },\n        confirmPassword: { validationType: \"\" }\n      }\n      setEditPasswordFlag(false);\n    }\n\n    setValidationFields(validations);\n  }\n  \n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setSubmitLoading(true);\n    \n    const user = {\n      salutation: event.target.elements.salutation?.value,\n      nickname: event.target.elements.nickname?.value,\n      firstName: event.target.elements.firstName.value,\n      lastName: event.target.elements.lastName.value,\n      contactNumber: event.target.elements.phone.value,\n      aboutMe: event.target.elements.aboutMe.value,\n      gender: event.target.elements.gender.value,\n      birthday: event.target.elements.birthday.value,\n      gradeLevel: type === \"learner\" ? event.target.elements.gradeLevel.value : null,\n    }\n\n    await updateAccountDetails(dispatch, user, (status) => {\n      setSubmitLoading(false);\n      if(status){\n        setEditPersonalFlag(false);\n        getUserProfile(dispatch);\n        toast.success(\"Account Details has been successfully updated!\");\n        if (lastLogin === null && (type === \"learner\" || type === \"family\") && (photo !== null && photo !== \"\" && photo !== undefined)) {\n          if(type === \"learner\"){\n            // dispatch(setLastLogin(true));\n          }\n\n          navigate(\"/\", { replace: true });\n        }\n      }else{\n        toast.error(\"Failed updating account details. Please try again.\");\n      }\n    });\n  }\n\n  const handleChangePassword = async (event) => {\n    event.preventDefault();\n    setChangePass(true);\n\n    const password = {\n      oldPassword: event.target.elements.oldPassword.value,\n      newPassword: event.target.elements.password.value,\n      source: 'change_pass'\n    }\n    \n    await changePassword(password, (status) => {\n      setChangePass(false);\n      if(status){\n        setEditPasswordFlag(false);\n        toast.success(\"Password has been changed successfully!\");\n      }else{\n        toast.error(\"Change password failed. Please make sure your current password is correct.\");\n      }\n    })\n  }\n\n  const salutations = ['Mr.','Sir','Ms.','Mrs.','Ma\\'am', 'Professor', 'Teacher'];\n\n  return (\n    <div className=\"card-body\">\n      <div style={{padding: '10px 20px'}}>\n        <div style={{borderBottom: '3px #8080805c solid'}} className=\"row justify-content-between\">\n          <h5 style={{paddingTop: '10px'}}>PERSONAL DETAILS</h5>\n          <button className=\"btn btn-link\" style={{display: !!editPersonalFlag ? 'none' : 'block'}} onClick={() => setEditPersonalFlag(true)}>\n            <i className=\"fas fa-edit\"></i>\n          </button>\n        </div>\n      </div>\n      <br />\n      <form className=\"form-horizontal floating-labels\" onSubmit={handleSubmit}>\n      {type === 'teacher' && <div>\n        <span className=\"col-md-12 lbl\">How would you like to be addressed?</span>\n        <div className=\"form-group row\">\n            <div className=\"col\">\n              <small className=\"col-md-12\">Salutation</small>\n              <div className={`col-md-12 ${validationFieldColor(\"salutation\")} has-feedback`}>\n                <Autocomplete name=\"salutation\" className={`form-control ${validationInputIcon(\"salutation\")}`} \n                  suggestions={salutations} defaultValue={salutation} disabled = {!editPersonalFlag} onBlur={onBlur}/>\n                \n                <span className=\"bar\"></span>\n\n                <div className={validationMessage(\"salutation\")}> \n                  {getErrorMessage(\"salutation\", \"Salutation\")} \n                </div>\n              </div>\n            </div>\n            <div className=\"col-9\">\n              <small className=\"col-md-12 lbl\">Nickname</small>\n              <div className={`col-md-12 ${validationFieldColor(\"nickname\")} has-feedback`}>\n                <input className={`form-control ${validationInputIcon(\"nickname\")}`} type=\"text\"\n                      name=\"nickname\" defaultValue={nickname} disabled = {!editPersonalFlag} onBlur={onBlur}/>\n\n                <span className=\"bar\"></span>\n\n                <div className={validationMessage(\"nickname\")}> \n                  {getErrorMessage(\"nickname\", \"Nickname\")} \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>}\n        <div style={{display: !!editPersonalFlag ? 'block' : 'none'}}>\n          <div className=\"form-group row\">\n            <div className=\"col\">\n              <span className=\"col-md-12 lbl\">First Name</span>\n              <div className={`col-md-12 ${validationFieldColor(\"firstName\")} has-feedback`}>\n                <input className={`form-control ${validationInputIcon(\"firstName\")}`} type=\"text\"\n                      name=\"firstName\" defaultValue={firstName}\n                      onBlur={onBlur}/>\n\n                <span className=\"bar\"></span>\n\n                <div className={validationMessage(\"firstName\")}> \n                  {getErrorMessage(\"firstName\", \"First Name\")} \n                </div>\n              </div>\n            </div>\n            <div className=\"col\">\n              <span className=\"col-md-12 lbl\">Last Name</span>\n              <div className={`col-md-12 ${validationFieldColor(\"lastName\")} has-feedback`}>\n                <input className={`form-control ${validationInputIcon(\"lastName\")}`} type=\"text\"\n                      name=\"lastName\" defaultValue={lastName}\n                      onBlur={onBlur}/>\n\n                <span className=\"bar\"></span>\n\n                <div className={validationMessage(\"lastName\")}> \n                  {getErrorMessage(\"lastName\", \"Last Name\")} \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\" style={{display: !!editPersonalFlag ? 'none' : 'block'}}>\n          <span className=\"col-md-12 lbl\">Full Name</span>\n          <div className=\"col-md-12\">\n            <input\n              type=\"text\"\n              value={firstName + \" \" + lastName}\n              className=\"form-control form-control-line\"\n              disabled = {!editPersonalFlag}\n            />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <span className=\"col-md-12 lbl\">Sex</span>\n          <div className={`col-md-12 ${validationFieldColor(\"gender\")} has-feedback`}>\n            <select class=\"custom-select\" name=\"gender\" defaultValue={gender} disabled = {!editPersonalFlag}>\n                <option value={null} selected disabled></option>\n                <option value={1}>Male</option>\n                <option value={2}>Female</option>\n            </select>\n\n            <span className=\"bar\"></span>\n\n            <div className={validationMessage(\"gender\")}> \n              {getErrorMessage(\"gender\", \"Sex\")} \n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <span className=\"col-md-12 lbl\">Date of Birth</span>\n          <div className={`col-md-12 ${validationFieldColor(\"birthday\")} has-feedback`}>\n            <input\n                type=\"date\"\n                defaultValue={birthday ? moment(new Date(birthday)).format('YYYY-MM-DD'): null}\n                className=\"form-control form-control-line\"\n                name=\"birthday\"\n                max={maxBday}\n                onKeyDown={(e) => e.preventDefault()}\n                disabled = {!editPersonalFlag}\n              />\n\n            <span className=\"bar\"></span>\n\n            <div className={validationMessage(\"birthday\")}> \n              {getErrorMessage(\"birthday\", \"Birthday\")} \n            </div>\n          </div>\n        </div>\n        {type === \"learner\" && <div className=\"form-group\">\n          <span className=\"col-md-12 lbl\">Grade Level</span>\n          <div className={`col-md-12 ${validationFieldColor(\"gradeLevel\")} has-feedback`}>\n            <select class=\"custom-select\" name=\"gradeLevel\" defaultValue={gradeLevel} disabled = {!editPersonalFlag}>\n                <option value={null} selected disabled></option>\n                {LEARNER_GRADE_LEVELS.map((item) => <option value={item.value}>{item.label}</option>)}\n            </select>\n\n            <span className=\"bar\"></span>\n\n            <div className={validationMessage(\"gradeLevel\")}> \n              {getErrorMessage(\"gradeLevel\", \"Grade Level\")} \n            </div>\n          </div>\n        </div>}\n        <div className=\"form-group\">\n          <span htmlFor=\"example-email\" className=\"col-md-12 lbl\">\n            Email\n          </span>\n          <div className={`col-md-12 ${validationFieldColor(\"email\")} has-feedback`}>\n            <input\n              type=\"email\"\n              defaultValue={email}\n              className=\"form-control form-control-line\"\n              name=\"email\"\n              id=\"example-email\"\n              disabled = {true}\n            />\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <span className=\"col-md-12 lbl\">Phone No <small style={{color: 'red'}}>*</small></span>\n          <div className={`col-md-12 ${validationFieldColor(\"phone\")} has-feedback`}>\n            <input className={`form-control ${validationInputIcon(\"phone\")}`} type=\"text\"\n                      name=\"phone\" defaultValue={contactNumber}\n                      onBlur={onBlur} disabled = {!editPersonalFlag}/>\n\n            <span className=\"bar\"></span>\n\n            <div className={validationMessage(\"phone\")}> \n              {getErrorMessage(\"phone\", \"Phone No.\")} \n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\">\n          <span className=\"col-md-12 lbl\">About Me <small style={{color: 'red'}}>*</small></span>\n          <div className=\"col-md-12 has-feedback\">\n            <textarea\n              rows={5}\n              className=\"form-control form-control-line\"\n              name=\"aboutMe\"\n              defaultValue={aboutMe}\n              disabled = {!editPersonalFlag}\n            />\n\n            <span className=\"bar\"></span>\n          </div>\n        </div>\n        {/* <div className=\"form-group\">\n          <label className=\"col-sm-12\">Select Country</label>\n          <div className=\"col-sm-12\">\n            <select className=\"form-control form-control-line\">\n              <option>Philippines</option>\n              <option>India</option>\n              <option>Usa</option>\n              <option>Canada</option>\n              <option>Thailand</option>\n            </select>\n          </div>\n        </div> */}\n        <div style={{display: !!editPersonalFlag ? 'block': 'none', marginRight: '20px'}}>\n          <div className=\"form-group row justify-content-end\">\n              <button className=\"btn btn-link\" style={{marginRight:'20px'}} type=\"reset\" onClick={() => onCancelEdit('personal')}>Cancel</button>\n              <button className=\"btn btn-info\" type=\"submit\" disabled={submitLoading}>\n                <span style={{ display: submitLoading ? 'inline-block' : 'none' }} class=\"spinner-border spinner-border-sm btn-load\" role=\"status\" aria-hidden=\"true\"></span>\n                Update Profile\n              </button>\n          </div>\n        </div>\n      </form>\n\n      \n      <form className=\"form-horizontal floating-labels\" onSubmit={handleChangePassword}>\n        <div style={{padding: '10px 20px'}}>\n          <div style={{borderBottom: '3px #8080805c solid'}} className=\"row justify-content-between\">\n            <h5 style={{paddingTop: '10px'}}>CHANGE PASSWORD</h5>\n            <button className=\"btn btn-link\" style={{display: !!editPasswordFlag ? 'none' : 'block'}} type=\"reset\" onClick={() => setEditPasswordFlag(true)}>\n              <i className=\"fas fa-edit\"></i>\n            </button>\n          </div>\n        </div>\n        <br />\n        <div className=\"form-group\">\n          <span className=\"col-md-12 lbl\">Current Password</span>\n          <div className={`col-md-12 ${validationFieldColor(\"oldPassword\")} has-feedback`}>\n            <input className={`form-control ${validationInputIcon(\"oldPassword\")}`} type=\"password\"\n                      name=\"oldPassword\" onBlur={onBlur} defaultValue={!editPasswordFlag ? \"password\" : \"\"} disabled={!editPasswordFlag}/>\n\n            <span className=\"bar\"></span>\n\n            <div className={validationMessage(\"oldPassword\")}> \n              {getErrorMessage(\"oldPassword\", \"Current Password\")} \n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\" style={{display: !!editPasswordFlag ? 'block': 'none'}}>\n          <span className=\"col-md-12 lbl\">New Password</span>\n          <div className={`col-md-12 ${validationFieldColor(\"password\")} has-feedback`}>\n            <input className={`form-control ${validationInputIcon(\"password\")}`} type=\"password\"\n                      name=\"password\" onBlur={onBlur}/>\n\n            <span className=\"bar\"></span>\n\n            <div className={validationMessage(\"password\")}> \n              {getErrorMessage(\"password\", \"New Password\")} \n            </div>\n          </div>\n        </div>\n        <div className=\"form-group\" style={{display: !!editPasswordFlag ? 'block': 'none'}}>\n          <span className=\"col-md-12 lbl\">Confirm New Password</span>\n          <div className={`col-md-12 ${validationFieldColor(\"confirmPassword\")} has-feedback`}>\n            <input className={`form-control ${validationInputIcon(\"confirmPassword\")}`} type=\"password\"\n                      name=\"confirmPassword\" onBlur={onBlur}/>\n\n            <span className=\"bar\"></span>\n\n            <div className={validationMessage(\"confirmPassword\")}> \n              {getErrorMessage(\"confirmPassword\", \"Confirm Password\")} \n            </div>\n          </div>\n        </div>\n        <div style={{display: !!editPasswordFlag ? 'block': 'none', marginRight: '20px'}}>\n          <div className=\"form-group row float-right\">\n              <button className=\"btn btn-link\" style={{marginRight:'20px'}} type=\"reset\" onClick={() => onCancelEdit('password')}>Cancel</button>\n              <button className=\"btn btn-info\" type=\"submit\" disabled={changePass}>\n                <span style={{ display: changePass ? 'inline-block' : 'none' }} class=\"spinner-border spinner-border-sm btn-load\" role=\"status\" aria-hidden=\"true\"></span>\n                Change Password\n              </button>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}