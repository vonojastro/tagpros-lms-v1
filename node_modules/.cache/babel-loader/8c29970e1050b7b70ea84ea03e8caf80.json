{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/SearchClassesPage/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { Fragment, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllActiveClasses } from 'api/class';\nimport Section from 'components/Page/Section';\nimport SearchClassesInput from 'components/common/SearchClassesInput';\nimport { ClassDetails, Page } from './styles';\nimport { Field, Form } from 'react-final-form';\nimport { CheckboxArrayControl, SelectControl } from 'components/common/Form/Inputs';\nimport { AGE_CATEGORIES as AC } from 'utils/constants';\nimport AutoSubmit from 'components/common/Form/AutoSubmit';\nimport Fuse from 'fuse.js';\nimport { useSearchParams } from 'react-router-dom';\nimport _ from 'lodash';\nimport Tagpi from 'components/common/Tagpi';\nimport { getDuration } from 'utils/utils';\nimport { Grid, List } from 'react-feather';\nimport { useToggle } from 'rooks';\nimport { classCategoriesSelector, getStatusDisplays, scheduleListSelector } from 'redux/selectors';\nimport moment from 'moment';\nimport { compareStatusDisplay } from 'components/Landing';\nimport OverflowSection from 'components/Page/OverflowSection';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AGE_CATEGORIES = AC.map(_c = e => {\n  e.value = e.label;\n  return e;\n}); // import _ from \"lodash\";\n\n/* eslint-disable */\n// returns all unique categoryCode from class array\n\n_c2 = AGE_CATEGORIES;\nconst fuseSearchOptions = {\n  includeScore: true,\n  keys: ['title', 'classIntroduction', 'categoryCode', 'ageCategory', 'schedule', 'statusDisplay'],\n  useExtendedSearch: true\n};\nexport default function SearchClassesPage() {\n  _s();\n\n  const [isGridView, toggleGridView] = useToggle(true);\n  const dispatch = useDispatch();\n  const allClasses = useSelector(state => state.classes ? state.classes.getIn(['data', 'class']).map(e => ({ ...e,\n    duration: getDuration(e.startTime, e.endTime, true)\n  })) : []);\n  const [fuse, setFuse] = useState(null);\n  const [results, setResults] = useState([]);\n\n  const Entities = require('html-entities').XmlEntities;\n\n  const he = new Entities();\n  let loading = useSelector(state => state.uiElements.getIn(['loadingScreen']));\n  const [params] = useSearchParams(); // When searching from ie: landing page, prefilters is present\n\n  useEffect(() => {\n    if (!Boolean(fuse) && allClasses.length) {\n      const f = new Fuse(allClasses.map(e => ({ ...e,\n        title: he.decode(e.title),\n        classIntroduction: he.decode(e.classIntroduction),\n        schedule: moment(e.startDate, 'YYYY/MM/DD').format('MMMM YYYY')\n      })), fuseSearchOptions);\n      setFuse(f);\n    }\n  }, [allClasses.length, Boolean(fuse)]);\n  const categoryCodes = useSelector(classCategoriesSelector);\n  let schedules = useSelector(scheduleListSelector);\n  schedules = schedules.map(v => ({\n    label: v,\n    value: v\n  }));\n\n  const handleSubmit = _ref => {\n    var _$trim;\n\n    let {\n      categoryCode,\n      ageCategory,\n      schedule,\n      statusDisplay,\n      query\n    } = _ref;\n    let newResults = [];\n    const queries = [];\n\n    if (Boolean(query) && (_$trim = _.trim(query)) !== null && _$trim !== void 0 && _$trim.length) {\n      queries.push({\n        $or: [{\n          title: query\n        }, {\n          classIntroduction: query\n        }]\n      });\n    }\n\n    if (statusDisplay !== null && statusDisplay !== void 0 && statusDisplay.length) queries.push({\n      $or: statusDisplay.map(statusDisplay => ({\n        statusDisplay: `'${statusDisplay}`\n      }))\n    });\n    if (ageCategory !== null && ageCategory !== void 0 && ageCategory.length) queries.push({\n      $or: ageCategory.map(ageCategory => ({\n        ageCategory: `'${ageCategory}`\n      }))\n    });\n    if (categoryCode !== null && categoryCode !== void 0 && categoryCode.length) queries.push({\n      $or: categoryCode.map(categoryCode => ({\n        categoryCode: `'${categoryCode}`\n      }))\n    });\n    if (schedule !== null && schedule !== void 0 && schedule.length) queries.push({\n      $or: schedule.map(schedule => ({\n        schedule: `'${schedule}`\n      }))\n    });\n\n    try {\n      const fuseResults = queries !== null && queries !== void 0 && queries.length ? fuse.search({\n        $and: queries\n      }) : fuse.search({\n        title: '!1234567890'\n      });\n      ;\n      newResults = fuseResults;\n    } catch (error) {\n      newResults = [];\n    } finally {\n      setResults(newResults);\n    }\n  };\n\n  useEffect(() => {\n    if (!allClasses.length) getAllActiveClasses(dispatch);\n  }, [allClasses.length]);\n\n  const getSortedData = category => {\n    let ret = [];\n\n    if (category === 'item.pricePerSession') {\n      ret = _.sortBy(results, e => {\n        var _e$item;\n\n        return parseFloat((e === null || e === void 0 ? void 0 : (_e$item = e.item) === null || _e$item === void 0 ? void 0 : _e$item.price) || 0);\n      }).map(e => e.item);\n    } else {\n      ret = _.orderBy(results, [category]).map(e => e.item);\n    }\n\n    if (category !== 'item.pricePerSession' && category !== 'item.statusDisplay') {\n      ret.sort(compareStatusDisplay);\n    }\n\n    return ret;\n  };\n\n  const initialValues = useMemo(() => ({\n    query: params === null || params === void 0 ? void 0 : params.get('query'),\n    sortBy: 'score',\n    limit: 10,\n    categoryCode: params.has('categoryCode') ? [params.get('categoryCode')] : []\n  }), [params.get('query'), params.get('categoryCode'), Boolean(fuse)]);\n  const STATUS_DISPLAYS = useSelector(getStatusDisplays);\n  return /*#__PURE__*/_jsxDEV(Form, {\n    withNavBar: true,\n    withFooter: true,\n    isNew: true,\n    onSubmit: handleSubmit,\n    subscription: {\n      initialValues: true,\n      values: true\n    },\n    initialValues: initialValues,\n    children: _ref2 => {\n      let {\n        handleSubmit,\n        values\n      } = _ref2;\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(OverflowSection, {\n          pageProps: {\n            withNavBar: true\n          },\n          wrapperProps: {\n            style: {\n              backgroundImage: 'url(/static/media/school_whiteboard.64986bec.png)'\n            },\n            className: 'pb-4 mb-3'\n          },\n          navBarProps: {\n            transparentOnTop: true\n          },\n          children: /*#__PURE__*/_jsxDEV(Section, {\n            children: /*#__PURE__*/_jsxDEV(Field, {\n              type: \"text\",\n              name: \"query\",\n              disabled: false,\n              autoFocus: true,\n              component: fieldProps => /*#__PURE__*/_jsxDEV(SearchClassesInput, {\n                variant: \"hero\",\n                ...fieldProps\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Page, {\n          onSubmit: handleSubmit,\n          withFooter: true,\n          children: [/*#__PURE__*/_jsxDEV(Section, {\n            className: \"filter__1\",\n            children: [/*#__PURE__*/_jsxDEV(SelectControl, {\n              required: false,\n              name: \"sortBy\",\n              options: [{\n                label: 'Relevance',\n                value: 'score'\n              }, {\n                label: 'Price',\n                value: 'item.pricePerSession'\n              }, {\n                label: 'Duration',\n                value: 'item.duration'\n              }]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              onClick: () => !isGridView && toggleGridView(true),\n              color: isGridView ? '#f1c40f' : 'gray'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(List, {\n              onClick: () => isGridView && toggleGridView(false),\n              color: !isGridView ? '#f1c40f' : 'gray'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Section, {\n            className: \"filter__2\",\n            style: {\n              display: loading || !allClasses.length ? 'none' : 'inherit'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"STATUS\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CheckboxArrayControl, {\n                name: 'statusDisplay',\n                options: STATUS_DISPLAYS\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 16\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"AGE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CheckboxArrayControl, {\n                name: 'ageCategory',\n                options: AGE_CATEGORIES\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"SUBJECT\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CheckboxArrayControl, {\n                name: 'categoryCode',\n                options: categoryCodes\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"SCHEDULES\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CheckboxArrayControl, {\n                name: 'schedule',\n                options: schedules\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Section, {\n            style: {\n              gridColumn: loading || !allClasses.length ? '1 / -1' : 'inherit'\n            },\n            children: /*#__PURE__*/_jsxDEV(ClassDetails, {\n              gridView: isGridView,\n              data: getSortedData(values === null || values === void 0 ? void 0 : values.sortBy),\n              loading: loading,\n              loadingPlaceholder: /*#__PURE__*/_jsxDEV(Tagpi, {\n                type: \"loading\",\n                dataName: \"Classes\",\n                showSpinner: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this),\n              emptyDataPlaceholder: /*#__PURE__*/_jsxDEV(Tagpi, {\n                type: \"noData\",\n                customMessage: \"Uh oh! No classes found. Try searching again.\",\n                dataName: \"Classes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AutoSubmit, {\n            save: handleSubmit,\n            debounce: 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n} // {\n//   \"id\": 34,\n//   \"classId\": \"CLS006\",\n//   \"title\": \"Class\",\n//   \"categoryCode\": \"Visual Arts\",\n//   \"subCategoryCode\": \"Painting\",\n//   \"ageCategory\": \"4-6 years\",\n//   \"skillLevel\": \"SLVL001\",\n//   \"classIntroduction\": \"This is a brief introduction to class.\",\n//   \"learningGoals\": \"Learning goals\",\n//   \"externalResources\": \"External resource\",\n//   \"thumbnailImage\": \"\",\n//   \"classType\": \"CLT002\",\n//   \"zoomLink\": null,\n//   \"jitsiLink\": \"https://development.tagpros.us/meetings/CLS006\",\n//   \"lengthSession\": \"Number of sessions\",\n//   \"currency\": \"\",\n//   \"price\": null,\n//   \"pricePerSession\": \"150.00\",\n//   \"passingGrade\": null,\n//   \"status\": \"CSTAT004\",\n//   \"lastName\": \"Test\",\n//   \"firstName\": \"Teacher\",\n//   \"salutation\": \"\",\n//   \"nickname\": \"\",\n//   \"email\": \"tagpros-teach@mailinator.com\",\n//   \"teacherId\": 661,\n//   \"photo\": null,\n//   \"minLearners\": 1,\n//   \"maxLearners\": 20,\n//   \"dayAvailability\": \"everyday\",\n//   \"classScheduleType\": null,\n//   \"timeZone\": \"Asia/Manila\",\n//   \"availableDates\": null,\n//   \"startDate\": \"2021/11/11\",\n//   \"endDate\": \"2021/11/11\",\n//   \"startTime\": \"11:11:00\",\n//   \"endTime\": \"12:12:00\",\n//   \"enrollmentStartDate\": null,\n//   \"enrollmentEndDate\": null,\n//   \"createdDatetime\": \"2021/10/08 - 12:57 PM\",\n//   \"updatedDatetime\": \"2021/10/18 - 04:37 PM\"\n// }\n\n_s(SearchClassesPage, \"/CQqt6av/vIuBum6sVkvrKdBLic=\", false, function () {\n  return [useToggle, useDispatch, useSelector, useSelector, useSearchParams, useSelector, useSelector, useSelector];\n});\n\n_c3 = SearchClassesPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"AGE_CATEGORIES$AC.map\");\n$RefreshReg$(_c2, \"AGE_CATEGORIES\");\n$RefreshReg$(_c3, \"SearchClassesPage\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/SearchClassesPage/index.jsx"],"names":["Fragment","useEffect","useMemo","useState","useDispatch","useSelector","getAllActiveClasses","Section","SearchClassesInput","ClassDetails","Page","Field","Form","CheckboxArrayControl","SelectControl","AGE_CATEGORIES","AC","AutoSubmit","Fuse","useSearchParams","_","Tagpi","getDuration","Grid","List","useToggle","classCategoriesSelector","getStatusDisplays","scheduleListSelector","moment","compareStatusDisplay","OverflowSection","map","e","value","label","fuseSearchOptions","includeScore","keys","useExtendedSearch","SearchClassesPage","isGridView","toggleGridView","dispatch","allClasses","state","classes","getIn","duration","startTime","endTime","fuse","setFuse","results","setResults","Entities","require","XmlEntities","he","loading","uiElements","params","Boolean","length","f","title","decode","classIntroduction","schedule","startDate","format","categoryCodes","schedules","v","handleSubmit","categoryCode","ageCategory","statusDisplay","query","newResults","queries","trim","push","$or","fuseResults","search","$and","error","getSortedData","category","ret","sortBy","parseFloat","item","price","orderBy","sort","initialValues","get","limit","has","STATUS_DISPLAYS","values","withNavBar","style","backgroundImage","className","transparentOnTop","fieldProps","display","gridColumn"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,OAA9B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,mBAAT,QAAoC,WAApC;AACA,OAAOC,OAAP,MAAoB,yBAApB;AACA,OAAOC,kBAAP,MAA+B,sCAA/B;AACA,SAASC,YAAT,EAAuBC,IAAvB,QAAmC,UAAnC;AACA,SAASC,KAAT,EAAgBC,IAAhB,QAA4B,kBAA5B;AACA,SAASC,oBAAT,EAA+BC,aAA/B,QAAoD,+BAApD;AACA,SAASC,cAAc,IAAIC,EAA3B,QAAqC,iBAArC;AACA,OAAOC,UAAP,MAAuB,mCAAvB;AACA,OAAOC,IAAP,MAAiB,SAAjB;AACA,SAASC,eAAT,QAAgC,kBAAhC;AACA,OAAOC,CAAP,MAAe,QAAf;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,IAAT,EAAeC,IAAf,QAA2B,eAA3B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,uBAAT,EAAkCC,iBAAlC,EAAqDC,oBAArD,QAAiF,iBAAjF;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,oBAAT,QAAqC,oBAArC;AACA,OAAOC,eAAP,MAA4B,iCAA5B;;AAEA,MAAMhB,cAAc,GAAGC,EAAE,CAACgB,GAAH,MAAOC,CAAC,IAAI;AACjCA,EAAAA,CAAC,CAACC,KAAF,GAAUD,CAAC,CAACE,KAAZ;AACA,SAAOF,CAAP;AACD,CAHsB,CAAvB,C,CAIA;;AACA;AAEA;;MAPMlB,c;AAQN,MAAMqB,iBAAiB,GAAG;AACxBC,EAAAA,YAAY,EAAE,IADU;AAExBC,EAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,mBAAV,EAA+B,cAA/B,EAA+C,aAA/C,EAA8D,UAA9D,EAA0E,eAA1E,CAFkB;AAGxBC,EAAAA,iBAAiB,EAAE;AAHK,CAA1B;AAKA,eAAe,SAASC,iBAAT,GAA6B;AAAA;;AAC1C,QAAM,CAACC,UAAD,EAAaC,cAAb,IAA+BjB,SAAS,CAAC,IAAD,CAA9C;AACA,QAAMkB,QAAQ,GAAGvC,WAAW,EAA5B;AACA,QAAMwC,UAAU,GAAGvC,WAAW,CAACwC,KAAK,IAClCA,KAAK,CAACC,OAAN,GACID,KAAK,CAACC,OAAN,CACGC,KADH,CACS,CAAC,MAAD,EAAS,OAAT,CADT,EAEGf,GAFH,CAEOC,CAAC,KAAK,EAAE,GAAGA,CAAL;AAAQe,IAAAA,QAAQ,EAAE1B,WAAW,CAACW,CAAC,CAACgB,SAAH,EAAchB,CAAC,CAACiB,OAAhB,EAAyB,IAAzB;AAA7B,GAAL,CAFR,CADJ,GAII,EALwB,CAA9B;AAOA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBjD,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAM,CAACkD,OAAD,EAAUC,UAAV,IAAwBnD,QAAQ,CAAC,EAAD,CAAtC;;AACA,QAAMoD,QAAQ,GAAGC,OAAO,CAAC,eAAD,CAAP,CAAyBC,WAA1C;;AACA,QAAMC,EAAE,GAAG,IAAIH,QAAJ,EAAX;AAEA,MAAII,OAAO,GAAGtD,WAAW,CAACwC,KAAK,IAAIA,KAAK,CAACe,UAAN,CAAiBb,KAAjB,CAAuB,CAAC,eAAD,CAAvB,CAAV,CAAzB;AAEA,QAAM,CAACc,MAAD,IAAW1C,eAAe,EAAhC,CAjB0C,CAmB1C;;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAAC6D,OAAO,CAACX,IAAD,CAAR,IAAkBP,UAAU,CAACmB,MAAjC,EAAyC;AACvC,YAAMC,CAAC,GAAG,IAAI9C,IAAJ,CACR0B,UAAU,CAACZ,GAAX,CAAeC,CAAC,KAAK,EACnB,GAAGA,CADgB;AAEnBgC,QAAAA,KAAK,EAAEP,EAAE,CAACQ,MAAH,CAAUjC,CAAC,CAACgC,KAAZ,CAFY;AAGnBE,QAAAA,iBAAiB,EAAET,EAAE,CAACQ,MAAH,CAAUjC,CAAC,CAACkC,iBAAZ,CAHA;AAInBC,QAAAA,QAAQ,EAAEvC,MAAM,CAACI,CAAC,CAACoC,SAAH,EAAc,YAAd,CAAN,CAAkCC,MAAlC,CAAyC,WAAzC;AAJS,OAAL,CAAhB,CADQ,EAORlC,iBAPQ,CAAV;AASAgB,MAAAA,OAAO,CAACY,CAAD,CAAP;AACD;AACF,GAbQ,EAaN,CAACpB,UAAU,CAACmB,MAAZ,EAAoBD,OAAO,CAACX,IAAD,CAA3B,CAbM,CAAT;AAeA,QAAMoB,aAAa,GAAGlE,WAAW,CAACqB,uBAAD,CAAjC;AACA,MAAI8C,SAAS,GAAGnE,WAAW,CAACuB,oBAAD,CAA3B;AACA4C,EAAAA,SAAS,GAAGA,SAAS,CAACxC,GAAV,CAAcyC,CAAC,KAAK;AAAEtC,IAAAA,KAAK,EAAEsC,CAAT;AAAYvC,IAAAA,KAAK,EAAEuC;AAAnB,GAAL,CAAf,CAAZ;;AAEA,QAAMC,YAAY,GAAG,QAAmE;AAAA;;AAAA,QAAlE;AAAEC,MAAAA,YAAF;AAAgBC,MAAAA,WAAhB;AAA6BR,MAAAA,QAA7B;AAAuCS,MAAAA,aAAvC;AAAsDC,MAAAA;AAAtD,KAAkE;AACtF,QAAIC,UAAU,GAAG,EAAjB;AACA,UAAMC,OAAO,GAAG,EAAhB;;AACA,QAAIlB,OAAO,CAACgB,KAAD,CAAP,cAAkB1D,CAAC,CAAC6D,IAAF,CAAOH,KAAP,CAAlB,mCAAkB,OAAef,MAArC,EAA6C;AAC3CiB,MAAAA,OAAO,CAACE,IAAR,CAAa;AACXC,QAAAA,GAAG,EAAE,CAAC;AAAElB,UAAAA,KAAK,EAAEa;AAAT,SAAD,EAAmB;AAAEX,UAAAA,iBAAiB,EAAEW;AAArB,SAAnB;AADM,OAAb;AAGD;;AAED,QAAID,aAAJ,aAAIA,aAAJ,eAAIA,aAAa,CAAEd,MAAnB,EACEiB,OAAO,CAACE,IAAR,CAAa;AACXC,MAAAA,GAAG,EAAEN,aAAa,CAAC7C,GAAd,CAAkB6C,aAAa,KAAK;AAAEA,QAAAA,aAAa,EAAG,IAAGA,aAAc;AAAnC,OAAL,CAA/B;AADM,KAAb;AAIF,QAAID,WAAJ,aAAIA,WAAJ,eAAIA,WAAW,CAAEb,MAAjB,EACEiB,OAAO,CAACE,IAAR,CAAa;AACXC,MAAAA,GAAG,EAAEP,WAAW,CAAC5C,GAAZ,CAAgB4C,WAAW,KAAK;AAAEA,QAAAA,WAAW,EAAG,IAAGA,WAAY;AAA/B,OAAL,CAA3B;AADM,KAAb;AAIF,QAAID,YAAJ,aAAIA,YAAJ,eAAIA,YAAY,CAAEZ,MAAlB,EACEiB,OAAO,CAACE,IAAR,CAAa;AACXC,MAAAA,GAAG,EAAER,YAAY,CAAC3C,GAAb,CAAiB2C,YAAY,KAAK;AAAEA,QAAAA,YAAY,EAAG,IAAGA,YAAa;AAAjC,OAAL,CAA7B;AADM,KAAb;AAIF,QAAIP,QAAJ,aAAIA,QAAJ,eAAIA,QAAQ,CAAEL,MAAd,EACEiB,OAAO,CAACE,IAAR,CAAa;AACXC,MAAAA,GAAG,EAAEf,QAAQ,CAACpC,GAAT,CAAaoC,QAAQ,KAAK;AAAEA,QAAAA,QAAQ,EAAG,IAAGA,QAAS;AAAzB,OAAL,CAArB;AADM,KAAb;;AAKF,QAAI;AACF,YAAMgB,WAAW,GAAGJ,OAAO,SAAP,IAAAA,OAAO,WAAP,IAAAA,OAAO,CAAEjB,MAAT,GAAkBZ,IAAI,CAACkC,MAAL,CAAY;AAChDC,QAAAA,IAAI,EAAEN;AAD0C,OAAZ,CAAlB,GAEf7B,IAAI,CAACkC,MAAL,CAAY;AAAEpB,QAAAA,KAAK,EAAE;AAAT,OAAZ,CAFL;AAE2C;AAC3Cc,MAAAA,UAAU,GAAGK,WAAb;AACD,KALD,CAKE,OAAOG,KAAP,EAAc;AACdR,MAAAA,UAAU,GAAG,EAAb;AACD,KAPD,SAOU;AACRzB,MAAAA,UAAU,CAACyB,UAAD,CAAV;AACD;AACF,GAxCD;;AA0CA9E,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI,CAAC2C,UAAU,CAACmB,MAAhB,EAAwBzD,mBAAmB,CAACqC,QAAD,CAAnB;AACzB,GAFQ,EAEN,CAACC,UAAU,CAACmB,MAAZ,CAFM,CAAT;;AAIA,QAAMyB,aAAa,GAAGC,QAAQ,IAAI;AAChC,QAAIC,GAAG,GAAG,EAAV;;AACA,QAAID,QAAQ,KAAK,sBAAjB,EAA0C;AACxCC,MAAAA,GAAG,GAAGtE,CAAC,CAACuE,MAAF,CAAStC,OAAT,EAAkBpB,CAAC;AAAA;;AAAA,eAAI2D,UAAU,CAAC,CAAE3D,CAAF,aAAEA,CAAF,kCAAEA,CAAC,CAAE4D,IAAL,4CAAE,QAASC,KAAX,KAAsB,CAAvB,CAAd;AAAA,OAAnB,EAA4D9D,GAA5D,CAAgEC,CAAC,IAAIA,CAAC,CAAC4D,IAAvE,CAAN;AACD,KAFD,MAIK;AACHH,MAAAA,GAAG,GAAGtE,CAAC,CAAC2E,OAAF,CAAU1C,OAAV,EAAmB,CAACoC,QAAD,CAAnB,EAA+BzD,GAA/B,CAAmCC,CAAC,IAAIA,CAAC,CAAC4D,IAA1C,CAAN;AACD;;AAED,QAAGJ,QAAQ,KAAK,sBAAb,IAAuCA,QAAQ,KAAK,oBAAvD,EAA6E;AAC3EC,MAAAA,GAAG,CAACM,IAAJ,CAASlE,oBAAT;AACD;;AAED,WAAO4D,GAAP;AACD,GAfD;;AAiBA,QAAMO,aAAa,GAAG/F,OAAO,CAC3B,OAAO;AACL4E,IAAAA,KAAK,EAAEjB,MAAF,aAAEA,MAAF,uBAAEA,MAAM,CAAEqC,GAAR,CAAY,OAAZ,CADF;AAELP,IAAAA,MAAM,EAAE,OAFH;AAGLQ,IAAAA,KAAK,EAAE,EAHF;AAILxB,IAAAA,YAAY,EAAEd,MAAM,CAACuC,GAAP,CAAW,cAAX,IAA6B,CAACvC,MAAM,CAACqC,GAAP,CAAW,cAAX,CAAD,CAA7B,GAA4D;AAJrE,GAAP,CAD2B,EAO3B,CAACrC,MAAM,CAACqC,GAAP,CAAW,OAAX,CAAD,EAAsBrC,MAAM,CAACqC,GAAP,CAAW,cAAX,CAAtB,EAAkDpC,OAAO,CAACX,IAAD,CAAzD,CAP2B,CAA7B;AAUA,QAAMkD,eAAe,GAAGhG,WAAW,CAACsB,iBAAD,CAAnC;AAEA,sBACE,QAAC,IAAD;AACE,IAAA,UAAU,MADZ;AAEE,IAAA,UAAU,MAFZ;AAGE,IAAA,KAAK,MAHP;AAIE,IAAA,QAAQ,EAAE+C,YAJZ;AAKE,IAAA,YAAY,EAAE;AAAEuB,MAAAA,aAAa,EAAE,IAAjB;AAAuBK,MAAAA,MAAM,EAAE;AAA/B,KALhB;AAME,IAAA,aAAa,EAAEL,aANjB;AAAA,cAQG,SAA8B;AAAA,UAA7B;AAAEvB,QAAAA,YAAF;AAAgB4B,QAAAA;AAAhB,OAA6B;AAC7B,0BACE,QAAC,QAAD;AAAA,gCACE,QAAC,eAAD;AACE,UAAA,SAAS,EAAE;AAAEC,YAAAA,UAAU,EAAE;AAAd,WADb;AAEE,UAAA,YAAY,EAAE;AACZC,YAAAA,KAAK,EAAE;AACLC,cAAAA,eAAe,EACb;AAFG,aADK;AAKVC,YAAAA,SAAS,EAAE;AALD,WAFhB;AASE,UAAA,WAAW,EAAI;AACXC,YAAAA,gBAAgB,EAAE;AADP,WATjB;AAAA,iCAaE,QAAC,OAAD;AAAA,mCACE,QAAC,KAAD;AACE,cAAA,IAAI,EAAC,MADP;AAEE,cAAA,IAAI,EAAC,OAFP;AAGE,cAAA,QAAQ,EAAE,KAHZ;AAIE,cAAA,SAAS,EAAE,IAJb;AAKE,cAAA,SAAS,EAAEC,UAAU,iBACnB,QAAC,kBAAD;AAAoB,gBAAA,OAAO,EAAC,MAA5B;AAAA,mBAAuCA;AAAvC;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAbF;AAAA;AAAA;AAAA;AAAA,gBADF,eA0BE,QAAC,IAAD;AAAM,UAAA,QAAQ,EAAElC,YAAhB;AAA8B,UAAA,UAAU,MAAxC;AAAA,kCACE,QAAC,OAAD;AAAS,YAAA,SAAS,EAAC,WAAnB;AAAA,oCACE,QAAC,aAAD;AACE,cAAA,QAAQ,EAAE,KADZ;AAEE,cAAA,IAAI,EAAC,QAFP;AAGE,cAAA,OAAO,EAAE,CACP;AAAEvC,gBAAAA,KAAK,EAAE,WAAT;AAAsBD,gBAAAA,KAAK,EAAE;AAA7B,eADO,EAEP;AAAEC,gBAAAA,KAAK,EAAE,OAAT;AAAkBD,gBAAAA,KAAK,EAAE;AAAzB,eAFO,EAGP;AAAEC,gBAAAA,KAAK,EAAE,UAAT;AAAqBD,gBAAAA,KAAK,EAAE;AAA5B,eAHO;AAHX;AAAA;AAAA;AAAA;AAAA,oBADF,eAUE,QAAC,IAAD;AACE,cAAA,OAAO,EAAE,MAAM,CAACO,UAAD,IAAeC,cAAc,CAAC,IAAD,CAD9C;AAEE,cAAA,KAAK,EAAED,UAAU,GAAG,SAAH,GAAe;AAFlC;AAAA;AAAA;AAAA;AAAA,oBAVF,eAcE,QAAC,IAAD;AACE,cAAA,OAAO,EAAE,MAAMA,UAAU,IAAIC,cAAc,CAAC,KAAD,CAD7C;AAEE,cAAA,KAAK,EAAE,CAACD,UAAD,GAAc,SAAd,GAA0B;AAFnC;AAAA;AAAA;AAAA;AAAA,oBAdF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAoBE,QAAC,OAAD;AACE,YAAA,SAAS,EAAC,WADZ;AAEE,YAAA,KAAK,EAAE;AACLoE,cAAAA,OAAO,EAAElD,OAAO,IAAI,CAACf,UAAU,CAACmB,MAAvB,GAAgC,MAAhC,GAAyC;AAD7C,aAFT;AAAA,oCAKC;AAAA,sCACG;AAAA,uCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADH,eAIG,QAAC,oBAAD;AAAsB,gBAAA,IAAI,EAAE,eAA5B;AAA6C,gBAAA,OAAO,EAAEsC;AAAtD;AAAA;AAAA;AAAA;AAAA,sBAJH;AAAA;AAAA;AAAA;AAAA;AAAA,oBALD,eAWE;AAAA,sCACE;AAAA,uCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,QAAC,oBAAD;AAAsB,gBAAA,IAAI,EAAE,aAA5B;AAA2C,gBAAA,OAAO,EAAEtF;AAApD;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAXF,eAiBE;AAAA,sCACE;AAAA,uCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,QAAC,oBAAD;AAAsB,gBAAA,IAAI,EAAE,cAA5B;AAA4C,gBAAA,OAAO,EAAEwD;AAArD;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjBF,eAuBE;AAAA,sCACE;AAAA,uCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE,QAAC,oBAAD;AAAsB,gBAAA,IAAI,EAAE,UAA5B;AAAwC,gBAAA,OAAO,EAAEC;AAAjD;AAAA;AAAA;AAAA;AAAA,sBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,kBApBF,eAkDE,QAAC,OAAD;AACE,YAAA,KAAK,EAAE;AACLsC,cAAAA,UAAU,EAAEnD,OAAO,IAAI,CAACf,UAAU,CAACmB,MAAvB,GAAgC,QAAhC,GAA2C;AADlD,aADT;AAAA,mCAKE,QAAC,YAAD;AACE,cAAA,QAAQ,EAAEtB,UADZ;AAEE,cAAA,IAAI,EAAE+C,aAAa,CAACc,MAAD,aAACA,MAAD,uBAACA,MAAM,CAAEX,MAAT,CAFrB;AAGE,cAAA,OAAO,EAAEhC,OAHX;AAIE,cAAA,kBAAkB,eAChB,QAAC,KAAD;AAAO,gBAAA,IAAI,EAAC,SAAZ;AAAsB,gBAAA,QAAQ,EAAC,SAA/B;AAAyC,gBAAA,WAAW,EAAE;AAAtD;AAAA;AAAA;AAAA;AAAA,sBALJ;AAOE,cAAA,oBAAoB,eAClB,QAAC,KAAD;AACE,gBAAA,IAAI,EAAC,QADP;AAEE,gBAAA,aAAa,EAAC,+CAFhB;AAGE,gBAAA,QAAQ,EAAC;AAHX;AAAA;AAAA;AAAA;AAAA;AARJ;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,kBAlDF,eAuEE,QAAC,UAAD;AAAY,YAAA,IAAI,EAAEe,YAAlB;AAAgC,YAAA,QAAQ,EAAE;AAA1C;AAAA;AAAA;AAAA;AAAA,kBAvEF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA1BF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAsGD;AA/GH;AAAA;AAAA;AAAA;AAAA,UADF;AAmHD,C,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;GAjRwBlC,iB;UACef,S,EACpBrB,W,EACEC,W,EAYLA,W,EAEGc,e,EAmBKd,W,EACNA,W,EA4EQA,W;;;MAjHFmC,iB","sourcesContent":["import { Fragment, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllActiveClasses } from 'api/class';\nimport Section from 'components/Page/Section';\nimport SearchClassesInput from 'components/common/SearchClassesInput';\nimport { ClassDetails, Page } from './styles';\nimport { Field, Form } from 'react-final-form';\nimport { CheckboxArrayControl, SelectControl } from 'components/common/Form/Inputs';\nimport { AGE_CATEGORIES as AC } from 'utils/constants';\nimport AutoSubmit from 'components/common/Form/AutoSubmit';\nimport Fuse from 'fuse.js';\nimport { useSearchParams } from 'react-router-dom';\nimport _  from 'lodash';\nimport Tagpi from 'components/common/Tagpi';\nimport { getDuration } from 'utils/utils';\nimport { Grid, List } from 'react-feather';\nimport { useToggle } from 'rooks';\nimport { classCategoriesSelector, getStatusDisplays, scheduleListSelector } from 'redux/selectors';\nimport moment from 'moment';\nimport { compareStatusDisplay } from 'components/Landing';\nimport OverflowSection from 'components/Page/OverflowSection';\n\nconst AGE_CATEGORIES = AC.map(e => {\n  e.value = e.label;\n  return e;\n});\n// import _ from \"lodash\";\n/* eslint-disable */\n\n// returns all unique categoryCode from class array\nconst fuseSearchOptions = {\n  includeScore: true,\n  keys: ['title', 'classIntroduction', 'categoryCode', 'ageCategory', 'schedule', 'statusDisplay'],\n  useExtendedSearch: true\n};\nexport default function SearchClassesPage() {\n  const [isGridView, toggleGridView] = useToggle(true);\n  const dispatch = useDispatch();\n  const allClasses = useSelector(state =>\n    state.classes\n      ? state.classes\n          .getIn(['data', 'class'])\n          .map(e => ({ ...e, duration: getDuration(e.startTime, e.endTime, true) }))\n      : []\n  );\n  const [fuse, setFuse] = useState(null);\n  const [results, setResults] = useState([]);\n  const Entities = require('html-entities').XmlEntities;\n  const he = new Entities();\n\n  let loading = useSelector(state => state.uiElements.getIn(['loadingScreen']));\n\n  const [params] = useSearchParams();\n\n  // When searching from ie: landing page, prefilters is present\n\n  useEffect(() => {\n    if (!Boolean(fuse) && allClasses.length) {\n      const f = new Fuse(\n        allClasses.map(e => ({\n          ...e,\n          title: he.decode(e.title),\n          classIntroduction: he.decode(e.classIntroduction),\n          schedule: moment(e.startDate, 'YYYY/MM/DD').format('MMMM YYYY')\n        })),\n        fuseSearchOptions\n      );\n      setFuse(f);\n    }\n  }, [allClasses.length, Boolean(fuse)]);\n\n  const categoryCodes = useSelector(classCategoriesSelector);\n  let schedules = useSelector(scheduleListSelector);\n  schedules = schedules.map(v => ({ label: v, value: v }));\n\n  const handleSubmit = ({ categoryCode, ageCategory, schedule, statusDisplay, query }) => {\n    let newResults = [];\n    const queries = [];\n    if (Boolean(query) && _.trim(query)?.length) {\n      queries.push({\n        $or: [{ title: query }, { classIntroduction: query }]\n      });\n    }\n\n    if (statusDisplay?.length)\n      queries.push({\n        $or: statusDisplay.map(statusDisplay => ({ statusDisplay: `'${statusDisplay}` }))\n      });\n\n    if (ageCategory?.length)\n      queries.push({\n        $or: ageCategory.map(ageCategory => ({ ageCategory: `'${ageCategory}` }))\n      });\n\n    if (categoryCode?.length)\n      queries.push({\n        $or: categoryCode.map(categoryCode => ({ categoryCode: `'${categoryCode}` }))\n      });\n\n    if (schedule?.length)\n      queries.push({\n        $or: schedule.map(schedule => ({ schedule: `'${schedule}` }))\n      });\n\n\n    try {\n      const fuseResults = queries?.length ? fuse.search({\n        $and: queries\n      }) : fuse.search({ title: '!1234567890' });;\n      newResults = fuseResults;\n    } catch (error) {\n      newResults = [];\n    } finally {\n      setResults(newResults);\n    }\n  };\n\n  useEffect(() => {\n    if (!allClasses.length) getAllActiveClasses(dispatch);\n  }, [allClasses.length]);\n\n  const getSortedData = category => {\n    let ret = []\n    if (category === 'item.pricePerSession' ) {\n      ret = _.sortBy(results, e => parseFloat(( e?.item?.price ) || 0)).map(e => e.item);\n    }\n\n    else { \n      ret = _.orderBy(results, [category]).map(e => e.item);\n    }\n\n    if(category !== 'item.pricePerSession' && category !== 'item.statusDisplay') {\n      ret.sort(compareStatusDisplay);\n    }\n    \n    return ret;\n  };\n\n  const initialValues = useMemo(\n    () => ({\n      query: params?.get('query'),\n      sortBy: 'score',\n      limit: 10,\n      categoryCode: params.has('categoryCode') ? [params.get('categoryCode')] : []\n    }),\n    [params.get('query'), params.get('categoryCode'), Boolean(fuse)]\n  );\n\n  const STATUS_DISPLAYS = useSelector(getStatusDisplays)\n\n  return (\n    <Form\n      withNavBar\n      withFooter\n      isNew\n      onSubmit={handleSubmit}\n      subscription={{ initialValues: true, values: true }}\n      initialValues={initialValues}\n    >\n      {({ handleSubmit, values }) => {\n        return (\n          <Fragment>\n            <OverflowSection\n              pageProps={{ withNavBar: true }}\n              wrapperProps={{\n                style: {\n                  backgroundImage:\n                    'url(/static/media/school_whiteboard.64986bec.png)',\n                },\n                  className: 'pb-4 mb-3'\n              }}\n              navBarProps = {{\n                  transparentOnTop: true\n              }}\n            >\n              <Section>\n                <Field\n                  type='text'\n                  name='query'\n                  disabled={false}\n                  autoFocus={true}\n                  component={fieldProps => (\n                    <SearchClassesInput variant='hero' {...fieldProps} />\n                  )}\n                />\n              </Section>\n            </OverflowSection>\n            <Page onSubmit={handleSubmit} withFooter>\n              <Section className='filter__1'>\n                <SelectControl\n                  required={false}\n                  name='sortBy'\n                  options={[\n                    { label: 'Relevance', value: 'score' },\n                    { label: 'Price', value: 'item.pricePerSession' },\n                    { label: 'Duration', value: 'item.duration' }\n                  ]}\n                />\n                <Grid\n                  onClick={() => !isGridView && toggleGridView(true)}\n                  color={isGridView ? '#f1c40f' : 'gray'}\n                />\n                <List\n                  onClick={() => isGridView && toggleGridView(false)}\n                  color={!isGridView ? '#f1c40f' : 'gray'}\n                />\n              </Section>\n              <Section\n                className='filter__2'\n                style={{\n                  display: loading || !allClasses.length ? 'none' : 'inherit'\n                }}\n              ><div>\n                  <h4>\n                    <b>STATUS</b>\n                  </h4>\n                  <CheckboxArrayControl name={'statusDisplay'} options={STATUS_DISPLAYS} />\n                </div>\n                <div>\n                  <h4>\n                    <b>AGE</b>\n                  </h4>\n                  <CheckboxArrayControl name={'ageCategory'} options={AGE_CATEGORIES} />\n                </div>\n                <div>\n                  <h4>\n                    <b>SUBJECT</b>\n                  </h4>\n                  <CheckboxArrayControl name={'categoryCode'} options={categoryCodes} />\n                </div>\n                <div>\n                  <h4>\n                    <b>SCHEDULES</b>\n                  </h4>\n                  <CheckboxArrayControl name={'schedule'} options={schedules} />\n                </div>\n              </Section>\n              <Section\n                style={{\n                  gridColumn: loading || !allClasses.length ? '1 / -1' : 'inherit'\n                }}\n              >\n                <ClassDetails\n                  gridView={isGridView}\n                  data={getSortedData(values?.sortBy)}\n                  loading={loading}\n                  loadingPlaceholder={\n                    <Tagpi type='loading' dataName='Classes' showSpinner={true} />\n                  }\n                  emptyDataPlaceholder={\n                    <Tagpi\n                      type='noData'\n                      customMessage='Uh oh! No classes found. Try searching again.'\n                      dataName='Classes'\n                    />\n                  }\n                />\n              </Section>\n              <AutoSubmit save={handleSubmit} debounce={0} />\n            </Page>\n          </Fragment>\n        );\n      }}\n    </Form>\n  );\n}\n// {\n//   \"id\": 34,\n//   \"classId\": \"CLS006\",\n//   \"title\": \"Class\",\n//   \"categoryCode\": \"Visual Arts\",\n//   \"subCategoryCode\": \"Painting\",\n//   \"ageCategory\": \"4-6 years\",\n//   \"skillLevel\": \"SLVL001\",\n//   \"classIntroduction\": \"This is a brief introduction to class.\",\n//   \"learningGoals\": \"Learning goals\",\n//   \"externalResources\": \"External resource\",\n//   \"thumbnailImage\": \"\",\n//   \"classType\": \"CLT002\",\n//   \"zoomLink\": null,\n//   \"jitsiLink\": \"https://development.tagpros.us/meetings/CLS006\",\n//   \"lengthSession\": \"Number of sessions\",\n//   \"currency\": \"\",\n//   \"price\": null,\n//   \"pricePerSession\": \"150.00\",\n//   \"passingGrade\": null,\n//   \"status\": \"CSTAT004\",\n//   \"lastName\": \"Test\",\n//   \"firstName\": \"Teacher\",\n//   \"salutation\": \"\",\n//   \"nickname\": \"\",\n//   \"email\": \"tagpros-teach@mailinator.com\",\n//   \"teacherId\": 661,\n//   \"photo\": null,\n//   \"minLearners\": 1,\n//   \"maxLearners\": 20,\n//   \"dayAvailability\": \"everyday\",\n//   \"classScheduleType\": null,\n//   \"timeZone\": \"Asia/Manila\",\n//   \"availableDates\": null,\n//   \"startDate\": \"2021/11/11\",\n//   \"endDate\": \"2021/11/11\",\n//   \"startTime\": \"11:11:00\",\n//   \"endTime\": \"12:12:00\",\n//   \"enrollmentStartDate\": null,\n//   \"enrollmentEndDate\": null,\n//   \"createdDatetime\": \"2021/10/08 - 12:57 PM\",\n//   \"updatedDatetime\": \"2021/10/18 - 04:37 PM\"\n// }\n"]},"metadata":{},"sourceType":"module"}