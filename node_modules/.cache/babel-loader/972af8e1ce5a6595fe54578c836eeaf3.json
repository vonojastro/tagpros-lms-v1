{"ast":null,"code":"import { FETCH_USER_ERROR, FETCH_USER_REQUEST, FETCH_USER_SUCCESS, LOG_OUT, SET_AUTH_TOKEN, SET_ACCOUNT_TYPE, SET_LAST_LOGIN, SET_RESET_PASSWORD_VERIFICATION, SET_RESET_PASSWORD_RESPONSE, SET_SOCIAL_AUTH_TOKEN, GET_ADMIN_MODULE_PERMISSION_SUCCESS } from \"../actions/auth\";\nconst initialState = {\n  user: null,\n  loading: false,\n  success: false,\n  error: null,\n  authToken: null,\n  accountType: null,\n  lastLogin: null,\n  resetPasswordData: {\n    message: \"\",\n    status: \"\"\n  },\n  permissions: {}\n};\n\nconst auth = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case FETCH_USER_REQUEST:\n      return { ...state,\n        loading: true\n      };\n\n    case FETCH_USER_SUCCESS:\n      return { ...state,\n        loading: false,\n        success: true,\n        user: { ...state.user,\n          ...action.data\n        }\n      };\n\n    case FETCH_USER_ERROR:\n      return { ...state,\n        user: null,\n        loading: false,\n        error: action.data,\n        success: false,\n        authToken: null\n      };\n\n    case SET_AUTH_TOKEN:\n      return { ...state,\n        authToken: action.data\n      };\n\n    case SET_ACCOUNT_TYPE:\n      return { ...state,\n        accountType: action.data\n      };\n\n    case SET_LAST_LOGIN:\n      sessionStorage.setItem(\"lastLogin\", action.data);\n      return { ...state,\n        lastLogin: action.data\n      };\n\n    case LOG_OUT:\n      sessionStorage.removeItem(\"lastLogin\");\n      return initialState;\n\n    case SET_RESET_PASSWORD_VERIFICATION:\n      return { ...state,\n        resetPasswordData: action.data\n      };\n\n    case SET_RESET_PASSWORD_RESPONSE:\n      return { ...state,\n        resetPasswordData: action.data\n      };\n\n    case SET_SOCIAL_AUTH_TOKEN:\n      return { ...state,\n        socialAuthToken: action.data\n      };\n\n    case GET_ADMIN_MODULE_PERMISSION_SUCCESS:\n      return { ...state,\n        permissions: action.data\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default auth;","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/redux/reducers/auth.js"],"names":["FETCH_USER_ERROR","FETCH_USER_REQUEST","FETCH_USER_SUCCESS","LOG_OUT","SET_AUTH_TOKEN","SET_ACCOUNT_TYPE","SET_LAST_LOGIN","SET_RESET_PASSWORD_VERIFICATION","SET_RESET_PASSWORD_RESPONSE","SET_SOCIAL_AUTH_TOKEN","GET_ADMIN_MODULE_PERMISSION_SUCCESS","initialState","user","loading","success","error","authToken","accountType","lastLogin","resetPasswordData","message","status","permissions","auth","state","action","type","data","sessionStorage","setItem","removeItem","socialAuthToken"],"mappings":"AAAA,SACEA,gBADF,EAEEC,kBAFF,EAGEC,kBAHF,EAIEC,OAJF,EAKEC,cALF,EAMEC,gBANF,EAOEC,cAPF,EAQEC,+BARF,EASEC,2BATF,EAUEC,qBAVF,EAWEC,mCAXF,QAYO,iBAZP;AAcA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,IAAI,EAAE,IADa;AAEnBC,EAAAA,OAAO,EAAE,KAFU;AAGnBC,EAAAA,OAAO,EAAE,KAHU;AAInBC,EAAAA,KAAK,EAAE,IAJY;AAKnBC,EAAAA,SAAS,EAAE,IALQ;AAMnBC,EAAAA,WAAW,EAAE,IANM;AAOnBC,EAAAA,SAAS,EAAE,IAPQ;AAQnBC,EAAAA,iBAAiB,EAAE;AACjBC,IAAAA,OAAO,EAAE,EADQ;AAEjBC,IAAAA,MAAM,EAAE;AAFS,GARA;AAYnBC,EAAAA,WAAW,EAAE;AAZM,CAArB;;AAeA,MAAMC,IAAI,GAAG,YAAkC;AAAA,MAAjCC,KAAiC,uEAAzBb,YAAyB;AAAA,MAAXc,MAAW;;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKzB,kBAAL;AACE,aAAO,EAAE,GAAGuB,KAAL;AAAYX,QAAAA,OAAO,EAAE;AAArB,OAAP;;AACF,SAAKX,kBAAL;AACE,aAAO,EAAE,GAAGsB,KAAL;AAAYX,QAAAA,OAAO,EAAE,KAArB;AAA4BC,QAAAA,OAAO,EAAE,IAArC;AAA2CF,QAAAA,IAAI,EAAE,EAAE,GAAGY,KAAK,CAACZ,IAAX;AAAiB,aAAGa,MAAM,CAACE;AAA3B;AAAjD,OAAP;;AACF,SAAK3B,gBAAL;AACE,aAAO,EACL,GAAGwB,KADE;AAELZ,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,OAAO,EAAE,KAHJ;AAILE,QAAAA,KAAK,EAAEU,MAAM,CAACE,IAJT;AAKLb,QAAAA,OAAO,EAAE,KALJ;AAMLE,QAAAA,SAAS,EAAE;AANN,OAAP;;AAQF,SAAKZ,cAAL;AACE,aAAO,EAAE,GAAGoB,KAAL;AAAYR,QAAAA,SAAS,EAAES,MAAM,CAACE;AAA9B,OAAP;;AACF,SAAKtB,gBAAL;AACE,aAAO,EAAE,GAAGmB,KAAL;AAAYP,QAAAA,WAAW,EAAEQ,MAAM,CAACE;AAAhC,OAAP;;AACF,SAAKrB,cAAL;AACEsB,MAAAA,cAAc,CAACC,OAAf,CAAuB,WAAvB,EAAoCJ,MAAM,CAACE,IAA3C;AACA,aAAO,EAAE,GAAGH,KAAL;AAAYN,QAAAA,SAAS,EAAEO,MAAM,CAACE;AAA9B,OAAP;;AACF,SAAKxB,OAAL;AACEyB,MAAAA,cAAc,CAACE,UAAf,CAA0B,WAA1B;AACA,aAAOnB,YAAP;;AACF,SAAKJ,+BAAL;AACE,aAAO,EAAE,GAAGiB,KAAL;AAAYL,QAAAA,iBAAiB,EAAEM,MAAM,CAACE;AAAtC,OAAP;;AACF,SAAKnB,2BAAL;AACE,aAAO,EAAE,GAAGgB,KAAL;AAAYL,QAAAA,iBAAiB,EAAEM,MAAM,CAACE;AAAtC,OAAP;;AACF,SAAKlB,qBAAL;AACE,aAAO,EAAC,GAAGe,KAAJ;AAAWO,QAAAA,eAAe,EAAEN,MAAM,CAACE;AAAnC,OAAP;;AACF,SAAKjB,mCAAL;AACE,aAAO,EAAC,GAAGc,KAAJ;AAAWF,QAAAA,WAAW,EAAEG,MAAM,CAACE;AAA/B,OAAP;;AACF;AACE,aAAOH,KAAP;AAjCJ;AAmCD,CApCD;;AAsCA,eAAeD,IAAf","sourcesContent":["import {\n  FETCH_USER_ERROR,\n  FETCH_USER_REQUEST,\n  FETCH_USER_SUCCESS,\n  LOG_OUT,\n  SET_AUTH_TOKEN,\n  SET_ACCOUNT_TYPE,\n  SET_LAST_LOGIN,\n  SET_RESET_PASSWORD_VERIFICATION,\n  SET_RESET_PASSWORD_RESPONSE,\n  SET_SOCIAL_AUTH_TOKEN,\n  GET_ADMIN_MODULE_PERMISSION_SUCCESS,\n} from \"../actions/auth\";\n\nconst initialState = {\n  user: null,\n  loading: false,\n  success: false,\n  error: null,\n  authToken: null,\n  accountType: null,\n  lastLogin: null,\n  resetPasswordData: {\n    message: \"\",\n    status: \"\",\n  },\n  permissions: {}\n};\n\nconst auth = (state = initialState, action) => {\n  switch (action.type) {\n    case FETCH_USER_REQUEST:\n      return { ...state, loading: true };\n    case FETCH_USER_SUCCESS:\n      return { ...state, loading: false, success: true, user: { ...state.user, ...action.data } };\n    case FETCH_USER_ERROR:\n      return {\n        ...state,\n        user: null,\n        loading: false,\n        error: action.data,\n        success: false, \n        authToken: null,\n      };\n    case SET_AUTH_TOKEN:\n      return { ...state, authToken: action.data };\n    case SET_ACCOUNT_TYPE:\n      return { ...state, accountType: action.data };\n    case SET_LAST_LOGIN:\n      sessionStorage.setItem(\"lastLogin\", action.data);\n      return { ...state, lastLogin: action.data };\n    case LOG_OUT:\n      sessionStorage.removeItem(\"lastLogin\");\n      return initialState;\n    case SET_RESET_PASSWORD_VERIFICATION:\n      return { ...state, resetPasswordData: action.data };\n    case SET_RESET_PASSWORD_RESPONSE:\n      return { ...state, resetPasswordData: action.data };\n    case SET_SOCIAL_AUTH_TOKEN: \n      return {...state, socialAuthToken: action.data}\n    case GET_ADMIN_MODULE_PERMISSION_SUCCESS: \n      return {...state, permissions: action.data}\n    default:\n      return state;\n  }\n};\n\nexport default auth;\n"]},"metadata":{},"sourceType":"module"}