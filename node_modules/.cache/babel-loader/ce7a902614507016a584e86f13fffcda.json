{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Dashboard/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Outlet, useNavigate } from 'react-router-dom';\nimport { fetchUser } from 'redux/actions/auth';\nimport DashboardSidebar from './DashboardSidebar';\nimport useFreshdeskHelpWidget from 'hooks/use-freshdesk-help-widget';\nimport DashboardHeader from './DashboardHeader';\nimport DashboardBreadCrumbs from './DashboardBreadCrumbs';\nimport { fetchTeacherApp } from 'redux/actions/teacherApp';\nimport { fetchLearners } from 'redux/actions/learners';\nimport { fetchDashboardAccess } from 'redux/actions/admin';\nimport Tagpi from 'components/common/Tagpi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Dashboard(_ref) {\n  _s();\n\n  let {\n    userType\n  } = _ref;\n  useFreshdeskHelpWidget();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const {\n    loading,\n    error,\n    user,\n    success\n  } = useSelector(state => state.auth);\n  const teacherApp = useSelector(state => {\n    const {\n      loading,\n      error,\n      success,\n      data\n    } = state.teacherApp;\n    return {\n      loading,\n      error,\n      success,\n      data\n    };\n  });\n  const {\n    loading: loadingTeacher,\n    data\n  } = teacherApp;\n  const {\n    loading: loadingAdmin\n  } = useSelector(state => state.admin);\n  React.useEffect(() => {\n    if (!user) {\n      dispatch(fetchUser());\n    }\n\n    if (success) {\n      switch (userType) {\n        case \"teacher\":\n          dispatch(fetchTeacherApp());\n          break;\n\n        case \"family\":\n          dispatch(fetchLearners());\n          break;\n\n        case \"admin\":\n          dispatch(fetchDashboardAccess());\n          break;\n\n        default:\n          return;\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [success]);\n  React.useEffect(() => {\n    if (error) navigate('/login'); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  if (loading || !user || (loadingTeacher || !data) && userType === 'teacher' || loadingAdmin && userType === 'admin') return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex align-items-center justify-content-center min-vh-100\",\n    children: /*#__PURE__*/_jsxDEV(Tagpi, {\n      type: \"loading\",\n      dataName: \"Contents of Dashboard\",\n      showSpinner: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 7\n  }, this);else return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"main-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(DashboardHeader, {\n        userType: userType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DashboardSidebar, {\n        userType: userType,\n        applicationStatus: data.applicationStatus\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-wrapper\",\n        id: \"page-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(DashboardBreadCrumbs, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-fluid\",\n          children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Dashboard, \"1KcBYeLelzV9KleYJt5x1Z2Uoac=\", false, function () {\n  return [useFreshdeskHelpWidget, useDispatch, useNavigate, useSelector, useSelector, useSelector];\n});\n\n_c = Dashboard;\n\nvar _c;\n\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Dashboard/index.jsx"],"names":["React","useDispatch","useSelector","Outlet","useNavigate","fetchUser","DashboardSidebar","useFreshdeskHelpWidget","DashboardHeader","DashboardBreadCrumbs","fetchTeacherApp","fetchLearners","fetchDashboardAccess","Tagpi","Dashboard","userType","dispatch","navigate","loading","error","user","success","state","auth","teacherApp","data","loadingTeacher","loadingAdmin","admin","useEffect","applicationStatus"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,MAAT,EAAiBC,WAAjB,QAAoC,kBAApC;AAEA,SAASC,SAAT,QAA0B,oBAA1B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,OAAOC,sBAAP,MAAmC,iCAAnC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,oBAAP,MAAiC,wBAAjC;AACA,SAASC,eAAT,QAAgC,0BAAhC;AACA,SAASC,aAAT,QAA8B,wBAA9B;AACA,SAASC,oBAAT,QAAqC,qBAArC;AACA,OAAOC,KAAP,MAAkB,yBAAlB;;AAEA,eAAe,SAASC,SAAT,OAAiC;AAAA;;AAAA,MAAd;AAAEC,IAAAA;AAAF,GAAc;AAC9CR,EAAAA,sBAAsB;AACtB,QAAMS,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAMgB,QAAQ,GAAGb,WAAW,EAA5B;AACA,QAAM;AAAEc,IAAAA,OAAF;AAAWC,IAAAA,KAAX;AAAkBC,IAAAA,IAAlB;AAAwBC,IAAAA;AAAxB,MAAoCnB,WAAW,CAACoB,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAArD;AAEA,QAAMC,UAAU,GAAGtB,WAAW,CAAEoB,KAAD,IAAW;AACxC,UAAM;AAAEJ,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBE,MAAAA,OAAlB;AAA2BI,MAAAA;AAA3B,QAAoCH,KAAK,CAACE,UAAhD;AACA,WAAO;AAAEN,MAAAA,OAAF;AAAWC,MAAAA,KAAX;AAAkBE,MAAAA,OAAlB;AAA2BI,MAAAA;AAA3B,KAAP;AACD,GAH6B,CAA9B;AAKA,QAAM;AAAEP,IAAAA,OAAO,EAAEQ,cAAX;AAA2BD,IAAAA;AAA3B,MAAmCD,UAAzC;AACA,QAAM;AAAEN,IAAAA,OAAO,EAAES;AAAX,MAA4BzB,WAAW,CAACoB,KAAK,IAAIA,KAAK,CAACM,KAAhB,CAA7C;AAEA5B,EAAAA,KAAK,CAAC6B,SAAN,CAAgB,MAAM;AACpB,QAAI,CAACT,IAAL,EAAW;AACTJ,MAAAA,QAAQ,CAACX,SAAS,EAAV,CAAR;AACD;;AAED,QAAGgB,OAAH,EAAW;AACT,cAAON,QAAP;AACE,aAAK,SAAL;AAAgBC,UAAAA,QAAQ,CAACN,eAAe,EAAhB,CAAR;AAA6B;;AAC7C,aAAK,QAAL;AAAeM,UAAAA,QAAQ,CAACL,aAAa,EAAd,CAAR;AAA2B;;AAC1C,aAAK,OAAL;AAAcK,UAAAA,QAAQ,CAACJ,oBAAoB,EAArB,CAAR;AAAkC;;AAChD;AAAS;AAJX;AAMD,KAZmB,CAapB;;AACD,GAdD,EAcG,CAACS,OAAD,CAdH;AAgBArB,EAAAA,KAAK,CAAC6B,SAAN,CAAgB,MAAM;AACpB,QAAIV,KAAJ,EAAWF,QAAQ,CAAC,QAAD,CAAR,CADS,CAEpB;AACD,GAHD,EAGG,EAHH;AAKA,MAAKC,OAAO,IAAI,CAACE,IAAb,IAAuB,CAACM,cAAc,IAAI,CAACD,IAApB,KAA6BV,QAAQ,KAAG,SAA/D,IAA8EY,YAAY,IAAIZ,QAAQ,KAAG,OAA7G,EACE,oBACE;AAAK,IAAA,SAAS,EAAC,6DAAf;AAAA,2BACE,QAAC,KAAD;AAAO,MAAA,IAAI,EAAC,SAAZ;AAAsB,MAAA,QAAQ,EAAC,uBAA/B;AAAuD,MAAA,WAAW,EAAE;AAApE;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF,CADF,KAOE,oBAAO;AAAA,2BACC;AAAK,MAAA,EAAE,EAAC,cAAR;AAAA,8BACI,QAAC,eAAD;AAAiB,QAAA,QAAQ,EAAEA;AAA3B;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI,QAAC,gBAAD;AAAkB,QAAA,QAAQ,EAAEA,QAA5B;AAAsC,QAAA,iBAAiB,EAAEU,IAAI,CAACK;AAA9D;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAK,QAAA,SAAS,EAAC,cAAf;AAA8B,QAAA,EAAE,EAAC,cAAjC;AAAA,gCACI,QAAC,oBAAD;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,iCACI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,UAAP;AAYH;;GAtDuBhB,S;UACtBP,sB,EACiBN,W,EACAG,W,EACyBF,W,EAEvBA,W,EAMeA,W;;;KAZZY,S","sourcesContent":["import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Outlet, useNavigate } from 'react-router-dom';\n\nimport { fetchUser } from 'redux/actions/auth';\nimport DashboardSidebar from './DashboardSidebar';\nimport useFreshdeskHelpWidget from 'hooks/use-freshdesk-help-widget';\nimport DashboardHeader from './DashboardHeader';\nimport DashboardBreadCrumbs from './DashboardBreadCrumbs';\nimport { fetchTeacherApp } from 'redux/actions/teacherApp';\nimport { fetchLearners } from 'redux/actions/learners';\nimport { fetchDashboardAccess } from 'redux/actions/admin';\nimport Tagpi from 'components/common/Tagpi';\n\nexport default function Dashboard({ userType }) {\n  useFreshdeskHelpWidget();\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { loading, error, user, success } = useSelector(state => state.auth);\n\n  const teacherApp = useSelector((state) => {\n    const { loading, error, success, data } = state.teacherApp;\n    return { loading, error, success, data };\n  });\n\n  const { loading: loadingTeacher, data} = teacherApp;\n  const { loading: loadingAdmin } = useSelector(state => state.admin);\n\n  React.useEffect(() => {\n    if (!user) { \n      dispatch(fetchUser());\n    }\n\n    if(success){\n      switch(userType){\n        case \"teacher\": dispatch(fetchTeacherApp()); break;\n        case \"family\": dispatch(fetchLearners()); break;\n        case \"admin\": dispatch(fetchDashboardAccess()); break;\n        default: return;\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [success]);\n\n  React.useEffect(() => {\n    if (error) navigate('/login');\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if ((loading || !user) || ((loadingTeacher || !data) && userType==='teacher') || (loadingAdmin && userType==='admin'))\n    return (\n      <div className='d-flex align-items-center justify-content-center min-vh-100'>\n        <Tagpi type=\"loading\" dataName=\"Contents of Dashboard\" showSpinner={true} />\n      </div>\n    );\n  else\n    return <div>\n            <div id='main-wrapper'>\n                <DashboardHeader userType={userType}/>\n                <DashboardSidebar userType={userType} applicationStatus={data.applicationStatus}/>\n                <div className='page-wrapper' id='page-wrapper'>\n                    <DashboardBreadCrumbs />\n                    <div className='container-fluid'>\n                        <Outlet />\n                    </div>\n                </div>\n            </div>\n        </div>\n}\n"]},"metadata":{},"sourceType":"module"}