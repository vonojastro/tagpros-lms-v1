{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/School-District/contents/SchoolDistrictTeacherMasterlist/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState } from 'react';\nimport Table from 'components/Admin/contents/Table';\nimport Export from 'components/Admin/contents/Export';\nimport { api } from '../../../../api';\nimport { TEACHER_STATUS } from \"utils/constants\";\nimport { getApprovedTeachers } from \"api/teacher\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SchoolDistrictTeacherMasterlist(_ref) {\n  _s();\n\n  let {\n    source\n  } = _ref;\n  const attachments = [{\n    name: 'cvResume',\n    desc: 'Curriculum Vitae/Resume'\n  }, {\n    name: 'professionalLicense',\n    desc: 'Professional License'\n  }, {\n    name: 'govtId',\n    desc: 'Government ID'\n  }, {\n    name: 'refRecommendation',\n    desc: 'References/Recommendations'\n  }];\n  const dispatch = useDispatch();\n  const [selectedTeacher, setSelectedTeacher] = useState({});\n  const [submitLoading, setSubmitLoading] = useState(false); // const [errorUpdate, setErrorUpdate] = useState(false);\n\n  const [errorTable, setErrorTable] = useState(false);\n  const [checkedTeacherList, setCheckedTeacherList] = useState([]);\n  let loading = useSelector(state => state.uiElements.getIn(['loadingScreen']));\n  const teachers = useSelector(state => state.teacher ? state.teacher.getIn(['applications', 'teacher']) : []);\n\n  const loadData = () => {\n    setErrorTable(false);\n    getApprovedTeachers(dispatch, async (status, data) => {\n      if (!status) {\n        setErrorTable(true);\n        toast.error(\"Oh no! Something went wrong. Please try again.\");\n      } else {\n        await setErrorTable(false);\n      }\n    });\n  };\n\n  React.useEffect(() => {\n    loadData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const getDate = (value, format) => {\n    return moment.utc(value, 'YYYY/MM/DD - hh:mm A').tz(Intl.DateTimeFormat().resolvedOptions().timeZone ? Intl.DateTimeFormat().resolvedOptions().timeZone : 'Asia/Manila').format(format);\n  };\n\n  const columns = [{\n    Header: \"Teacher Masterlist\",\n    columns: [{\n      id: \"checkbox\",\n      accessor: \"\",\n      Cell: _ref2 => {\n        let {\n          row\n        } = _ref2;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: !source && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox checkbox-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: row.index,\n              name: row.index,\n              onChange: e => {\n                onClickCheckBox(e, 'teacher', teachers[row.index]);\n                e.preventDefault();\n              },\n              checked: isChecked('teacher', teachers[row.index])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: row.index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 29\n        }, this);\n      },\n      Header: x => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: !source && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"checkbox checkbox-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              id: \"all\",\n              onChange: e => {\n                onClickCheckBox(e, 'all');\n              },\n              checked: isChecked('all')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"all\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }, this);\n      },\n      sortable: false,\n      width: 45\n    }, {\n      Header: 'No.',\n      accessor: 'accountid',\n      Cell: _ref3 => {\n        let {\n          row\n        } = _ref3;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: row.index + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 25\n        }, this);\n      }\n    }, {\n      Header: 'Application Number',\n      accessor: 'applicationNumber'\n    }, {\n      Header: 'Name',\n      accessor: d => [TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(d.status) > -1 ? \"****\" : d.name\n    }, {\n      Header: 'Email',\n      accessor: d => [TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(d.status) > -1 ? \"****\" : d.email\n    }, {\n      Header: 'Total Classes',\n      accessor: 'classCount',\n      Cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center'\n        },\n        children: row.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 35\n      }, this)\n    }, {\n      Header: 'Status',\n      accessor: 'status',\n      Cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"badge \" + getBadge(row.value),\n        children: getStatus(row.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 25\n      }, this)\n    }, {\n      Header: 'Update',\n      accessor: 'updatedDatetime',\n      Cell: row => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: getDate(row.value, 'YYYY/MM/DD - hh:mm A')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }, this)\n    }, {\n      Header: 'Action',\n      accessor: d => d.applicationStatus,\n      Cell: _ref4 => {\n        let {\n          row,\n          value\n        } = _ref4;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-target\": \"#teacherModal\",\n          className: \"btn btn-sm btn-info\",\n          \"data-toggle\": \"modal\",\n          \"data-original-title\": \"Edit\",\n          onClick: () => onClickEdit(row.index),\n          children: \"Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 25\n        }, this);\n      }\n    }]\n  }];\n\n  if (!!source) {\n    columns[0].columns.pop();\n  }\n\n  const getBadge = key => {\n    switch (key) {\n      case TEACHER_STATUS.PENDING:\n        return \"badge-primary\";\n\n      case TEACHER_STATUS.SHORTLISTED:\n        return \"badge-success\";\n\n      case TEACHER_STATUS.FOR_INTERVIEW:\n        return \"badge-info\";\n\n      case TEACHER_STATUS.REJECTED:\n        return \"badge-danger\";\n\n      default:\n        return \"badge-primary\";\n    }\n  };\n\n  const getStatus = value => {\n    return Object.keys(TEACHER_STATUS).find(key => TEACHER_STATUS[key] === value);\n  };\n\n  const onClose = reload => {\n    document.getElementById(\"modal-close\").click();\n    setSelectedTeacher({}); // setStatus(\"pending\")\n    // setRemarks(\"\")\n\n    setSubmitLoading(false); // setErrorUpdate(false);\n\n    if (reload) {\n      loadData();\n    }\n  };\n\n  const onClickEdit = index => {\n    setSelectedTeacher(teachers[index]);\n  };\n\n  const onClickShortList = async source => {\n    setSubmitLoading(true);\n\n    try {\n      if (source === \"table\") {\n        if (checkedTeacherList.length === teachers.length) {\n          teachers.forEach(item => {\n            api.post('/school-leader/shortlist', {\n              teacherId: item.accountId,\n              applicationNumber: item.applicationNumber\n            });\n          });\n        } else {\n          checkedTeacherList.forEach(item => {\n            api.post('/school-leader/shortlist', {\n              teacherId: item.accountId,\n              applicationNumber: item.applicationNumber\n            });\n          });\n        }\n      } else {\n        await api.post('/school-leader/shortlist', {\n          teacherId: selectedTeacher.accountId,\n          applicationNumber: selectedTeacher.applicationNumber\n        });\n      }\n\n      setSubmitLoading(false);\n      loadData();\n      toast.success(\"Thank you for your payment. Teacher has been successfully shortlisted.\");\n      onClose(true);\n    } catch (error) {\n      toast.error(error.message || \"Failed adding teacher to shorlist. Please try again.\");\n    }\n  };\n\n  const onClickCheckBox = async (e, source, teacher) => {\n    let checkedTeachers = [...checkedTeacherList];\n\n    switch (source) {\n      case 'teacher':\n        if (e.target.checked) {\n          checkedTeachers.push(teacher);\n        } else {\n          const idx = checkedTeachers.indexOf(teacher);\n          checkedTeachers.splice(idx, 1);\n        }\n\n        setCheckedTeacherList(checkedTeachers);\n        break;\n\n      case 'all':\n        checkedTeachers = [];\n\n        if (e.target.checked) {\n          teachers.forEach(item => {\n            checkedTeachers.push(item);\n          });\n        } else {\n          checkedTeachers = [];\n        }\n\n        setCheckedTeacherList(checkedTeachers);\n        break;\n\n      default:\n    }\n  };\n\n  const isChecked = (source, teacher) => {\n    if (source === 'all') {\n      return teachers.length === checkedTeacherList.length;\n    } else {\n      return checkedTeacherList.indexOf(teacher) > -1;\n    }\n  }; // const onClickReject = async () => {\n  //     setSubmitLoading(true);\n  //     await api.post('/school-leader/reject', {teacherId: selectedTeacher.accountId, applicationNumber: selectedTeacher.applicationNumber})\n  //     .then(response => {\n  //         onClose(true);\n  //         toast.success(\"Teacher has been reject.\");\n  //     }).catch(({response}) => {\n  //         toast.error(response?.data.message || \"Failed rejecting teacher. Please try again.\");\n  //     }).finally(() => {\n  //         setSubmitLoading(false);\n  //     });\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row\",\n              children: [!source && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"left-aside bg-light-part col-3\",\n                children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                  className: \"list-style-none\",\n                  children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"box-label\",\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: \"#!\",\n                      children: [\"Total Teachers \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: teachers.length\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 279,\n                        columnNumber: 64\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    className: \"divider\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                    children: /*#__PURE__*/_jsxDEV(Export, {\n                      source: \"school_leader\",\n                      dataSource: teachers\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"right-aside col\",\n                style: {\n                  marginLeft: '0px !important',\n                  overflowY: \"auto\"\n                },\n                children: [!source && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row justify-content-end mb-4 mr-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-info col-3\",\n                    onClick: () => onClickShortList(\"table\"),\n                    disabled: submitLoading || checkedTeacherList.length < 1,\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        display: submitLoading ? 'inline-block' : 'none'\n                      },\n                      class: \"spinner-border spinner-border-sm btn-load\",\n                      role: \"status\",\n                      \"aria-hidden\": \"true\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 45\n                    }, this), \"Shortlist\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 48\n                }, this), /*#__PURE__*/_jsxDEV(Table, {\n                  loading: loading,\n                  error: errorTable,\n                  columns: columns,\n                  data: teachers,\n                  disclaimer: /*#__PURE__*/_jsxDEV(\"i\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Disclaimer: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 304,\n                      columnNumber: 56\n                    }, this), \"Teachers that were only able to qualify the requirements are displayed.\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 53\n                  }, this),\n                  title: \"Teacher List\",\n                  filterColumn: 'status',\n                  emptyMessage: \"It looks like there are no available teacher data at this moment.\",\n                  onReload: loadData\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        id: \"teacherModal\",\n        tabIndex: -1,\n        \"aria-labelledby\": \"exampleModalLabel\",\n        \"aria-hidden\": \"true\",\n        onContextMenu: e => e.preventDefault(),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-dialog modal-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"modal-title\",\n                id: \"exampleModalLabel\",\n                children: \"Manage Teacher\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"close\",\n                \"data-dismiss\": \"modal\",\n                \"aria-label\": \"Close\",\n                onClick: () => onClose(),\n                disabled: submitLoading,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  \"aria-hidden\": \"true\",\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-body\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"row no-gutters\",\n                      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-4\",\n                        children: /*#__PURE__*/_jsxDEV(\"img\", {\n                          src: [TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(selectedTeacher.status) > -1 ? \"./assets/images/anonymous.png\" : selectedTeacher.photo ? selectedTeacher.photo : \"./assets/images/image-placeholder.jpg\",\n                          className: \"card-img\",\n                          alt: \"...\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 335,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 334,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"col-md-8\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"card-body\",\n                          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted\",\n                            children: \"Name \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 340,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                            children: [TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(selectedTeacher.status) > -1 ? \"****\" : selectedTeacher.name\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 341,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted\",\n                            children: \"Email address \"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 342,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                            children: [TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(selectedTeacher.status) > -1 ? \"************\" : selectedTeacher.email\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 343,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                            className: \"text-muted p-t-10 db\",\n                            children: \"Phone\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 344,\n                            columnNumber: 61\n                          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                            children: [TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(selectedTeacher.status) > -1 ? \"***********\" : selectedTeacher.contactNumber\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 345,\n                            columnNumber: 61\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 339,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 338,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 333,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-body\",\n                      children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n                        className: \"nav nav-tabs profile-tab\",\n                        role: \"tablist\",\n                        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"nav-item\",\n                          children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                            className: \"nav-link active\",\n                            \"data-toggle\": \"tab\",\n                            href: \"#attachments\",\n                            role: \"tab\",\n                            children: \"Attachments\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 356,\n                            columnNumber: 83\n                          }, this), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 356,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"nav-item\",\n                          children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                            className: \"nav-link\",\n                            \"data-toggle\": \"tab\",\n                            href: \"#academic\",\n                            role: \"tab\",\n                            children: \"Academic\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 357,\n                            columnNumber: 83\n                          }, this), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 357,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"nav-item\",\n                          children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                            className: \"nav-link\",\n                            \"data-toggle\": \"tab\",\n                            href: \"#topic\",\n                            role: \"tab\",\n                            children: \"Topic\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 358,\n                            columnNumber: 83\n                          }, this), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 358,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                          className: \"nav-item\",\n                          children: [\" \", /*#__PURE__*/_jsxDEV(\"a\", {\n                            className: \"nav-link\",\n                            \"data-toggle\": \"tab\",\n                            href: \"#description\",\n                            role: \"tab\",\n                            children: \"Description\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 359,\n                            columnNumber: 83\n                          }, this), \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 359,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 355,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"tab-content\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"tab-pane active\",\n                          id: \"attachments\",\n                          role: \"tabpanel\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-body\",\n                            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                              class: \"list-group\",\n                              children: attachments.map((item, key) => /*#__PURE__*/_jsxDEV(\"li\", {\n                                class: \"list-group-item d-flex justify-content-between align-items-center\",\n                                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                                    className: \"mb-1\",\n                                    style: {\n                                      fontStyle: (!selectedTeacher[item.name] || selectedTeacher[item.name] === '{}') && 'italic'\n                                    },\n                                    children: !selectedTeacher[item.name] || selectedTeacher[item.name] === '{}' ? 'No Attachment yet' : /*#__PURE__*/_jsxDEV(\"i\", {\n                                      children: \"Attachment available\"\n                                    }, void 0, false, {\n                                      fileName: _jsxFileName,\n                                      lineNumber: 374,\n                                      columnNumber: 107\n                                    }, this)\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 370,\n                                    columnNumber: 77\n                                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                                    style: {\n                                      color: 'gray'\n                                    },\n                                    children: item.desc\n                                  }, void 0, false, {\n                                    fileName: _jsxFileName,\n                                    lineNumber: 376,\n                                    columnNumber: 77\n                                  }, this)]\n                                }, void 0, true, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 369,\n                                  columnNumber: 73\n                                }, this)\n                              }, key, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 368,\n                                columnNumber: 69\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 366,\n                              columnNumber: 61\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 365,\n                            columnNumber: 57\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 364,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"tab-pane\",\n                          id: \"academic\",\n                          role: \"tabpanel\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-body\",\n                            children: /*#__PURE__*/_jsxDEV(\"p\", {\n                              style: {\n                                whiteSpace: \"pre-line\"\n                              },\n                              children: !selectedTeacher.teacherAchievement || selectedTeacher.teacherAchievement === '{}' ? 'No data available' : selectedTeacher.teacherAchievement\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 385,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 384,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 383,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"tab-pane\",\n                          id: \"topic\",\n                          role: \"tabpanel\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-body\",\n                            children: /*#__PURE__*/_jsxDEV(\"p\", {\n                              style: {\n                                whiteSpace: \"pre-line\"\n                              },\n                              children: !selectedTeacher.classTopics || selectedTeacher.classTopics === '{}' ? 'No data available' : selectedTeacher.classTopics\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 392,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 391,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 390,\n                          columnNumber: 57\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"tab-pane\",\n                          id: \"description\",\n                          role: \"tabpanel\",\n                          children: /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"card-body\",\n                            children: /*#__PURE__*/_jsxDEV(\"p\", {\n                              style: {\n                                whiteSpace: \"pre-line\"\n                              },\n                              children: !selectedTeacher.classDescription || selectedTeacher.classDescription === '{}' ? 'No data available' : selectedTeacher.classDescription\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 399,\n                              columnNumber: 65\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 398,\n                            columnNumber: 61\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 397,\n                          columnNumber: 57\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 362,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 353,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 351,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card mb-3\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"card-body\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        className: \"modal-title\",\n                        id: \"exampleModalLabel\",\n                        children: \"Action\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 411,\n                        columnNumber: 53\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 411,\n                        columnNumber: 115\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"row justify-content-around\",\n                        children: /*#__PURE__*/_jsxDEV(\"button\", {\n                          className: \"btn btn-info col-5\",\n                          onClick: () => onClickShortList(\"details\"),\n                          disabled: true,\n                          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                            style: {\n                              display: submitLoading ? 'inline-block' : 'none'\n                            },\n                            class: \"spinner-border spinner-border-sm btn-load\",\n                            role: \"status\",\n                            \"aria-hidden\": \"true\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 415,\n                            columnNumber: 61\n                          }, this), \"Shortlist\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 414,\n                          columnNumber: 57\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 412,\n                        columnNumber: 53\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 49\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-footer\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                id: \"modal-close\",\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => onClose(),\n                \"data-dismiss\": \"modal\",\n                disabled: submitLoading,\n                children: \"Cancel\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      className: \"footer\",\n      children: \"\\xA9 2021 Tagpros Education\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SchoolDistrictTeacherMasterlist, \"Hk4n8mVO6ROMd/2VqRz0NMPEQOI=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = SchoolDistrictTeacherMasterlist;\n\nvar _c;\n\n$RefreshReg$(_c, \"SchoolDistrictTeacherMasterlist\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/School-District/contents/SchoolDistrictTeacherMasterlist/index.jsx"],"names":["React","Fragment","useState","Table","Export","api","TEACHER_STATUS","getApprovedTeachers","useDispatch","useSelector","toast","moment","SchoolDistrictTeacherMasterlist","source","attachments","name","desc","dispatch","selectedTeacher","setSelectedTeacher","submitLoading","setSubmitLoading","errorTable","setErrorTable","checkedTeacherList","setCheckedTeacherList","loading","state","uiElements","getIn","teachers","teacher","loadData","status","data","error","useEffect","getDate","value","format","utc","tz","Intl","DateTimeFormat","resolvedOptions","timeZone","columns","Header","id","accessor","Cell","row","index","e","onClickCheckBox","preventDefault","isChecked","x","sortable","width","d","PENDING","REJECTED","indexOf","email","textAlign","getBadge","getStatus","applicationStatus","onClickEdit","pop","key","SHORTLISTED","FOR_INTERVIEW","Object","keys","find","onClose","reload","document","getElementById","click","onClickShortList","length","forEach","item","post","teacherId","accountId","applicationNumber","success","message","checkedTeachers","target","checked","push","idx","splice","marginLeft","overflowY","display","photo","contactNumber","map","fontStyle","color","whiteSpace","teacherAchievement","classTopics","classDescription"],"mappings":"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","sourcesContent":["import React, { Fragment, useState }  from 'react';\nimport Table from 'components/Admin/contents/Table';\nimport Export from 'components/Admin/contents/Export';\nimport { api } from '../../../../api';\nimport { TEACHER_STATUS } from \"utils/constants\"\nimport { getApprovedTeachers } from \"api/teacher\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport moment from 'moment';\n\n\nexport default function SchoolDistrictTeacherMasterlist({source}) {\n    const attachments = [ \n        {name: 'cvResume', desc: 'Curriculum Vitae/Resume'},\n        {name: 'professionalLicense', desc: 'Professional License'}, \n        {name: 'govtId', desc: 'Government ID'}, \n        {name:'refRecommendation', desc: 'References/Recommendations'}\n    ];\n\n    const dispatch = useDispatch();\n    const [selectedTeacher, setSelectedTeacher] = useState({});\n    const [submitLoading, setSubmitLoading] = useState(false);\n    // const [errorUpdate, setErrorUpdate] = useState(false);\n    const [errorTable, setErrorTable] = useState(false);\n    const [checkedTeacherList, setCheckedTeacherList] = useState([]);\n\n    let loading = useSelector((state) => state.uiElements.getIn(['loadingScreen']));\n    const teachers = useSelector((state) => state.teacher ? state.teacher.getIn(['applications', 'teacher']) : []);\n\n    const loadData = () => {\n        setErrorTable(false);\n        getApprovedTeachers(dispatch, async (status, data)=>{\n            if (!status) {\n                setErrorTable(true);\n                toast.error(\"Oh no! Something went wrong. Please try again.\");\n            } else {\n                await setErrorTable(false);\n                \n            }\n        })\n\n    }\n\n    React.useEffect(() => {\n        loadData();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n\n    const getDate = (value, format) =>{\n        return moment.utc(value, 'YYYY/MM/DD - hh:mm A').tz(Intl.DateTimeFormat().resolvedOptions().timeZone ? Intl.DateTimeFormat().resolvedOptions().timeZone : 'Asia/Manila').format(format);\n    }\n\n    const columns = [\n        {\n            Header: \"Teacher Masterlist\",\n            columns: [\n                {                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          \n                    id: \"checkbox\",\n                    accessor: \"\",\n                    Cell: ({ row }) => {\n                        return (\n                            <div>\n                            {!source && \n                                <div className=\"checkbox checkbox-info\">\n                                <input\n                                    type=\"checkbox\"\n                                    id={row.index}\n                                    name = {row.index}\n                                    onChange={e => {onClickCheckBox(e, 'teacher', teachers[row.index]); e.preventDefault();}} \n                                    checked = {isChecked('teacher', teachers[row.index])}\n                                />\n                                <label htmlFor={row.index}>\n                                </label>\n                                </div>}\n                            </div>\n                        );\n                    },\n                    Header: x => {\n                        return (\n                            <div>\n                            {!source && <div className=\"checkbox checkbox-info\">\n                            <input\n                                type=\"checkbox\"\n                                id=\"all\"\n                                onChange={e => {onClickCheckBox(e, 'all')}} \n                                checked={isChecked('all')}\n                            />\n                            <label htmlFor=\"all\">\n                            </label>\n                        </div>}\n                        </div>\n                            \n                        );\n                    },\n                    sortable: false,\n                    width: 45\n                  \n                },\n                {\n                    Header: 'No.', accessor: 'accountid',\n                    Cell: ({ row }) => (\n                        <div>{row.index + 1}</div>\n                    ),\n                },\n                { Header: 'Application Number', accessor: 'applicationNumber' },\n                { \n                    Header: 'Name', \n                    accessor: d => [TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(d.status) > -1 ? \"****\" : d.name\n                },\n                { \n                    Header: 'Email', \n                    accessor: d => [TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(d.status) > -1 ? \"****\" : d.email\n                },\n                { \n                    Header: 'Total Classes', accessor: 'classCount',\n                    Cell: row => (<div style={{textAlign: 'center'}}>{row.value}</div>) \n                },\n                {\n                    Header: 'Status', accessor: 'status',\n                    Cell: row => (\n                        <div className={\"badge \" + getBadge(row.value)}>{getStatus(row.value)}</div>\n                    ),\n                },\n                { Header: 'Update', accessor: 'updatedDatetime',\n                    Cell: row => (\n                        <div>{getDate(row.value, 'YYYY/MM/DD - hh:mm A')}</div>\n                    )\n                },\n                {\n                    Header: 'Action', accessor: d => d.applicationStatus,\n                    Cell: ({ row, value }) => (\n                        <button\n                            data-target=\"#teacherModal\"\n                            className=\"btn btn-sm btn-info\"\n                            data-toggle=\"modal\"\n                            data-original-title=\"Edit\"\n                            onClick={() => onClickEdit(row.index)}\n                        >   \n                            Details\n                        </button>\n                    ),\n                },\n            ],\n        },\n    ];\n\n    if (!!source)\n    {\n        columns[0].columns.pop();\n    }\n\n    const getBadge = (key) => {\n        switch (key) {\n            case TEACHER_STATUS.PENDING:\n                return \"badge-primary\"\n            case TEACHER_STATUS.SHORTLISTED:\n                return \"badge-success\"\n            case TEACHER_STATUS.FOR_INTERVIEW:\n                return \"badge-info\"\n            case TEACHER_STATUS.REJECTED:\n                return \"badge-danger\"\n            default:\n                return \"badge-primary\"\n        }\n    }\n\n    const getStatus = (value) => {\n        return Object.keys(TEACHER_STATUS).find(key => TEACHER_STATUS[key] === value);\n    }\n\n    const onClose = (reload) => {\n        document.getElementById(\"modal-close\").click()\n\n        setSelectedTeacher({})\n        // setStatus(\"pending\")\n        // setRemarks(\"\")\n        setSubmitLoading(false);\n        // setErrorUpdate(false);\n\n        if(reload) {\n            loadData();\n        }\n    }\n\n    const onClickEdit = (index) => {\n        setSelectedTeacher(teachers[index]);\n    }\n\n    const onClickShortList = async (source) => {\n        setSubmitLoading(true);\n        try{\n        if(source === \"table\"){\n            if(checkedTeacherList.length === teachers.length ){\n                teachers.forEach(item => {\n                    api.post('/school-leader/shortlist', {teacherId: item.accountId, applicationNumber: item.applicationNumber})\n                })\n            } else{\n                    checkedTeacherList.forEach(item =>{\n                            api.post('/school-leader/shortlist', {teacherId: item.accountId, applicationNumber: item.applicationNumber})\n                      \n                }) \n            }  \n        }else{\n            await api.post('/school-leader/shortlist', {teacherId: selectedTeacher.accountId, applicationNumber: selectedTeacher.applicationNumber})\n        }\n        setSubmitLoading(false);\n        loadData();\n        toast.success(\"Thank you for your payment. Teacher has been successfully shortlisted.\");\n        onClose(true);    \n    }catch (error){\n        toast.error(error.message || \"Failed adding teacher to shorlist. Please try again.\");\n    }\n    }\n\n    const onClickCheckBox = async (e, source, teacher) => {\n        let checkedTeachers = [...checkedTeacherList];\n        switch(source){\n            case 'teacher':\n                    if(e.target.checked){\n                        checkedTeachers.push(teacher);\n                    }else{\n                       const idx = checkedTeachers.indexOf(teacher);\n                       checkedTeachers.splice(idx, 1);\n                    }\n                setCheckedTeacherList(checkedTeachers);\n                break;\n            case 'all': \n                checkedTeachers = [];\n                if(e.target.checked){\n                    teachers.forEach(item => {\n                        checkedTeachers.push(item);\n                    })\n                }else{\n                    checkedTeachers = [];\n                }\n\n                setCheckedTeacherList(checkedTeachers);\n                break;\n            default:\n        }\n    }\n\n\n    const isChecked = (source, teacher) => {\n        if (source === 'all'){ \n            return teachers.length === checkedTeacherList.length;\n        }else{\n            return checkedTeacherList.indexOf(teacher) > -1;\n        }\n    }\n\n    // const onClickReject = async () => {\n    //     setSubmitLoading(true);\n    //     await api.post('/school-leader/reject', {teacherId: selectedTeacher.accountId, applicationNumber: selectedTeacher.applicationNumber})\n    //     .then(response => {\n    //         onClose(true);\n    //         toast.success(\"Teacher has been reject.\");\n    //     }).catch(({response}) => {\n    //         toast.error(response?.data.message || \"Failed rejecting teacher. Please try again.\");\n    //     }).finally(() => {\n    //         setSubmitLoading(false);\n    //     });\n    // }\n\n    return (\n        <Fragment>\n            <div className=\"container-fluid\">\n                <div className=\"row\">\n                    <div className=\"col-12\">\n                        <div className=\"card\">\n                            {/* <!-- .left-right-aside-column--> */}\n                            <div className=\"row\">\n                                {/* <!-- .left-aside-column--> */}\n                                {!source && <div className=\"left-aside bg-light-part col-3\">\n                                    <ul className=\"list-style-none\">\n                                        <li className=\"box-label\">\n                                            <a href=\"#!\">\n                                                Total Teachers <span>{teachers.length}</span>\n                                            </a>\n                                        </li>\n                                        <li className=\"divider\"></li>\n                                        <li>\n                                            <Export source={\"school_leader\"} dataSource={teachers} />\n                                        </li>\n\n                                    </ul>\n                                </div>}\n                                {/* <!-- /.left-aside-column--> */}\n                                <div className=\"right-aside col\" style={{ marginLeft: '0px !important', overflowY: \"auto\" }}>\n                                    {/* <div className={`right-aside ${!!source ? 'col' : 'col-9'}`} style={{ marginLeft: !!source ? '15px !important' : '0px !important' }}> */}\n                                    \n                                   {!source && <div className=\"row justify-content-end mb-4 mr-2\">\n                                        <button className=\"btn btn-info col-3\" onClick={() => onClickShortList(\"table\")} disabled={submitLoading || checkedTeacherList.length < 1}>\n                                            <span style={{ display: submitLoading ? 'inline-block' : 'none' }} class=\"spinner-border spinner-border-sm btn-load\" role=\"status\" aria-hidden=\"true\"></span>\n                                            Shortlist\n                                        </button>\n                                    </div>} \n                                    <Table\n                                        loading={loading}\n                                        error={errorTable}\n                                        columns={columns}\n                                        data={teachers}\n                                        disclaimer={<i><b>Disclaimer: </b>Teachers that were only able to qualify the requirements are displayed.</i>}\n                                        title={\"Teacher List\"}\n                                        filterColumn={'status'}\n                                        emptyMessage={\"It looks like there are no available teacher data at this moment.\"}\n                                        onReload={loadData} />\n                                </div>\n                                {/* <!-- /.left-right-aside-column--> */}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                {/* <!-- ============================================================== -->\n                <!-- End PAge Content -->\n                <!-- ============================================================== -->\n                <!-- ============================================================== -->*/}\n                {/* Modal */}\n                <div className=\"modal\" id=\"teacherModal\" tabIndex={-1} aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" onContextMenu={(e)=> e.preventDefault()}>\n                        <div className=\"modal-dialog modal-lg\">\n                            <div className=\"modal-content\">\n                                <div className=\"modal-header\">\n                                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Manage Teacher</h5>\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" onClick={() => onClose()}  disabled={submitLoading}>\n                                        <span aria-hidden=\"true\">×</span>\n                                    </button>\n                                </div>\n                                <div className=\"modal-body\">\n                                    <div className=\"row\" >\n                                        <div className=\"col-12\">\n                                            <div className=\"card mb-3\">\n                                                <div className=\"row no-gutters\">\n                                                    <div className=\"col-md-4\">\n                                                        <img src={[TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(selectedTeacher.status) > -1 ? \"./assets/images/anonymous.png\" :\n                                                           (selectedTeacher.photo ? selectedTeacher.photo : \"./assets/images/image-placeholder.jpg\")} className=\"card-img\" alt=\"...\" />\n                                                    </div>\n                                                    <div className=\"col-md-8\">\n                                                        <div className=\"card-body\">\n                                                            <small className=\"text-muted\">Name </small>\n                                                            <h6>{[TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(selectedTeacher.status) > -1 ? \"****\" : selectedTeacher.name}</h6>\n                                                            <small className=\"text-muted\">Email address </small>\n                                                            <h6>{[TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(selectedTeacher.status) > -1 ?  \"************\" : selectedTeacher.email}</h6>\n                                                            <small className=\"text-muted p-t-10 db\">Phone</small>\n                                                            <h6>{[TEACHER_STATUS.PENDING, TEACHER_STATUS.REJECTED].indexOf(selectedTeacher.status) > -1 ? \"***********\" : selectedTeacher.contactNumber}</h6>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-12\">\n                                            <div className=\"card mb-3\">\n                                                <div className=\"card-body\">\n                                                    {/* Nav tabs */}\n                                                    <ul className=\"nav nav-tabs profile-tab\" role=\"tablist\">\n                                                        <li className=\"nav-item\"> <a className=\"nav-link active\" data-toggle=\"tab\" href=\"#attachments\" role=\"tab\">Attachments</a> </li>\n                                                        <li className=\"nav-item\"> <a className=\"nav-link\" data-toggle=\"tab\" href=\"#academic\" role=\"tab\">Academic</a> </li>\n                                                        <li className=\"nav-item\"> <a className=\"nav-link\" data-toggle=\"tab\" href=\"#topic\" role=\"tab\">Topic</a> </li>\n                                                        <li className=\"nav-item\"> <a className=\"nav-link\" data-toggle=\"tab\" href=\"#description\" role=\"tab\">Description</a> </li>\n                                                    </ul>\n                                                    {/* Tab panes */}\n                                                    <div className=\"tab-content\">\n                                                        {/*first tab*/}\n                                                        <div className=\"tab-pane active\" id=\"attachments\" role=\"tabpanel\">\n                                                        <div className=\"card-body\">\n                                                            <ul class=\"list-group\">\n                                                                {attachments.map((item, key) => \n                                                                    <li key={key} class=\"list-group-item d-flex justify-content-between align-items-center\">\n                                                                        <div>\n                                                                            <h5 className=\"mb-1\" style={{fontStyle: (!selectedTeacher[item.name] \n                                                                                    || selectedTeacher[item.name] === '{}') && 'italic'}}>\n                                                                                {(!selectedTeacher[item.name] \n                                                                                    || selectedTeacher[item.name] === '{}') ? \n                                                                                    'No Attachment yet' : <i>Attachment available</i>}\n                                                                            </h5>\n                                                                            <small style={{color: 'gray'}}>{item.desc}</small>\n                                                                        </div>\n                                                                    </li>\n                                                                )}\n                                                            </ul>\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"tab-pane\" id=\"academic\" role=\"tabpanel\">\n                                                            <div className=\"card-body\">\n                                                                <p style={{whiteSpace: \"pre-line\"}}>{(!selectedTeacher.teacherAchievement \n                                                                                    || selectedTeacher.teacherAchievement === '{}') ? \n                                                                                    'No data available' : selectedTeacher.teacherAchievement}</p>\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"tab-pane\" id=\"topic\" role=\"tabpanel\">\n                                                            <div className=\"card-body\">\n                                                                <p style={{whiteSpace: \"pre-line\"}}>{(!selectedTeacher.classTopics\n                                                                                    || selectedTeacher.classTopics === '{}') ? \n                                                                                    'No data available' : selectedTeacher.classTopics}</p>\n                                                            </div>\n                                                        </div>\n                                                        <div className=\"tab-pane\" id=\"description\" role=\"tabpanel\">\n                                                            <div className=\"card-body\">\n                                                                <p style={{whiteSpace: \"pre-line\"}}>{ (!selectedTeacher.classDescription\n                                                                                    || selectedTeacher.classDescription === '{}') ? \n                                                                                    'No data available' : selectedTeacher.classDescription}</p>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-12\">\n                                            <div className=\"card mb-3\">\n                                                <div className=\"card-body\">\n                                                    <h5 className=\"modal-title\" id=\"exampleModalLabel\">Action</h5><br />\n                                                    <div className=\"row justify-content-around\">\n                                                        {/* disabled={submitLoading || selectedTeacher.classCount < 1 || selectedTeacher.status === TEACHER_STATUS.SHORTLISTED} */}\n                                                        <button className=\"btn btn-info col-5\" onClick={() => onClickShortList(\"details\")} disabled={true}> \n                                                            <span style={{ display: submitLoading ? 'inline-block' : 'none' }} class=\"spinner-border spinner-border-sm btn-load\" role=\"status\" aria-hidden=\"true\"></span>\n                                                            Shortlist\n                                                        </button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"modal-footer\">\n                                    <button id=\"modal-close\" type=\"button\" className=\"btn btn-secondary\" onClick={() => onClose()} data-dismiss=\"modal\" disabled={submitLoading}>Cancel</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n            </div>\n            <footer className=\"footer\">© 2021 Tagpros Education</footer>\n        </Fragment>\n    )\n}"]},"metadata":{},"sourceType":"module"}