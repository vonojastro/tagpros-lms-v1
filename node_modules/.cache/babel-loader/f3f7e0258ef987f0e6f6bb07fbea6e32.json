{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Support&Policy/SearchPolicyPage.jsx\",\n    _s = $RefreshSig$();\n\nimport Page from 'components/Page';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { FirstOverflowSection, FirstSection, SearchDiv, Wrapper2 } from './style';\nimport Fuse from 'fuse.js';\nimport { articlesLink } from './links';\nimport { MdPlayArrow } from 'react-icons/md';\nimport Tagpi from 'components/common/Tagpi';\nimport { IoSearchOutline } from 'react-icons/io5';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SearchPolicyPage = () => {\n  _s();\n\n  const [params] = useSearchParams();\n  const query = params.get('query').split(' ');\n  const [articles, setArticles] = useState([{\n    item: {\n      label: '',\n      to: '/'\n    }\n  }]);\n  useEffect(() => {\n    let searchArr = [];\n    query.forEach(q => q.length >= 4 ? searchArr.push(q) : q.length === 3 && q.toLowerCase() === 'faq' || q.toLowerCase() === 'how' ? searchArr.push(q) : q);\n    const fuseSearchOptions = {\n      includeScore: true,\n      keys: [{\n        name: 'label',\n        weight: 7\n      }],\n      useExtendedSearch: true\n    };\n    const fuse = new Fuse(articlesLink, fuseSearchOptions);\n    const request = searchArr.length ? fuse.search({\n      label: `'${searchArr} | ${searchArr}`\n    }) : fuse.search({\n      label: `!1234567890`\n    });\n    setArticles(request);\n  }, [query]);\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FirstOverflowSection, {\n      pageProps: {\n        withNavBar: true,\n        isNew: true\n      },\n      children: /*#__PURE__*/_jsxDEV(FirstSection, {\n        className: \"search-page\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Support & Policies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Page, {\n      children: /*#__PURE__*/_jsxDEV(SearchDiv, {\n        children: /*#__PURE__*/_jsxDEV(Wrapper2, {\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"/search-policy\",\n            children: [/*#__PURE__*/_jsxDEV(IoSearchOutline, {\n              size: \"2rem\",\n              color: \"#757575\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"query\",\n              defaultValue: params.get('query'),\n              autoFocus: true,\n              placeholder: \"Search policies\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"submit\",\n              value: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: articles.length ? articles === null || articles === void 0 ? void 0 : articles.map(article => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(MdPlayArrow, {\n                size: \"1.5em\",\n                color: \"#D9D9D9\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: article.item.to,\n                target: \"_blank\",\n                children: article.item.label\n              }, article.item.label, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(Tagpi, {\n              type: \"noData\",\n              customMessage: \"Uh oh! No policies found. Try searching again.\",\n              dataName: \"Classes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SearchPolicyPage, \"BJd0N33JkPwVgBz0R+dZ967je0I=\", false, function () {\n  return [useSearchParams];\n});\n\n_c = SearchPolicyPage;\nexport default SearchPolicyPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchPolicyPage\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Support&Policy/SearchPolicyPage.jsx"],"names":["Page","React","Fragment","useEffect","useState","Link","useSearchParams","FirstOverflowSection","FirstSection","SearchDiv","Wrapper2","Fuse","articlesLink","MdPlayArrow","Tagpi","IoSearchOutline","SearchPolicyPage","params","query","get","split","articles","setArticles","item","label","to","searchArr","forEach","q","length","push","toLowerCase","fuseSearchOptions","includeScore","keys","name","weight","useExtendedSearch","fuse","request","search","withNavBar","isNew","map","article"],"mappings":"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","sourcesContent":["import Page from 'components/Page';\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport { FirstOverflowSection, FirstSection, SearchDiv, Wrapper2 } from './style';\nimport Fuse from 'fuse.js';\nimport { articlesLink } from './links';\nimport { MdPlayArrow } from 'react-icons/md';\nimport Tagpi from 'components/common/Tagpi';\nimport { IoSearchOutline } from 'react-icons/io5';\n\nconst SearchPolicyPage = () => {\n  const [params] = useSearchParams();\n  const query = params.get('query').split(' ');\n  const [articles, setArticles] = useState([{ item: { label: '', to: '/' } }]);\n\n  useEffect(() => {\n    let searchArr = [];\n\n    query.forEach(q =>\n      q.length >= 4\n        ? searchArr.push(q)\n        : (q.length === 3 && q.toLowerCase() === 'faq') || q.toLowerCase() === 'how'\n        ? searchArr.push(q)\n        : q\n    );\n\n    const fuseSearchOptions = {\n      includeScore: true,\n      keys: [{ name: 'label', weight: 7 }],\n      useExtendedSearch: true\n    };\n    const fuse = new Fuse(articlesLink, fuseSearchOptions);\n    const request = searchArr.length\n      ? fuse.search({ label: `'${searchArr} | ${searchArr}` })\n      : fuse.search({ label: `!1234567890` });\n    setArticles(request);\n  }, [query]);\n\n  return (\n    <Fragment>\n      <FirstOverflowSection pageProps={{ withNavBar: true, isNew: true }}>\n        <FirstSection className='search-page'>\n          <h1>\n            <b>Support & Policies</b>\n          </h1>\n        </FirstSection>\n      </FirstOverflowSection>\n      <Page>\n        <SearchDiv>\n          <Wrapper2>\n            <form action='/search-policy'>\n              <IoSearchOutline size='2rem' color='#757575' />\n              <input\n                type='text'\n                name='query'\n                defaultValue={params.get('query')}\n                autoFocus\n                placeholder='Search policies'\n              />\n              <input type='submit' value='Search' />\n            </form>\n            <div>\n              {articles.length ? (\n                articles?.map(article => (\n                  <div>\n                    <MdPlayArrow size='1.5em' color='#D9D9D9' />\n                    <Link to={article.item.to} key={article.item.label} target='_blank'>\n                      {article.item.label}\n                    </Link>\n                  </div>\n                ))\n              ) : (\n                <Tagpi\n                  type='noData'\n                  customMessage='Uh oh! No policies found. Try searching again.'\n                  dataName='Classes'\n                />\n              )}\n            </div>\n          </Wrapper2>\n        </SearchDiv>\n      </Page>\n    </Fragment>\n  );\n};\n\nexport default SearchPolicyPage;\n"]},"metadata":{},"sourceType":"module"}