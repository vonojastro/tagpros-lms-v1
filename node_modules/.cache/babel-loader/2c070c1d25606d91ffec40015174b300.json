{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/MailView/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { getAllEmailThreadsByUser } from 'api/emailMessaging';\nimport PropTypes from 'prop-types';\nimport React, { useContext, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { Outlet, useMatch, useNavigate, useParams, useLocation } from 'react-router';\nimport { setActiveDraft, toggleEmailComposer, toggleSidebar } from 'redux/actions/mailView';\nimport styled, { ThemeContext } from 'styled-components';\nimport Content from './Content';\nimport ContentHeader from './Content/ContentHeader';\nimport MainContent from './Content/ContentHeader/MainContent';\nimport EmailComposer from './EmailComposer';\nimport { fields } from './EmailComposer/fields';\nimport { Message as EmailContentViewMessage, Subject as EmailContentViewSubject } from './EmailContentView';\nimport IconButton from './IconButton';\nimport ModalOverlay from './ModalOverlay';\nimport Sidebar from './Sidebar';\nimport SidebarButton from './Sidebar/SidebarButton';\nimport SidebarExpandButton from './Sidebar/SidebarExpandButton';\nimport WriteMailActionButton from './Sidebar/WriteMailActionButton';\nimport Topbar from './Topbar';\nimport SearchInput from './Topbar/SearchInput';\nimport TopbarLeft from './Topbar/TopbarLeft';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SearchInputContainer = styled.div``;\n_c = SearchInputContainer;\nconst MobileSearchInputContainer = styled.div``;\n_c2 = MobileSearchInputContainer;\nconst RefreshIconButtonContainer = styled.div``;\n_c3 = RefreshIconButtonContainer;\nconst BarIconButtonContainer = styled.div``;\nconst MobileLogoContainer = styled.div`\n  height: 2rem;\n  margin: 1rem;\n`;\n_c4 = MobileLogoContainer;\nconst WriteMailActionButtonContainer = styled.div``;\n_c5 = WriteMailActionButtonContainer;\nconst SidebarButtonsContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n`;\n_c6 = SidebarButtonsContainer;\nconst Logo = styled.div`\n  background-image: url(${props => props.theme.custom.logoSrc});\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n  height: 100%;\n  width: 100%;\n  cursor: pointer;\n`;\n_c7 = Logo;\nconst Container = styled.div`\n  .btn:focus,\n  .btn:active {\n    outline: none !important;\n  }\n\n  transition-timing-function: ease-in-out;\n  transition-property: grid-template-columns;\n  transition-duration: 100ms;\n  -webkit-transition-duration: 100ms;\n  display: grid;\n\n  grid-template-columns: 0 1fr;\n\n  grid-template-rows: auto 1fr;\n  grid-template-areas:\n    'topbar topbar'\n    'sidebar content';\n  gap: ${props => props.theme.custom.mainGap};\n  color: black;\n  align-items: flex-start;\n  height: 100vh;\n  position: relative;\n\n  & ${RefreshIconButtonContainer} {\n    display: none;\n  }\n  & ${WriteMailActionButtonContainer} {\n    display: none;\n  }\n  & ${Topbar} {\n    display: none;\n  }\n  & ${SidebarButtonsContainer} {\n    display: ${props => props.isSidebarExpanded ? 'grid' : 'none'};\n  }\n\n  @media (min-width: ${props => props.theme.custom.laptopMinWidth}) {\n    grid-template-columns: ${props => !props.isSidebarExpanded ? props.theme.custom.sidebarWidthCollapsed : props.theme.custom.sidebarWidth} 1fr;\n    & ${Sidebar} {\n      grid-area: sidebar;\n      position: static;\n      width: auto;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n    & ${WriteMailActionButtonContainer} {\n      display: block;\n    }\n    & ${SidebarButtonsContainer} {\n      display: grid;\n    }\n    & ${Topbar} {\n      display: grid;\n    }\n    & ${MobileLogoContainer} {\n      display: none;\n    }\n    & ${RefreshIconButtonContainer} {\n      display: block;\n    }\n    & ${BarIconButtonContainer} {\n      display: none;\n    }\n    & ${MobileSearchInputContainer} {\n      display: none;\n    }\n    & ${SearchInputContainer} {\n      max-width: ${props => props.theme.custom.searchInputMaxWidth};\n    }\n    & ${EmailContentViewMessage} {\n      padding-left: 4rem;\n    }\n    & ${EmailContentViewSubject} {\n      padding-left: 4rem;\n    }\n    & ${ModalOverlay} {\n      background: red;\n      display: none;\n    }\n  }\n`;\n_c8 = Container;\nconst Statusbar = styled.div`\n  background: black;\n  align-items: center;\n  color: white;\n  font-size: 15px;\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr auto auto;\n  gap: 10px;\n  width: 100%;\n  flex-grow: 0;\n`;\n_c9 = Statusbar;\nconst ContainerBottomRight = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  z-index: 100;\n  width: 600px;\n  height: 700px;\n  background: white;\n  transition: opacity 500ms;\n  opacity: ${_ref => {\n  let {\n    show\n  } = _ref;\n  return show ? 1 : 0;\n}};\n  pointer-events: ${_ref2 => {\n  let {\n    show\n  } = _ref2;\n  return show ? 'all' : 'none';\n}};\n  & ${Statusbar} {\n    padding: 0 20px;\n  }\n  & form {\n    padding: 10px 20px;\n  }\n`;\n_c10 = ContainerBottomRight;\nconst WriteMailActionButtonMobileContainer = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  z-index: 50;\n`; // todo Store UI states in Redux\n// todo Next, Previous page buttons\n\n_c11 = WriteMailActionButtonMobileContainer;\n\nfunction MailView() {\n  _s();\n\n  var _draft$blocks;\n\n  const isSidebarExpanded = useSelector(state => state.mailView.isSidebarExpanded);\n  const params = useParams();\n  const type = params.type;\n  const showEmailComposer = useSelector(state => state.mailView.showEmailComposer);\n  const activeDraft = useSelector(state => state.mailView.activeDraft);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleClickComposeMail = () => dispatch(toggleEmailComposer());\n\n  const handleMobileClickComposeMail = () => navigate('writer');\n\n  const handleClickToggleCollapseSidebar = () => dispatch(toggleSidebar());\n\n  const handleClickRefreshButton = () => {\n    getAllEmailThreadsByUser(dispatch);\n  };\n\n  const handleClickBackButton = () => navigate('/mail');\n\n  const handleClickCloseWindow = () => dispatch(toggleEmailComposer());\n\n  const atWriterPath = useMatch('/mail/writer');\n  const themeContext = useContext(ThemeContext);\n  const isDesktopOrLaptop = useMediaQuery({\n    query: `(min-width: ${themeContext.custom.laptopMinWidth})`\n  });\n  const sidebarButtons = [{\n    icon: /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-inbox\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this),\n    label: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Inbox\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 14\n    }, this),\n    path: ''\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-file\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 13\n    }, this),\n    label: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Drafts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 14\n    }, this),\n    path: 'drafts'\n  }, {\n    icon: /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this),\n    label: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 14\n    }, this),\n    path: '/'\n  }];\n  const showMobileWriteMailActionButton = !atWriterPath;\n\n  const handleSendNewEmailSuccess = () => {\n    handleClickComposeMail();\n  };\n\n  const gotoDashboard = () => navigate('/');\n\n  const location = useLocation();\n  const {\n    draft\n  } = location.state || {};\n  useEffect(() => {\n    if (draft) {\n      dispatch(setActiveDraft(draft));\n      dispatch(toggleEmailComposer(true));\n      if (!isDesktopOrLaptop) navigate('/mail/writer');\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [draft === null || draft === void 0 ? void 0 : (_draft$blocks = draft.blocks) === null || _draft$blocks === void 0 ? void 0 : _draft$blocks.length]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    isSidebarExpanded: isSidebarExpanded,\n    children: [!isDesktopOrLaptop && /*#__PURE__*/_jsxDEV(ModalOverlay, {\n      show: isSidebarExpanded,\n      onClick: handleClickToggleCollapseSidebar\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 9\n    }, this), isDesktopOrLaptop && /*#__PURE__*/_jsxDEV(ContainerBottomRight, {\n      className: \"shadow-lg\",\n      show: showEmailComposer,\n      children: [/*#__PURE__*/_jsxDEV(Statusbar, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"New Message\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          fa: \"fas fa-times\",\n          background: \"transparent\",\n          color: \"white\",\n          onClick: handleClickCloseWindow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flexGrow: 1\n        },\n        children: /*#__PURE__*/_jsxDEV(EmailComposer, {\n          show: showEmailComposer,\n          initialValues: activeDraft ? activeDraft : {\n            [fields.mailSubject.name]: '',\n            [fields.mailReceiver.name]: [],\n            [fields.carbonCopy.name]: [],\n            [fields.blindCarbonCopy.name]: [],\n            [fields.mailAttachments.name]: []\n          },\n          handleSuccess: handleSendNewEmailSuccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this) || showMobileWriteMailActionButton && /*#__PURE__*/_jsxDEV(WriteMailActionButtonMobileContainer, {\n      children: /*#__PURE__*/_jsxDEV(WriteMailActionButton, {\n        onClick: handleMobileClickComposeMail,\n        isMobile: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Topbar, {\n      children: [/*#__PURE__*/_jsxDEV(TopbarLeft, {\n        children: [/*#__PURE__*/_jsxDEV(SidebarExpandButton, {\n          className: \"btn waves-effect waves-circle form-material\",\n          onClick: handleClickToggleCollapseSidebar,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-bars\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Logo, {\n          onClick: gotoDashboard\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchInputContainer, {\n        children: /*#__PURE__*/_jsxDEV(SearchInput, {\n          left: !isDesktopOrLaptop && /*#__PURE__*/_jsxDEV(IconButton, {\n            fa: \"fas fa-bars\",\n            background: \"transparent\",\n            color: \"black\",\n            onClick: handleClickToggleCollapseSidebar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      expanded: isSidebarExpanded,\n      children: [/*#__PURE__*/_jsxDEV(MobileLogoContainer, {\n        children: /*#__PURE__*/_jsxDEV(Logo, {\n          onClick: gotoDashboard,\n          style: {\n            backgroundPosition: 'left'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(WriteMailActionButtonContainer, {\n        children: /*#__PURE__*/_jsxDEV(WriteMailActionButton, {\n          onClick: handleClickComposeMail,\n          isMobile: !isSidebarExpanded\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SidebarButtonsContainer, {\n        children: sidebarButtons.map(_ref3 => {\n          let {\n            path,\n            label,\n            icon\n          } = _ref3;\n          return /*#__PURE__*/_jsxDEV(SidebarButton, {\n            isSidebarExpanded: isSidebarExpanded,\n            to: path,\n            children: [icon, label]\n          }, path, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Content, {\n      children: [/*#__PURE__*/_jsxDEV(ContentHeader, {\n        children: [type ? /*#__PURE__*/_jsxDEV(IconButton, {\n          fa: \"fas fa-arrow-left\",\n          background: \"transparent\",\n          color: \"black\",\n          onClick: handleClickBackButton\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(RefreshIconButtonContainer, {\n            children: /*#__PURE__*/_jsxDEV(IconButton, {\n              fa: \"fas fa-redo-alt\",\n              background: \"transparent\",\n              color: \"black\",\n              onClick: handleClickRefreshButton\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(MobileSearchInputContainer, {\n          children: /*#__PURE__*/_jsxDEV(SearchInput, {\n            left: /*#__PURE__*/_jsxDEV(IconButton, {\n              fa: \"fas fa-bars\",\n              background: \"transparent\",\n              color: \"black\",\n              onClick: handleClickToggleCollapseSidebar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MainContent, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            overflow: 'auto',\n            paddingTop: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MailView, \"Wi02oQZOj7olOgKmdNTZdmRrASk=\", false, function () {\n  return [useSelector, useParams, useSelector, useSelector, useDispatch, useNavigate, useMatch, useMediaQuery, useLocation];\n});\n\n_c12 = MailView;\nMailView.propTypes = {\n  handleSearchInputChange: PropTypes.func.isRequired\n};\nexport default MailView;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n\n$RefreshReg$(_c, \"SearchInputContainer\");\n$RefreshReg$(_c2, \"MobileSearchInputContainer\");\n$RefreshReg$(_c3, \"RefreshIconButtonContainer\");\n$RefreshReg$(_c4, \"MobileLogoContainer\");\n$RefreshReg$(_c5, \"WriteMailActionButtonContainer\");\n$RefreshReg$(_c6, \"SidebarButtonsContainer\");\n$RefreshReg$(_c7, \"Logo\");\n$RefreshReg$(_c8, \"Container\");\n$RefreshReg$(_c9, \"Statusbar\");\n$RefreshReg$(_c10, \"ContainerBottomRight\");\n$RefreshReg$(_c11, \"WriteMailActionButtonMobileContainer\");\n$RefreshReg$(_c12, \"MailView\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/MailView/index.jsx"],"names":["getAllEmailThreadsByUser","PropTypes","React","useContext","useEffect","useDispatch","useSelector","useMediaQuery","Outlet","useMatch","useNavigate","useParams","useLocation","setActiveDraft","toggleEmailComposer","toggleSidebar","styled","ThemeContext","Content","ContentHeader","MainContent","EmailComposer","fields","Message","EmailContentViewMessage","Subject","EmailContentViewSubject","IconButton","ModalOverlay","Sidebar","SidebarButton","SidebarExpandButton","WriteMailActionButton","Topbar","SearchInput","TopbarLeft","SearchInputContainer","div","MobileSearchInputContainer","RefreshIconButtonContainer","BarIconButtonContainer","MobileLogoContainer","WriteMailActionButtonContainer","SidebarButtonsContainer","Logo","props","theme","custom","logoSrc","Container","mainGap","isSidebarExpanded","laptopMinWidth","sidebarWidthCollapsed","sidebarWidth","searchInputMaxWidth","Statusbar","ContainerBottomRight","show","WriteMailActionButtonMobileContainer","MailView","state","mailView","params","type","showEmailComposer","activeDraft","dispatch","navigate","handleClickComposeMail","handleMobileClickComposeMail","handleClickToggleCollapseSidebar","handleClickRefreshButton","handleClickBackButton","handleClickCloseWindow","atWriterPath","themeContext","isDesktopOrLaptop","query","sidebarButtons","icon","label","path","showMobileWriteMailActionButton","handleSendNewEmailSuccess","gotoDashboard","location","draft","blocks","length","flexGrow","mailSubject","name","mailReceiver","carbonCopy","blindCarbonCopy","mailAttachments","backgroundPosition","map","position","top","left","right","bottom","overflow","paddingTop","propTypes","handleSearchInputChange","func","isRequired"],"mappings":"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","sourcesContent":["import { getAllEmailThreadsByUser } from 'api/emailMessaging';\nimport PropTypes from 'prop-types';\nimport React, { useContext, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useMediaQuery } from 'react-responsive';\nimport { Outlet, useMatch, useNavigate, useParams, useLocation } from 'react-router';\nimport {\n  setActiveDraft,\n  toggleEmailComposer,\n  toggleSidebar\n} from 'redux/actions/mailView';\nimport styled, { ThemeContext } from 'styled-components';\n\nimport Content from './Content';\nimport ContentHeader from './Content/ContentHeader';\nimport MainContent from './Content/ContentHeader/MainContent';\nimport EmailComposer from './EmailComposer';\nimport { fields } from './EmailComposer/fields';\nimport {\n  Message as EmailContentViewMessage,\n  Subject as EmailContentViewSubject\n} from './EmailContentView';\nimport IconButton from './IconButton';\nimport ModalOverlay from './ModalOverlay';\nimport Sidebar from './Sidebar';\nimport SidebarButton from './Sidebar/SidebarButton';\nimport SidebarExpandButton from './Sidebar/SidebarExpandButton';\nimport WriteMailActionButton from './Sidebar/WriteMailActionButton';\nimport Topbar from './Topbar';\nimport SearchInput from './Topbar/SearchInput';\nimport TopbarLeft from './Topbar/TopbarLeft';\n\nconst SearchInputContainer = styled.div``;\nconst MobileSearchInputContainer = styled.div``;\nconst RefreshIconButtonContainer = styled.div``;\nconst BarIconButtonContainer = styled.div``;\nconst MobileLogoContainer = styled.div`\n  height: 2rem;\n  margin: 1rem;\n`;\nconst WriteMailActionButtonContainer = styled.div``;\nconst SidebarButtonsContainer = styled.div`\n  display: flex;\n  gap: 0.5rem;\n`;\nconst Logo = styled.div`\n  background-image: url(${props => props.theme.custom.logoSrc});\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: contain;\n  height: 100%;\n  width: 100%;\n  cursor: pointer;\n`;\n\nconst Container = styled.div`\n  .btn:focus,\n  .btn:active {\n    outline: none !important;\n  }\n\n  transition-timing-function: ease-in-out;\n  transition-property: grid-template-columns;\n  transition-duration: 100ms;\n  -webkit-transition-duration: 100ms;\n  display: grid;\n\n  grid-template-columns: 0 1fr;\n\n  grid-template-rows: auto 1fr;\n  grid-template-areas:\n    'topbar topbar'\n    'sidebar content';\n  gap: ${props => props.theme.custom.mainGap};\n  color: black;\n  align-items: flex-start;\n  height: 100vh;\n  position: relative;\n\n  & ${RefreshIconButtonContainer} {\n    display: none;\n  }\n  & ${WriteMailActionButtonContainer} {\n    display: none;\n  }\n  & ${Topbar} {\n    display: none;\n  }\n  & ${SidebarButtonsContainer} {\n    display: ${props => (props.isSidebarExpanded ? 'grid' : 'none')};\n  }\n\n  @media (min-width: ${props => props.theme.custom.laptopMinWidth}) {\n    grid-template-columns: ${props =>\n        !props.isSidebarExpanded\n          ? props.theme.custom.sidebarWidthCollapsed\n          : props.theme.custom.sidebarWidth} 1fr;\n    & ${Sidebar} {\n      grid-area: sidebar;\n      position: static;\n      width: auto;\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n    & ${WriteMailActionButtonContainer} {\n      display: block;\n    }\n    & ${SidebarButtonsContainer} {\n      display: grid;\n    }\n    & ${Topbar} {\n      display: grid;\n    }\n    & ${MobileLogoContainer} {\n      display: none;\n    }\n    & ${RefreshIconButtonContainer} {\n      display: block;\n    }\n    & ${BarIconButtonContainer} {\n      display: none;\n    }\n    & ${MobileSearchInputContainer} {\n      display: none;\n    }\n    & ${SearchInputContainer} {\n      max-width: ${props => props.theme.custom.searchInputMaxWidth};\n    }\n    & ${EmailContentViewMessage} {\n      padding-left: 4rem;\n    }\n    & ${EmailContentViewSubject} {\n      padding-left: 4rem;\n    }\n    & ${ModalOverlay} {\n      background: red;\n      display: none;\n    }\n  }\n`;\n\nconst Statusbar = styled.div`\n  background: black;\n  align-items: center;\n  color: white;\n  font-size: 15px;\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: 1fr auto auto;\n  gap: 10px;\n  width: 100%;\n  flex-grow: 0;\n`;\n\nconst ContainerBottomRight = styled.div`\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  z-index: 100;\n  width: 600px;\n  height: 700px;\n  background: white;\n  transition: opacity 500ms;\n  opacity: ${({ show }) => (show ? 1 : 0)};\n  pointer-events: ${({ show }) => (show ? 'all' : 'none')};\n  & ${Statusbar} {\n    padding: 0 20px;\n  }\n  & form {\n    padding: 10px 20px;\n  }\n`;\n\nconst WriteMailActionButtonMobileContainer = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  z-index: 50;\n`;\n// todo Store UI states in Redux\n// todo Next, Previous page buttons\nfunction MailView() {\n  const isSidebarExpanded = useSelector(state => state.mailView.isSidebarExpanded);\n  const params = useParams();\n  const type = params.type;\n\n  const showEmailComposer = useSelector(state => state.mailView.showEmailComposer);\n  const activeDraft = useSelector(state => state.mailView.activeDraft);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const handleClickComposeMail = () => dispatch(toggleEmailComposer());\n  const handleMobileClickComposeMail = () => navigate('writer');\n  const handleClickToggleCollapseSidebar = () => dispatch(toggleSidebar());\n  const handleClickRefreshButton = () => {\n    getAllEmailThreadsByUser(dispatch);\n  };\n  const handleClickBackButton = () => navigate('/mail');\n  const handleClickCloseWindow = () => dispatch(toggleEmailComposer());\n  const atWriterPath = useMatch('/mail/writer');\n\n  const themeContext = useContext(ThemeContext);\n  const isDesktopOrLaptop = useMediaQuery({\n    query: `(min-width: ${themeContext.custom.laptopMinWidth})`\n  });\n  const sidebarButtons = [\n    {\n      icon: <i className='fas fa-inbox' />,\n      label: <div>Inbox</div>,\n      path: ''\n    },\n    {\n      icon: <i className='fas fa-file' />,\n      label: <div>Drafts</div>,\n      path: 'drafts'\n    },\n    {\n      icon: <i className='fas fa-home' />,\n      label: <div>Home</div>,\n      path: '/'\n    }\n  ];\n  const showMobileWriteMailActionButton = !atWriterPath;\n\n  const handleSendNewEmailSuccess = () => {\n    handleClickComposeMail();\n  };\n\n  const gotoDashboard = () => navigate('/');\n  const location = useLocation();\n  const { draft } = location.state || {};\n\n  useEffect(() => {\n    if (draft) {\n      dispatch(setActiveDraft(draft));\n      dispatch(toggleEmailComposer(true));\n      if (!isDesktopOrLaptop) navigate('/mail/writer');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [draft?.blocks?.length]);\n\n  return (\n    <Container isSidebarExpanded={isSidebarExpanded}>\n      {!isDesktopOrLaptop && (\n        <ModalOverlay\n          show={isSidebarExpanded}\n          onClick={handleClickToggleCollapseSidebar}\n        />\n      )}\n      {(isDesktopOrLaptop && (\n        <ContainerBottomRight className='shadow-lg' show={showEmailComposer}>\n          <Statusbar>\n            <div>New Message</div>\n            <IconButton\n              fa='fas fa-times'\n              background='transparent'\n              color='white'\n              onClick={handleClickCloseWindow}\n            />\n          </Statusbar>\n          <div style={{ flexGrow: 1 }}>\n            <EmailComposer\n              show={showEmailComposer}\n              initialValues={\n                activeDraft\n                  ? activeDraft\n                  : {\n                      [fields.mailSubject.name]: '',\n                      [fields.mailReceiver.name]: [],\n                      [fields.carbonCopy.name]: [],\n                      [fields.blindCarbonCopy.name]: [],\n                      [fields.mailAttachments.name]: []\n                    }\n              }\n              handleSuccess={handleSendNewEmailSuccess}\n            />\n          </div>\n        </ContainerBottomRight>\n      )) ||\n        (showMobileWriteMailActionButton && (\n          <WriteMailActionButtonMobileContainer>\n            <WriteMailActionButton\n              onClick={handleMobileClickComposeMail}\n              isMobile={false}\n            />\n          </WriteMailActionButtonMobileContainer>\n        ))}\n\n      <Topbar>\n        <TopbarLeft>\n          <SidebarExpandButton\n            className='btn waves-effect waves-circle form-material'\n            onClick={handleClickToggleCollapseSidebar}\n          >\n            <i className='fas fa-bars' />\n          </SidebarExpandButton>\n          <Logo onClick={gotoDashboard} />\n        </TopbarLeft>\n        <SearchInputContainer>\n          <SearchInput\n            left={ !isDesktopOrLaptop &&\n              <IconButton\n                fa='fas fa-bars'\n                background='transparent'\n                color='black'\n                onClick={handleClickToggleCollapseSidebar}\n              />\n            }\n          />\n        </SearchInputContainer>\n      </Topbar>\n      <Sidebar expanded={isSidebarExpanded}>\n        <MobileLogoContainer>\n          <Logo onClick={gotoDashboard} style={{ backgroundPosition: 'left' }} />\n        </MobileLogoContainer>\n        <WriteMailActionButtonContainer>\n          <WriteMailActionButton\n            onClick={handleClickComposeMail}\n            isMobile={!isSidebarExpanded}\n          />\n        </WriteMailActionButtonContainer>\n        <SidebarButtonsContainer>\n          {sidebarButtons.map(({ path, label, icon }) => (\n            <SidebarButton key={path} isSidebarExpanded={isSidebarExpanded} to={path}>\n              {icon}\n              {label}\n            </SidebarButton>\n          ))}\n        </SidebarButtonsContainer>\n      </Sidebar>\n      <Content>\n        <ContentHeader>\n          {type ? (\n            <IconButton\n              fa='fas fa-arrow-left'\n              background='transparent'\n              color='black'\n              onClick={handleClickBackButton}\n            />\n          ) : (\n            <div>\n              <RefreshIconButtonContainer>\n                <IconButton\n                  fa='fas fa-redo-alt'\n                  background='transparent'\n                  color='black'\n                  onClick={handleClickRefreshButton}\n                />\n              </RefreshIconButtonContainer>\n            </div>\n          )}\n\n          <MobileSearchInputContainer>\n            <SearchInput\n              left={\n                <IconButton\n                  fa='fas fa-bars'\n                  background='transparent'\n                  color='black'\n                  onClick={handleClickToggleCollapseSidebar}\n                />\n              }\n            />\n          </MobileSearchInputContainer>\n        </ContentHeader>\n        <MainContent>\n          <div\n            style={{\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              overflow: 'auto',\n              paddingTop: 20\n            }}\n          >\n            <Outlet />\n          </div>\n        </MainContent>\n      </Content>\n    </Container>\n  );\n}\nMailView.propTypes = {\n  handleSearchInputChange: PropTypes.func.isRequired\n};\nexport default MailView;"]},"metadata":{},"sourceType":"module"}