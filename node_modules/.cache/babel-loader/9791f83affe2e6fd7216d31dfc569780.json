{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Profile/MyDocuments/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FilePicker } from \"react-file-picker\";\nimport { s3Config } from \"../../../config\";\nimport S3 from \"aws-s3-pro\";\nimport { api } from '../../../api';\nimport { useState } from \"react\";\nimport { toast } from 'react-toastify';\nimport dayjs from \"dayjs\";\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport utc from 'dayjs/plugin/utc';\nimport timezone from 'dayjs/plugin/timezone';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst s3Client = new S3(s3Config);\nexport default function MyDocuments() {\n  _s();\n\n  dayjs.extend(utc);\n  dayjs.extend(timezone);\n  dayjs.extend(LocalizedFormat);\n  const {\n    cvResume,\n    govtId,\n    professionalLicense,\n    refRecommendation,\n    updatedDocumentDates,\n    updatedDatetime\n  } = useSelector(state => state.teacherApp.data);\n  const {\n    accountId\n  } = useSelector(state => state.auth.user);\n  const DOCUMENT_EXTENSIONS = ['pdf', 'doc', 'docx'];\n  const IMAGE_EXTENSIONS = ['png', 'jpeg', 'jpg'];\n  const [edit, setEdit] = useState(false);\n  const [edited, setEdited] = useState(false);\n  const [files, setFiles] = useState({\n    accountId: accountId,\n    cvResume: null,\n    professionalLicense: null,\n    govtId: null,\n    refRecommendation: null\n  });\n  const [fields] = useState([{\n    name: 'cvResume',\n    file: cvResume,\n    date: updatedDocumentDates === null || updatedDocumentDates === void 0 ? void 0 : updatedDocumentDates.cvResume,\n    type: 'file',\n    maxSize: 5,\n    label: 'Curriculum Vitae/Resume',\n    helperText: \"Recommended File Size of up to 5MB\",\n    extensions: DOCUMENT_EXTENSIONS.concat(IMAGE_EXTENSIONS)\n  }, {\n    name: 'professionalLicense',\n    file: professionalLicense,\n    date: updatedDocumentDates === null || updatedDocumentDates === void 0 ? void 0 : updatedDocumentDates.professionalLicense,\n    type: 'file',\n    maxSize: 5,\n    label: 'Valid Professional License/Work Portfolio',\n    helperText: \"Recommended File Size of up to 5MB\",\n    extensions: DOCUMENT_EXTENSIONS.concat(IMAGE_EXTENSIONS)\n  }, {\n    name: 'govtId',\n    file: govtId,\n    date: updatedDocumentDates === null || updatedDocumentDates === void 0 ? void 0 : updatedDocumentDates.govtId,\n    type: 'file',\n    maxSize: 5,\n    label: 'Valid Government Identification',\n    helperText: `Driver License, PRC Card, Voter's ID, Passport, SSS, TIN ID, and any City-Government IDs`,\n    extensions: DOCUMENT_EXTENSIONS.concat(IMAGE_EXTENSIONS)\n  }, {\n    name: 'refRecommendation',\n    file: refRecommendation,\n    date: updatedDocumentDates === null || updatedDocumentDates === void 0 ? void 0 : updatedDocumentDates.refRecommendation,\n    type: 'file',\n    maxSize: 5,\n    label: 'References/Recommendation Letter',\n    helperText: \"Recommended File Size of up to 5MB\",\n    extensions: DOCUMENT_EXTENSIONS.concat(IMAGE_EXTENSIONS)\n  }]);\n\n  const downloadFile = async file => {\n    console.log(file);\n    const url = `https://tagprosbucket.s3-ap-southeast-1.amazonaws.com/${file}`;\n    const data = await fetch(url);\n    const blob = await data.blob();\n    const reader = new FileReader();\n    reader.readAsDataURL(blob);\n\n    reader.onload = e => {\n      const tempLink = document.createElement('a');\n      tempLink.style.display = 'none';\n      tempLink.href = e.target.result;\n      tempLink.download = file;\n      tempLink.click();\n    };\n  }; // let files = \n\n\n  const InputHelperText = _ref => {\n    let {\n      helperText\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"m-b-10 font-14 text-dark\",\n        style: {\n          whiteSpace: 'pre-wrap'\n        },\n        children: helperText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }, this);\n  };\n\n  const InputLabel = _ref2 => {\n    let {\n      label,\n      noMargin\n    } = _ref2;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: !noMargin ? \"m-b-10 card-title input-label\" : \"input-label\",\n      children: [label, \" \", /*#__PURE__*/_jsxDEV(RequiredMarker, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this);\n  };\n\n  const RequiredMarker = () => {\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: 'red'\n      },\n      children: \"*\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 12\n    }, this);\n  }; //   const { change } = useForm();\n\n\n  const handleFileChange = async (newFile, item) => {\n    files[item] = newFile;\n    setEdited(true);\n  };\n\n  const submit = async () => {\n    if (edited) {\n      const keys = Object.keys(files);\n      let fileNames = [];\n      console.log('files', files);\n      keys.forEach(item => {\n        if (files[item] !== \"\") {\n          fileNames.push(s3Client.uploadFile(files[item], `${accountId}-${item}`).then(result => ({\n            [item]: result.key\n          })).catch(err => err));\n        }\n      });\n\n      if (fileNames.length) {\n        fileNames = await Promise.all(fileNames);\n        fileNames = fileNames.reduce((acc, curr) => ({ ...acc,\n          [Object.keys(curr)[0]]: curr[Object.keys(curr)[0]]\n        }), {});\n      }\n\n      let dateTime = new Date();\n      fileNames.accountId = accountId;\n      console.log(files);\n      fileNames.updatedDateTime = {\n        \"cvResume\": files.cvResume !== null ? dateTime : updatedDocumentDates['cvResume'],\n        \"professionalLicense\": files.professionalLicense !== null ? dateTime : updatedDocumentDates['professionalLicense'],\n        \"govtId\": files.govtId !== null ? dateTime : updatedDocumentDates['govtId'],\n        \"refRecommendation\": files.refRecommendation !== null ? dateTime : updatedDocumentDates['refRecommendation']\n      };\n      console.log('files', fileNames);\n      await api.patch(\"/teacher/updateDocuments\", fileNames).then(response => {\n        console.log(response.data);\n        setFiles({\n          accountId: accountId,\n          cvResume: null,\n          professionalLicense: null,\n          govtId: null,\n          refRecommendation: null\n        });\n        fields[0].file = response.data.CV_RESUME;\n        fields[1].file = response.data.PROFESSIONAL_LICENSE;\n        fields[2].file = response.data.GOVT_ID;\n        fields[3].file = response.data.REF_RECOMMENDATION;\n        fields[0].date = response.data.DOCUMENT_UPDATE.cvResume;\n        fields[1].date = response.data.DOCUMENT_UPDATE.professionalLicense;\n        fields[2].date = response.data.DOCUMENT_UPDATE.govtId;\n        fields[3].date = response.data.DOCUMENT_UPDATE.refRecommendation; // setFields({...fields})\n\n        console.log(fields);\n        setEdit(false);\n        setEdited(false);\n        toast.success(\"Documents Successfully updated\");\n      }).catch(error => {\n        console.log(error);\n        toast.error(\"Documents failed to be updated\");\n      });\n    } else {\n      toast.error(\"No changes Made\");\n    }\n  };\n\n  React.useEffect(() => {// eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card-body\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '10px 20px'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderBottom: '3px #8080805c solid'\n        },\n        className: \"row justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          style: {\n            paddingTop: '10px'\n          },\n          children: \"Application Documents\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-link\",\n          style: {\n            display: 'block'\n          },\n          onClick: () => {\n            setEdit(true);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"u\", {\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }, this), fields.map(item => /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center \",\n        children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n          label: item.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex m-b-10 m-l-10\",\n          style: {\n            cursor: 'pointer'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: \"9px\",\n              marginTop: '6px'\n            },\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-history\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 68\n            }, this), \" Last update at  \", dayjs((item === null || item === void 0 ? void 0 : item.date) !== undefined ? item === null || item === void 0 ? void 0 : item.date : updatedDatetime, \"YYYY/MM/DD - HH:mm A\").format(\"h:mm A, MMMM D, YYYY\"), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(InputHelperText, {\n        helperText: item.helperText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"btn btn-link p-0\",\n          href: `https://tagprosbucket.s3-ap-southeast-1.amazonaws.com/${item.file}`,\n          target: \"_blank\",\n          rel: \"noreferrer\",\n          disabled: edit,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: `btn waves-effect waves-light btn-outline-info mb-4 mr-2`,\n            type: \"button\",\n            style: {\n              width: 150\n            },\n            disabled: edit,\n            children: \"View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: `btn waves-effect waves-light btn-outline-info mb-4 mr-2`,\n          type: \"button\",\n          style: {\n            width: 150\n          },\n          disabled: edit,\n          onClick: () => {\n            downloadFile(item.file);\n          },\n          children: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 17\n        }, this), edit && /*#__PURE__*/_jsxDEV(FilePicker, {\n          onChange: event => handleFileChange(event, item.name),\n          maxSize: item.maxSize,\n          extensions: item.extensions,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: `btn waves-effect waves-light btn-outline-info mb-4`,\n            type: \"button\",\n            style: {\n              width: 150,\n              padding: '5%'\n            },\n            children: \"Update File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 27\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true)), edit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        class: `btn waves-effect waves-light btn-danger mb-4 mr-2`,\n        type: \"button\",\n        style: {\n          width: 150\n        },\n        onClick: () => {\n          setEdit(false);\n        },\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        class: `btn waves-effect waves-light btn-info mb-4 mr-2`,\n        type: \"button\",\n        style: {\n          width: 150\n        },\n        onClick: () => {\n          submit();\n        },\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 23\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 5\n  }, this);\n}\n\n_s(MyDocuments, \"lok/ES/87onyDHaW1bAlIEnf7Xc=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = MyDocuments;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyDocuments\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Profile/MyDocuments/index.jsx"],"names":["React","useSelector","FilePicker","s3Config","S3","api","useState","toast","dayjs","LocalizedFormat","utc","timezone","s3Client","MyDocuments","extend","cvResume","govtId","professionalLicense","refRecommendation","updatedDocumentDates","updatedDatetime","state","teacherApp","data","accountId","auth","user","DOCUMENT_EXTENSIONS","IMAGE_EXTENSIONS","edit","setEdit","edited","setEdited","files","setFiles","fields","name","file","date","type","maxSize","label","helperText","extensions","concat","downloadFile","console","log","url","fetch","blob","reader","FileReader","readAsDataURL","onload","e","tempLink","document","createElement","style","display","href","target","result","download","click","InputHelperText","whiteSpace","InputLabel","noMargin","RequiredMarker","color","handleFileChange","newFile","item","submit","keys","Object","fileNames","forEach","push","uploadFile","then","key","catch","err","length","Promise","all","reduce","acc","curr","dateTime","Date","updatedDateTime","patch","response","CV_RESUME","PROFESSIONAL_LICENSE","GOVT_ID","REF_RECOMMENDATION","DOCUMENT_UPDATE","success","error","useEffect","padding","borderBottom","paddingTop","map","cursor","fontSize","marginTop","undefined","format","width","event"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { FilePicker } from \"react-file-picker\";\nimport { s3Config } from \"../../../config\";\nimport S3 from \"aws-s3-pro\";\nimport { api } from '../../../api';\nimport { useState } from \"react\";\nimport { toast } from 'react-toastify';\nimport dayjs from \"dayjs\";\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport utc from 'dayjs/plugin/utc';\nimport timezone from 'dayjs/plugin/timezone';\nconst s3Client = new S3(s3Config);\n\nexport default function MyDocuments() {\n  dayjs.extend(utc);\n  dayjs.extend(timezone);\n  dayjs.extend(LocalizedFormat);\n  const {cvResume, govtId, professionalLicense, refRecommendation, updatedDocumentDates, updatedDatetime} = useSelector((state) => state.teacherApp.data);\n  const { accountId} = useSelector((state) => state.auth.user);\n  const DOCUMENT_EXTENSIONS = ['pdf', 'doc', 'docx'];\n  const IMAGE_EXTENSIONS = ['png', 'jpeg', 'jpg'];\n  const [edit, setEdit] = useState(false);\n  const [edited, setEdited] = useState(false);\n  const [files, setFiles] = useState({\n    accountId: accountId,\n    cvResume: null,\n    professionalLicense: null,\n    govtId: null,\n    refRecommendation: null\n  })\n  const [fields] = useState([\n    {\n      name: 'cvResume',\n      file: cvResume,\n      date: updatedDocumentDates?.cvResume,\n      type: 'file',\n      maxSize: 5,\n      label: 'Curriculum Vitae/Resume',\n      helperText: \"Recommended File Size of up to 5MB\",\n      extensions: DOCUMENT_EXTENSIONS.concat(IMAGE_EXTENSIONS)\n    },\n    {\n      name: 'professionalLicense',\n      file: professionalLicense,\n      date: updatedDocumentDates?.professionalLicense,\n      type: 'file',\n      maxSize: 5,\n      label: 'Valid Professional License/Work Portfolio',\n      helperText: \"Recommended File Size of up to 5MB\",\n      extensions: DOCUMENT_EXTENSIONS.concat(IMAGE_EXTENSIONS)\n    },\n    {\n      name: 'govtId',\n      file: govtId,\n      date: updatedDocumentDates?.govtId,\n      type: 'file',\n      maxSize: 5,\n      label: 'Valid Government Identification',\n      helperText: `Driver License, PRC Card, Voter's ID, Passport, SSS, TIN ID, and any City-Government IDs`,\n      extensions: DOCUMENT_EXTENSIONS.concat(IMAGE_EXTENSIONS)\n    },\n    {\n      name: 'refRecommendation',\n      file: refRecommendation,\n      date: updatedDocumentDates?.refRecommendation,\n      type: 'file',\n      maxSize: 5,\n      label: 'References/Recommendation Letter',\n      helperText: \"Recommended File Size of up to 5MB\",\n      extensions: DOCUMENT_EXTENSIONS.concat(IMAGE_EXTENSIONS)\n    }\n  ])\n  \n  const downloadFile = async (file) => {\n    console.log(file);\n    const url = `https://tagprosbucket.s3-ap-southeast-1.amazonaws.com/${file}`;\n    const data = await fetch(url);\n    const blob = await data.blob();\n\n    const reader = new FileReader();\n    reader.readAsDataURL(blob); \n    reader.onload = e => {\n      const tempLink = document.createElement('a');\n      tempLink.style.display = 'none';\n      tempLink.href = e.target.result;\n      tempLink.download = file;\n      tempLink.click();\n    }\n  }\n\n  // let files = \n\n  const InputHelperText = ({ helperText}) => (\n    <div style={{ display: 'flex' }}>\n      <div className='m-b-10 font-14 text-dark' style={{ whiteSpace: 'pre-wrap' }}>\n        {helperText}\n      </div>\n    </div>\n  );\n\n  const InputLabel = ({ label, noMargin }) => (\n    <div\n      className={!noMargin ? \"m-b-10 card-title input-label\" : \"input-label\"}\n    >\n      {label} <RequiredMarker />\n    </div>\n  );\n\n  const RequiredMarker = () => {\n    return <span style={{ color: 'red' }}>*</span>;\n  };\n\n//   const { change } = useForm();\n\n  const handleFileChange = async (newFile, item) => {\n    files[item] = newFile;\n    setEdited(true);\n  };\n\n  const submit = async () =>{\n    if (edited){\n      const keys = Object.keys(files);\n      let fileNames = [];\n      console.log('files', files);\n\n      keys.forEach(item=> {\n          if(files[item] !== \"\"){\n              fileNames.push(\n                s3Client\n                .uploadFile(files[item], `${accountId}-${item}`)\n                .then((result) => ({ [item]: result.key }))\n                .catch((err) => err)\n              );\n          }\n      });\n\n      if (fileNames.length) {\n        fileNames = await Promise.all(fileNames);\n        fileNames = fileNames.reduce(\n          (acc, curr) => ({ ...acc, [Object.keys(curr)[0]]: curr[Object.keys(curr)[0]] }),\n          {}\n        );\n      }\n      let dateTime = new Date();\n      fileNames.accountId = accountId;\n      console.log(files);\n      fileNames.updatedDateTime = {\n        \"cvResume\": files.cvResume !== null ? dateTime : updatedDocumentDates['cvResume'],\n        \"professionalLicense\": files.professionalLicense !== null ? dateTime : updatedDocumentDates['professionalLicense'] ,\n        \"govtId\": files.govtId !== null ? dateTime : updatedDocumentDates['govtId'],\n        \"refRecommendation\": files.refRecommendation !== null ? dateTime : updatedDocumentDates['refRecommendation']\n      }\n        \n      console.log('files', fileNames);\n      await api.patch(\"/teacher/updateDocuments\", fileNames).then((response)=>{\n          console.log(response.data);\n          setFiles({\n            accountId: accountId,\n            cvResume: null,\n            professionalLicense: null,\n            govtId: null,\n            refRecommendation: null\n          }) \n\n          fields[0].file =response.data.CV_RESUME\n          fields[1].file =response.data.PROFESSIONAL_LICENSE\n          fields[2].file =response.data.GOVT_ID\n          fields[3].file =response.data.REF_RECOMMENDATION\n\n          fields[0].date =response.data.DOCUMENT_UPDATE.cvResume\n          fields[1].date =response.data.DOCUMENT_UPDATE.professionalLicense\n          fields[2].date =response.data.DOCUMENT_UPDATE.govtId\n          fields[3].date =response.data.DOCUMENT_UPDATE.refRecommendation\n          // setFields({...fields})\n          console.log(fields)\n          setEdit(false);\n          setEdited(false);\n          toast.success(\"Documents Successfully updated\")\n      }).catch((error)=>{\n          console.log(error);\n          toast.error(\"Documents failed to be updated\")\n      });\n    }else{\n      toast.error(\"No changes Made\");\n    }\n  }\n\n  React.useEffect(() => {\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    \n  }, []);\n\n  return (\n    <div className=\"card-body\">\n        <div style={{padding: '10px 20px'}}>\n            <div style={{borderBottom: '3px #8080805c solid'}} className=\"row justify-content-between\">\n                <h5 style={{paddingTop: '10px'}}>Application Documents</h5>\n                <button className=\"btn btn-link\" style={{display: 'block'}} onClick={() => {setEdit(true)}}>\n                <i className=\"fas fa-edit\"></i><u>Edit</u>\n                </button> \n            </div>\n        </div>\n        <br />\n        {/* <Form\n          onSubmit={handleSubmit}\n        > */}\n        \n        {fields.map((item)=>(<>\n            <div className='d-flex align-items-center '>\n              \n            <InputLabel label={item.label}/>\n                <div className='d-flex m-b-10 m-l-10' style={{ cursor: 'pointer' }}>\n                    <p style={{fontSize:\"9px\", marginTop: '6px'}}> <i class=\"fas fa-history\"></i> Last update at  { dayjs((item?.date !== undefined) ? item?.date : updatedDatetime, \"YYYY/MM/DD - HH:mm A\").format(\"h:mm A, MMMM D, YYYY\") } </p>\n                </div>\n            </div>\n            <InputHelperText helperText={item.helperText}/>\n            <div className=\"d-flex\"> \n           \n            <a className=\"btn btn-link p-0\" href={`https://tagprosbucket.s3-ap-southeast-1.amazonaws.com/${item.file}`} target=\"_blank\" rel=\"noreferrer\" disabled={edit}>\n            <button class={`btn waves-effect waves-light btn-outline-info mb-4 mr-2`} type='button' style={{ width: 150 }} disabled={edit}>View</button>\n            </a>\n            \n                <button class={`btn waves-effect waves-light btn-outline-info mb-4 mr-2`} type='button' style={{ width: 150 }} disabled={edit} onClick={()=> {downloadFile(item.file)}}>Download</button>\n                \n                {edit && (<FilePicker \n                  onChange={(event) => handleFileChange(event, item.name)}\n                  maxSize={item.maxSize}\n                  extensions={item.extensions}>\n                      <button class={`btn waves-effect waves-light btn-outline-info mb-4`} type='button' style={{ width: 150, padding: '5%' }}>Update File</button>\n                  </FilePicker>)}\n            </div>\n            </>))}\n            {edit && (<div className=\"d-flex justify-content-end\">\n\n              <button class={`btn waves-effect waves-light btn-danger mb-4 mr-2`} type='button' style={{ width: 150 }} onClick={()=> {setEdit(false)}}>Cancel</button>\n              <button class={`btn waves-effect waves-light btn-info mb-4 mr-2`} type='button' style={{ width: 150 }} onClick={()=> {submit()}}>Save</button>\n            \n              </div>\n            )}\n        {/* </Form> */}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}