{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/common/ClassDetails/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState } from 'react';\nimport { Container, ActionButton, Layout } from './styles';\nimport defaultContainerStyles from \"css/new-age.scoped.css?scopeId=3b49eb07\";\nimport { NavLink } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport utc from 'dayjs/plugin/utc';\nimport timezone from 'dayjs/plugin/timezone';\nimport { isArray, isString } from 'lodash';\nimport { CLASS_STATUS_ALERT } from 'utils/constants';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\nimport he from 'he';\nimport _ from 'lodash';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport Skeleton from 'react-loading-skeleton';\nimport { toMoneyFormat, getDuration } from 'utils/utils';\nimport DefaultPic from '../../../img/default-pic-blue1.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndayjs.extend(utc);\ndayjs.extend(timezone);\ndayjs.extend(LocalizedFormat);\ndayjs.extend(isSameOrAfter);\ndayjs.extend(isSameOrBefore);\nexport const getStatusDisplay = data => {\n  const startDate = data.startDate;\n  const endDate = data.endDate;\n\n  if (data.status === 'CSTAT010') {\n    return \"CLASS_ONGOING\";\n  } else if (data.status === 'CSTAT011') {\n    return \"CLASS_ENDED\";\n  } else {\n    // if(!!enrollmentStart && dayjs().isBefore(dayjs(enrollmentStart), new Date())){\n    //     setStatus(\"NOT_STARTED\")\n    // }else  if(!!enrollmentStart && !!enrollmentEnd && dayjs().isSameOrAfter(dayjs(enrollmentStart), new Date()) && dayjs().isSameOrBefore(dayjs(enrollmentEnd), new Date())){\n    if (!!startDate && dayjs().isSameOrBefore(startDate)) {\n      return \"ONGOING_ENROLLMENT\";\n    } // else if(!!enrollmentEnd && !!startDate && dayjs().isAfter(dayjs(enrollmentEnd), new Date()) && dayjs().isBefore(dayjs(startDate), new Date())){\n    //     setStatus(\"OPENS_SOON\")\n    // }\n    else if (!!startDate && !!endDate && dayjs().isSameOrAfter(dayjs(startDate), new Date()) && dayjs().isSameOrBefore(dayjs(endDate), new Date())) {\n      return \"CLASS_ONGOING\";\n    } else {\n      return \"CLASS_ENDED\";\n    }\n  }\n};\n\nfunction getTime(_ref) {\n  let {\n    startDate,\n    startTime,\n    endTime,\n    timeZone\n  } = _ref;\n  let result = '';\n\n  if (startDate && startTime && timeZone) {\n    result += dayjs(dayjs.tz(`${startDate} ${startTime}`, 'YYYY/MM/DD HH:mm:ss', timeZone).format()).tz(Intl.DateTimeFormat().resolvedOptions().timeZone ? Intl.DateTimeFormat().resolvedOptions().timeZone : timeZone).format('hh:mm A');\n\n    if (endTime) {\n      result += ' - ';\n      result += dayjs(dayjs.tz(`${startDate} ${endTime}`, 'YYYY/MM/DD HH:mm:ss', timeZone).format()).tz(Intl.DateTimeFormat().resolvedOptions().timeZone ? Intl.DateTimeFormat().resolvedOptions().timeZone : timeZone).format('hh:mm A');\n    }\n  }\n\n  return result;\n}\n\nfunction formatDate(date, _ref2) {\n  let {\n    startDate,\n    startTime,\n    timeZone\n  } = _ref2;\n\n  try {\n    return dayjs(dayjs.tz(date ? `${dayjs(date).format('YYYY/MM/DD')} ${startTime}` : `${startDate} ${startTime}`, 'YYYY/MM/DD HH:mm:ss', timeZone).format()).tz(timeZone !== null && timeZone !== void 0 && timeZone.length ? timeZone : Intl.DateTimeFormat().resolvedOptions().timeZone).format('dddd, LL');\n  } catch (error) {}\n}\n\nexport const Item = props => {\n  var _props$classId;\n\n  const {\n    ageCategory,\n    className,\n    thumbnailImage,\n    title,\n    enrollmentDate,\n    startDate,\n    rating,\n    timeZone,\n    startTime,\n    endTime,\n    minLearners,\n    maxLearners,\n    firstName,\n    lastName,\n    nickname,\n    salutation,\n    classIntroduction,\n    enrollment,\n    classId,\n    availableDates,\n    price,\n    currency,\n    photo\n  } = props;\n  const actionBtnProps = {\n    className: 'btn btn-outline-success class-action',\n    as: NavLink,\n    children: 'View Class',\n    to: `/class/enroll/${classId}`,\n    target: '_blank',\n    rel: 'noreferrer',\n    replace: true\n  };\n\n  const Schedule = _ref3 => {\n    let {\n      date\n    } = _ref3;\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      \"data-v-3b49eb07\": \"\",\n      children: date\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 12\n    }, this);\n  };\n\n  const renderSchedule = () => {\n    const data = availableDates !== null && availableDates !== void 0 && availableDates.length ? availableDates === null || availableDates === void 0 ? void 0 : availableDates.map(date => formatDate(date, {\n      timeZone,\n      startTime\n    })) : formatDate(null, {\n      startDate,\n      timeZone,\n      startTime\n    });\n    if (isArray(data)) return /*#__PURE__*/_jsxDEV(Fragment, {\n      \"data-v-3b49eb07\": \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-v-3b49eb07\": \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          \"data-v-3b49eb07\": \"\",\n          children: \"Sessions:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 13\n        }, this), \" \", data.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this), data.map(date => /*#__PURE__*/_jsxDEV(Schedule, {\n        date: date,\n        \"data-v-3b49eb07\": \"\"\n      }, date, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this);else if (isString(data)) return /*#__PURE__*/_jsxDEV(Schedule, {\n      date: data,\n      \"data-v-3b49eb07\": \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 37\n    }, this);\n  };\n\n  const classStatus = getStatusDisplay(props);\n\n  const handleImageError = e => {\n    e.currentTarget.onerror = null; // prevents looping\n\n    e.currentTarget.src = '../assets/images/image-placeholder.jpg';\n  };\n\n  const getLearners = () => `${minLearners} - ${maxLearners} ${maxLearners === 1 ? 'learner' : 'learners'}`;\n\n  const isLoading = !((_props$classId = props.classId) !== null && _props$classId !== void 0 && _props$classId.length);\n\n  const getPrice = () => {\n    const hasPrice = (price === null || price === void 0 ? void 0 : price.length) && parseFloat(price) > 0;\n    let value = hasPrice ? toMoneyFormat(price, currency) : 'Free';\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-bold font-20\",\n      \"data-v-3b49eb07\": \"\",\n      children: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }, this);\n  };\n\n  const getTeacherName = () => {\n    let teacherName = '';\n    teacherName = teacherName.concat(salutation);\n    if (teacherName.length) teacherName = teacherName.concat(' ');\n    teacherName = teacherName.concat(nickname);\n    if (teacherName.length) return teacherName; // if salutation and nickname are empty, use first and last name\n\n    teacherName = teacherName.concat(lastName);\n    if (teacherName.length) teacherName = teacherName.concat(', ');\n    teacherName = teacherName.concat(firstName);\n    return teacherName;\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: className,\n    style: defaultContainerStyles,\n    to: `/class/enroll/${classId}`,\n    target: \"_blank\",\n    rel: \"noreferrer\",\n    replace: true,\n    \"data-v-3b49eb07\": \"\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"teacher-thumbnail\",\n      \"data-v-3b49eb07\": \"\",\n      children: isLoading && /*#__PURE__*/_jsxDEV(Skeleton, {\n        height: '100%',\n        width: '100%',\n        \"data-v-3b49eb07\": \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 24\n      }, this) || /*#__PURE__*/_jsxDEV(\"img\", {\n        src: thumbnailImage,\n        alt: title,\n        onError: handleImageError,\n        \"data-v-3b49eb07\": \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"stars\",\n      \"data-v-fb364d95\": \"\",\n      \"data-v-3b49eb07\": \"\",\n      children: isLoading && /*#__PURE__*/_jsxDEV(Skeleton, {\n        \"data-v-3b49eb07\": \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 24\n      }, this) || new Array(rating).fill({}).map((_, index) => /*#__PURE__*/_jsxDEV(\"i\", {\n        class: \"fa fa-star mr-2 tagstar\",\n        \"data-v-fb364d95\": index,\n        \"data-v-3b49eb07\": \"\"\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n      className: \"title\",\n      \"data-v-3b49eb07\": \"\",\n      children: !isLoading ? he.decode(title) : /*#__PURE__*/_jsxDEV(Skeleton, {\n        count: 3,\n        \"data-v-3b49eb07\": \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 62\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 7\n    }, this), !isLoading && title && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `class-status-description alert alert-${CLASS_STATUS_ALERT[classStatus].type}`,\n      role: \"alert\",\n      \"data-v-3b49eb07\": \"\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: `${CLASS_STATUS_ALERT[classStatus].icon} mr-2`,\n        style: {\n          color: 'orange'\n        },\n        \"data-v-3b49eb07\": \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 11\n      }, this), CLASS_STATUS_ALERT[classStatus].message, ' ', classStatus === 'NOT_STARTED' && props.enrollmentStartDate && /*#__PURE__*/_jsxDEV(\"b\", {\n        \"data-v-3b49eb07\": \"\",\n        children: dayjs(props.enrollmentStartDate).format('ll')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }, this) || /*#__PURE__*/_jsxDEV(Skeleton, {\n      height: 45,\n      \"data-v-3b49eb07\": \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"teacher-info\",\n      \"data-v-3b49eb07\": \"\",\n      children: firstName && /*#__PURE__*/_jsxDEV(Fragment, {\n        \"data-v-3b49eb07\": \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          \"data-v-3b49eb07\": \"\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: photo !== undefined && photo !== null && (typeof photo === 'string' || photo instanceof String) && photo.includes(\"https://tagprosbucket\") ? photo : DefaultPic,\n            alt: firstName,\n            onError: handleImageError,\n            \"data-v-3b49eb07\": \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          \"data-v-3b49eb07\": \"\",\n          children: getTeacherName()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"class-intro-text\",\n      \"data-v-3b49eb07\": \"\",\n      children: classIntroduction ? he.decode(classIntroduction) : /*#__PURE__*/_jsxDEV(Skeleton, {\n        \"data-v-3b49eb07\": \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 61\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-info\",\n      \"data-v-3b49eb07\": \"\",\n      children: [enrollment && /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-v-3b49eb07\": \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-calendar-alt\",\n          \"data-v-3b49eb07\": \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-v-3b49eb07\": \"\",\n          children: [\"Enrollment: \", enrollmentDate]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-v-3b49eb07\": \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-calendar-alt\",\n          \"data-v-3b49eb07\": \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-v-3b49eb07\": \"\",\n          children: renderSchedule()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-v-3b49eb07\": \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-clock\",\n          \"data-v-3b49eb07\": \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-v-3b49eb07\": \"\",\n          children: [\"Time: \", getTime(props)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-v-3b49eb07\": \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"ml-3\",\n          \"data-v-3b49eb07\": \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-v-3b49eb07\": \"\",\n          children: [\"Duration: \", getDuration(startTime, endTime)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-v-3b49eb07\": \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-graduation-cap\",\n          \"data-v-3b49eb07\": \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-v-3b49eb07\": \"\",\n          children: ageCategory\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        \"data-v-3b49eb07\": \"\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fa fa-users\",\n          \"data-v-3b49eb07\": \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          \"data-v-3b49eb07\": \"\",\n          children: getLearners()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"price alert alert-warning m-0 \",\n      \"data-v-3b49eb07\": \"\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        \"data-v-3b49eb07\": \"\",\n        children: getPrice()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this), !isLoading && /*#__PURE__*/_jsxDEV(ActionButton, { ...actionBtnProps,\n      \"data-v-3b49eb07\": \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n};\n_c = Item;\nItem.defaultProps = {\n  rating: 5\n};\n\nconst ClassDetails = props => {\n  _s();\n\n  var _props$data, _props$data2, _props$data3;\n\n  const [dataLength, setDataLength] = useState(4);\n\n  const increaseDataLength = async () => {\n    await new Promise(r => setTimeout(r, 1000));\n    setDataLength(dataLength + 4);\n  };\n\n  if (props.loading) return props.loadingPlaceholder;\n  if (!props.loading && _.isEmpty(props.data)) return props.emptyDataPlaceholder;\n  if (props.data.length || props.data.classId) return /*#__PURE__*/_jsxDEV(Layout, {\n    className: props.className,\n    dataLength: dataLength,\n    as: InfiniteScroll,\n    hasMore: ((_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.length) > dataLength,\n    next: increaseDataLength,\n    loader: new Array(Math.min(Math.abs(((_props$data2 = props.data) === null || _props$data2 === void 0 ? void 0 : _props$data2.length) - dataLength), 4)).fill({}).map(() => /*#__PURE__*/_jsxDEV(Item, {\n      \"data-v-3b49eb07\": \"\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 13\n    }, this)),\n    \"data-v-3b49eb07\": \"\",\n    children: !((_props$data3 = props.data) !== null && _props$data3 !== void 0 && _props$data3.length) ? /*#__PURE__*/_jsxDEV(Item, { ...props,\n      \"data-v-3b49eb07\": \"\"\n    }, props === null || props === void 0 ? void 0 : props.classId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 11\n    }, this) : props.data.slice(0, dataLength).map(props => /*#__PURE__*/_jsxDEV(Item, { ...props,\n      \"data-v-3b49eb07\": \"\"\n    }, props === null || props === void 0 ? void 0 : props.classId, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 27\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 7\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    className: props.className,\n    \"data-v-3b49eb07\": \"\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 10\n  }, this);\n};\n\n_s(ClassDetails, \"59OfvosEKPvIDTpbeI/0H7uapuA=\");\n\n_c2 = ClassDetails;\nClassDetails.defaultProps = {\n  get maxShow() {\n    var _this$data;\n\n    return this.max || ((_this$data = this.data) === null || _this$data === void 0 ? void 0 : _this$data.length) || 1;\n  }\n\n};\nexport default ClassDetails;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Item\");\n$RefreshReg$(_c2, \"ClassDetails\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/common/ClassDetails/index.jsx"],"names":["React","Fragment","useState","Container","ActionButton","Layout","defaultContainerStyles","NavLink","dayjs","LocalizedFormat","utc","timezone","isArray","isString","CLASS_STATUS_ALERT","isSameOrAfter","isSameOrBefore","he","_","InfiniteScroll","Skeleton","toMoneyFormat","getDuration","DefaultPic","extend","getStatusDisplay","data","startDate","endDate","status","Date","getTime","startTime","endTime","timeZone","result","tz","format","Intl","DateTimeFormat","resolvedOptions","formatDate","date","length","error","Item","props","ageCategory","className","thumbnailImage","title","enrollmentDate","rating","minLearners","maxLearners","firstName","lastName","nickname","salutation","classIntroduction","enrollment","classId","availableDates","price","currency","photo","actionBtnProps","as","children","to","target","rel","replace","Schedule","renderSchedule","map","classStatus","handleImageError","e","currentTarget","onerror","src","getLearners","isLoading","getPrice","hasPrice","parseFloat","value","getTeacherName","teacherName","concat","Array","fill","index","decode","type","icon","color","message","enrollmentStartDate","undefined","String","includes","defaultProps","ClassDetails","dataLength","setDataLength","increaseDataLength","Promise","r","setTimeout","loading","loadingPlaceholder","isEmpty","emptyDataPlaceholder","Math","min","abs","slice","maxShow","max"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\nimport { Container, ActionButton, Layout } from './styles';\nimport defaultContainerStyles from 'css/new-age.scoped.css';\nimport { NavLink } from 'react-router-dom';\nimport dayjs from 'dayjs';\nimport LocalizedFormat from 'dayjs/plugin/localizedFormat';\nimport utc from 'dayjs/plugin/utc';\nimport timezone from 'dayjs/plugin/timezone';\nimport { isArray, isString } from 'lodash';\nimport { CLASS_STATUS_ALERT } from 'utils/constants';\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter';\nimport isSameOrBefore from 'dayjs/plugin/isSameOrBefore';\nimport he from 'he';\nimport _ from 'lodash';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport Skeleton from 'react-loading-skeleton';\nimport { toMoneyFormat, getDuration } from 'utils/utils';\nimport DefaultPic from '../../../img/default-pic-blue1.png'\n\ndayjs.extend(utc);\ndayjs.extend(timezone);\ndayjs.extend(LocalizedFormat);\ndayjs.extend(isSameOrAfter);\ndayjs.extend(isSameOrBefore);\n\nexport const getStatusDisplay = data => {\n  const startDate = data.startDate;\n  const endDate = data.endDate;\n  if(data.status === 'CSTAT010'){\n    return \"CLASS_ONGOING\";\n  }else if(data.status === 'CSTAT011'){\n      return \"CLASS_ENDED\";\n  }else{\n      // if(!!enrollmentStart && dayjs().isBefore(dayjs(enrollmentStart), new Date())){\n      //     setStatus(\"NOT_STARTED\")\n      // }else  if(!!enrollmentStart && !!enrollmentEnd && dayjs().isSameOrAfter(dayjs(enrollmentStart), new Date()) && dayjs().isSameOrBefore(dayjs(enrollmentEnd), new Date())){\n      if(!!startDate && dayjs().isSameOrBefore(startDate)){\n          return \"ONGOING_ENROLLMENT\";\n      }\n      // else if(!!enrollmentEnd && !!startDate && dayjs().isAfter(dayjs(enrollmentEnd), new Date()) && dayjs().isBefore(dayjs(startDate), new Date())){\n      //     setStatus(\"OPENS_SOON\")\n      // }\n      else if(!!startDate && !!endDate && dayjs().isSameOrAfter(dayjs(startDate), new Date()) && dayjs().isSameOrBefore(dayjs(endDate), new Date())){\n          return \"CLASS_ONGOING\";\n      }else{\n          return \"CLASS_ENDED\";\n      }\n  }\n};\nfunction getTime({ startDate, startTime, endTime, timeZone }) {\n  let result = '';\n  if (startDate && startTime && timeZone) {\n    result += dayjs(\n      dayjs.tz(`${startDate} ${startTime}`, 'YYYY/MM/DD HH:mm:ss', timeZone).format()\n    )\n      .tz(\n        Intl.DateTimeFormat().resolvedOptions().timeZone\n          ? Intl.DateTimeFormat().resolvedOptions().timeZone\n          : timeZone\n      )\n      .format('hh:mm A');\n\n    if (endTime) {\n      result += ' - ';\n      result += dayjs(\n        dayjs.tz(`${startDate} ${endTime}`, 'YYYY/MM/DD HH:mm:ss', timeZone).format()\n      )\n        .tz(\n          Intl.DateTimeFormat().resolvedOptions().timeZone\n            ? Intl.DateTimeFormat().resolvedOptions().timeZone\n            : timeZone\n        )\n        .format('hh:mm A');\n    }\n  }\n  return result;\n}\nfunction formatDate(date, { startDate, startTime, timeZone }) {\n  try {\n    return dayjs(\n      dayjs\n        .tz(\n          date\n            ? `${dayjs(date).format('YYYY/MM/DD')} ${startTime}`\n            : `${startDate} ${startTime}`,\n          'YYYY/MM/DD HH:mm:ss',\n          timeZone\n        )\n        .format()\n    )\n      .tz(timeZone?.length ? timeZone : Intl.DateTimeFormat().resolvedOptions().timeZone)\n      .format('dddd, LL');\n  } catch (error) {}\n}\nexport const Item = props => {\n  const {\n    ageCategory,\n    className,\n    thumbnailImage,\n    title,\n    enrollmentDate,\n    startDate,\n    rating,\n    timeZone,\n    startTime,\n    endTime,\n    minLearners,\n    maxLearners,\n    firstName,\n    lastName,\n    nickname,\n    salutation,\n    classIntroduction,\n    enrollment,\n    classId,\n    availableDates,\n    price,\n    currency,\n    photo\n  } = props;\n  const actionBtnProps = {\n    className: 'btn btn-outline-success class-action',\n    as: NavLink,\n    children: 'View Class',\n    to: `/class/enroll/${classId}`,\n    target: '_blank',\n    rel: 'noreferrer',\n    replace: true\n  };\n  const Schedule = ({ date }) => {\n    return <p>{date}</p>;\n  };\n  const renderSchedule = () => {\n    const data = availableDates?.length\n      ? availableDates?.map(date => formatDate(date, { timeZone, startTime }))\n      : formatDate(null, { startDate, timeZone, startTime });\n\n    if (isArray(data))\n      return (\n        <Fragment>\n          <div>\n            <b>Sessions:</b> {data.length}\n          </div>\n          {data.map(date => (\n            <Schedule key={date} date={date} />\n          ))}\n        </Fragment>\n      );\n    else if (isString(data)) return <Schedule date={data} />;\n  };\n  const classStatus = getStatusDisplay(props);\n  const handleImageError = e => {\n    e.currentTarget.onerror = null; // prevents looping\n    e.currentTarget.src = '../assets/images/image-placeholder.jpg';\n  };\n  const getLearners = () =>\n    `${minLearners} - ${maxLearners} ${\n      maxLearners === 1 ? 'learner' : 'learners'\n    }`;\n  const isLoading = !props.classId?.length;\n\n  const getPrice = () => {\n    const hasPrice = price?.length && parseFloat(price) > 0;\n    let value = hasPrice ? toMoneyFormat(price, currency) : 'Free';\n    return (\n      \n        <span className='font-bold font-20'>{value}</span>\n      \n    );\n  };\n  const getTeacherName = () => { \n    let teacherName = '';\n    teacherName = teacherName.concat(salutation);\n    if(teacherName.length) teacherName = teacherName.concat(' ');\n    teacherName = teacherName.concat(nickname);\n    if(teacherName.length) return teacherName; \n\n    // if salutation and nickname are empty, use first and last name\n    teacherName = teacherName.concat(lastName);\n    if(teacherName.length) teacherName = teacherName.concat(', ');\n    teacherName = teacherName.concat(firstName);\n\n    return teacherName;\n  }\n  return (\n    <Container\n      className={className}\n      style={defaultContainerStyles}\n      to={`/class/enroll/${classId}`}\n      target='_blank'\n      rel='noreferrer'\n      replace={true}\n    >\n      <div className='teacher-thumbnail'>\n        {(isLoading && <Skeleton height={'100%'} width={'100%'} />) || (\n          <img\n            src={thumbnailImage}\n            alt={title}\n            onError={handleImageError}\n          />\n        )}\n      </div>\n      <div class='stars' data-v-fb364d95=''>\n        {(isLoading && <Skeleton />) ||\n          new Array(rating)\n            .fill({})\n            .map((_, index) => (\n              <i class='fa fa-star mr-2 tagstar' data-v-fb364d95={index} key={index} />\n            ))}\n      </div>\n      <h5 className='title'>{!isLoading ? he.decode(title) : <Skeleton count={3} />}</h5>\n\n      {(!isLoading && title && (\n        <div\n          className={`class-status-description alert alert-${CLASS_STATUS_ALERT[classStatus].type}`}\n          role='alert'\n        >\n          <i\n            className={`${CLASS_STATUS_ALERT[classStatus].icon} mr-2`}\n            style={{ color: 'orange' }}\n          />\n          {CLASS_STATUS_ALERT[classStatus].message}{' '}\n          {classStatus === 'NOT_STARTED' && props.enrollmentStartDate && (\n            <b>{dayjs(props.enrollmentStartDate).format('ll')}</b>\n          )}\n        </div>\n      )) || <Skeleton height={45} />}\n      <div className='teacher-info'>\n        {firstName && (\n          <Fragment>\n            <div>\n              <img \n                src={photo !== undefined && photo !== null &&\n                (typeof photo === 'string' || photo instanceof String) &&\n                  photo.includes(\"https://tagprosbucket\")? photo  : DefaultPic} \n                alt={firstName}  \n               onError={handleImageError}\n              />\n            </div>\n            <h6>{getTeacherName()}</h6>\n          </Fragment>\n        )}\n      </div>\n\n      <p className='class-intro-text'>\n        {classIntroduction ? he.decode(classIntroduction) : <Skeleton />}\n      </p>\n      <div className='main-info'>\n        {enrollment && (\n          <div>\n            <i className='fa fa-calendar-alt' />\n            <p>Enrollment: {enrollmentDate}</p>\n          </div>\n        )}\n        {!isLoading && (\n          <div>\n            <i className='fa fa-calendar-alt' />\n            <p>{renderSchedule()}</p>\n          </div>\n        )}\n        {!isLoading && (\n          <div>\n            <i className='fa fa-clock' />\n            <p>Time: {getTime(props)}</p>\n          </div>\n        )}\n        {!isLoading && (\n          <div>\n            <i className='ml-3' />\n            <p>Duration: {getDuration(startTime, endTime)}</p>\n          </div>\n        )}\n        {!isLoading && (\n          <div>\n            <i className='fa fa-graduation-cap' />\n            <p>{ageCategory}</p>\n          </div>\n        )}\n        {!isLoading && (\n          <div>\n            <i className='fa fa-users' />\n            <p>{getLearners()}</p>\n          </div>\n        )}\n      </div>\n\n      {!isLoading && (\n        <div className='price alert alert-warning m-0 '>\n          <p>{getPrice()}</p>\n        </div>\n      )}\n\n      {!isLoading && <ActionButton {...actionBtnProps} />}\n    </Container>\n  );\n};\n\nItem.defaultProps = {\n  rating: 5,\n};\nconst ClassDetails = props => {\n  const [dataLength, setDataLength] = useState(4);\n  const increaseDataLength = async () => {\n    await new Promise(r => setTimeout(r, 1000));\n    setDataLength(dataLength + 4);\n  };\n\n  if (props.loading) return props.loadingPlaceholder;\n  if (!props.loading && _.isEmpty(props.data)) return props.emptyDataPlaceholder;\n  if (props.data.length || props.data.classId)\n    return (\n      <Layout\n        className={props.className}\n        dataLength={dataLength}\n        as={InfiniteScroll}\n        hasMore={props.data?.length > dataLength}\n        next={increaseDataLength}\n        loader={new Array(Math.min(Math.abs(props.data?.length - dataLength), 4))\n          .fill({})\n          .map(() => (\n            <Item />\n          ))}\n      >\n        {!props.data?.length ? (\n          <Item key={props?.classId} {...props} />\n        ) : (\n          props.data\n            .slice(0, dataLength)\n            .map(props => <Item key={props?.classId} {...props} />)\n        )}\n      </Layout>\n    );\n  return <Layout className={props.className} />;\n};\nClassDetails.defaultProps = {\n  get maxShow() {\n    return this.max || this.data?.length || 1;\n  }\n};\nexport default ClassDetails;\n"]},"metadata":{},"sourceType":"module"}