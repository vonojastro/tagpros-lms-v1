{"ast":null,"code":"import { __assign, __rest } from \"tslib\";\nimport { useState } from 'react';\nimport * as React from 'react';\nimport { withEditorContext } from '../Editor';\nimport OrderedListIcon from './icons/OrderedListIcon';\nimport UnorderedListIcon from './icons/UnorderedListIcon'; // tslint:disable:max-line-length\n\nexport var BtnBold = createButton('Bold', 'ùêÅ', 'bold');\nexport var BtnClearFormatting = createButton('Clear formatting', 'TÃ≤‚Çì', 'removeFormat');\nexport var BtnItalic = createButton('Italic', 'ùë∞', 'italic');\nexport var BtnLink = createButton('Link', 'üîó', function (selected) {\n  if (selected && selected.nodeName === 'A') {\n    document.execCommand('unlink');\n  } else {\n    // eslint-disable-next-line no-alert\n    document.execCommand('createLink', false, prompt('URL', ''));\n  }\n});\nexport var BtnNumberedList = createButton('Numbered list', React.createElement(OrderedListIcon, null), 'insertOrderedList');\nexport var BtnRedo = createButton('Redo', '‚Ü∑', 'redo');\nexport var BtnUnderline = createButton('Underline', React.createElement(\"span\", {\n  style: {\n    textDecoration: 'underline'\n  }\n}, \"\\uD835\\uDC14\"), 'underline');\nexport var BtnUndo = createButton('Undo', '‚Ü∂', 'undo');\nexport var BtnBulletList = createButton('Bullet list', React.createElement(UnorderedListIcon, null), 'insertUnorderedList');\nexport function Button(props) {\n  var _a = useState(false),\n      hovered = _a[0],\n      setHovered = _a[1];\n\n  var active = props.active,\n      styles = props.styles,\n      el = props.el,\n      selection = props.selection,\n      inputProps = __rest(props, [\"active\", \"styles\", \"el\", \"selection\"]);\n\n  var style = __assign(__assign(__assign(__assign(__assign({}, styles.button.normal), props.style), hovered ? styles.button.hovered : {}), hovered ? props.hoverStyle : {}), active ? styles.button.active : {});\n\n  var onHover = function (e) {\n    setHovered(true);\n    props.onMouseEnter && props.onMouseEnter(e);\n  };\n\n  var onUnHover = function (e) {\n    setHovered(false);\n    props.onMouseLeave && props.onMouseLeave(e);\n  };\n\n  return React.createElement(\"button\", __assign({\n    type: \"button\"\n  }, inputProps, {\n    style: style,\n    onMouseEnter: onHover,\n    onMouseLeave: onUnHover\n  }));\n}\n\nfunction createButton(title, content, command) {\n  ButtonFactory.displayName = title.replace(/\\s/g, '');\n  return withEditorContext(ButtonFactory);\n\n  function ButtonFactory(props) {\n    var selection = props.selection,\n        buttonProps = __rest(props, [\"selection\"]);\n\n    var active = false;\n\n    if (typeof command === 'string') {\n      active = !!selection && document.queryCommandState(command);\n    }\n\n    return React.createElement(Button, __assign({\n      title: title\n    }, buttonProps, {\n      onMouseDown: action,\n      active: active\n    }), content);\n\n    function action() {\n      if (typeof command === 'function') {\n        command(selection);\n      } else {\n        document.execCommand(command);\n      }\n    }\n  }\n}","map":{"version":3,"sources":["../../../src/toolbar/buttons.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { __assign, __rest } from \"tslib\";\nimport { useState, } from 'react';\nimport * as React from 'react';\nimport { withEditorContext } from '../Editor';\nimport OrderedListIcon from './icons/OrderedListIcon';\nimport UnorderedListIcon from './icons/UnorderedListIcon';\n// tslint:disable:max-line-length\nexport var BtnBold = createButton('Bold', 'ùêÅ', 'bold');\nexport var BtnClearFormatting = createButton('Clear formatting', 'TÃ≤‚Çì', 'removeFormat');\nexport var BtnItalic = createButton('Italic', 'ùë∞', 'italic');\nexport var BtnLink = createButton('Link', 'üîó', function (selected) {\n    if (selected && selected.nodeName === 'A') {\n        document.execCommand('unlink');\n    }\n    else {\n        // eslint-disable-next-line no-alert\n        document.execCommand('createLink', false, prompt('URL', ''));\n    }\n});\nexport var BtnNumberedList = createButton('Numbered list', React.createElement(OrderedListIcon, null), 'insertOrderedList');\nexport var BtnRedo = createButton('Redo', '‚Ü∑', 'redo');\nexport var BtnUnderline = createButton('Underline', React.createElement(\"span\", { style: { textDecoration: 'underline' } }, \"\\uD835\\uDC14\"), 'underline');\nexport var BtnUndo = createButton('Undo', '‚Ü∂', 'undo');\nexport var BtnBulletList = createButton('Bullet list', React.createElement(UnorderedListIcon, null), 'insertUnorderedList');\nexport function Button(props) {\n    var _a = useState(false), hovered = _a[0], setHovered = _a[1];\n    var active = props.active, styles = props.styles, el = props.el, selection = props.selection, inputProps = __rest(props, [\"active\", \"styles\", \"el\", \"selection\"]);\n    var style = __assign(__assign(__assign(__assign(__assign({}, styles.button.normal), props.style), (hovered ? styles.button.hovered : {})), (hovered ? props.hoverStyle : {})), (active ? styles.button.active : {}));\n    var onHover = function (e) {\n        setHovered(true);\n        props.onMouseEnter && props.onMouseEnter(e);\n    };\n    var onUnHover = function (e) {\n        setHovered(false);\n        props.onMouseLeave && props.onMouseLeave(e);\n    };\n    return (React.createElement(\"button\", __assign({ type: \"button\" }, inputProps, { style: style, onMouseEnter: onHover, onMouseLeave: onUnHover })));\n}\nfunction createButton(title, content, command) {\n    ButtonFactory.displayName = title.replace(/\\s/g, '');\n    return withEditorContext(ButtonFactory);\n    function ButtonFactory(props) {\n        var selection = props.selection, buttonProps = __rest(props, [\"selection\"]);\n        var active = false;\n        if (typeof command === 'string') {\n            active = !!selection && document.queryCommandState(command);\n        }\n        return (React.createElement(Button, __assign({ title: title }, buttonProps, { onMouseDown: action, active: active }), content));\n        function action() {\n            if (typeof command === 'function') {\n                command(selection);\n            }\n            else {\n                document.execCommand(command);\n            }\n        }\n    }\n}\n//# sourceMappingURL=buttons.js.map"]},"metadata":{},"sourceType":"module"}