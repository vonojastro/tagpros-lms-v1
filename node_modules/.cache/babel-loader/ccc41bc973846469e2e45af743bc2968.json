{"ast":null,"code":"var _jsxFileName = \"/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Dashboard/DashboardSidebar/FamilyDashboardSidebar/index.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport LearnerContentLoader from '../../../LearnerContentLoader';\nimport React from 'react';\nimport ViewAllLearnersModal from '../../../ViewAllLearnersModal';\nimport SideBarLink from '../../../common/SideBarLink';\nimport Avatar from '../../../common/Avatar';\nimport LearnerInfoModal from '../../../LearnerInfoModal';\nimport { useSelector } from 'react-redux';\nimport { getS3Url } from 'utils/teacherApplication';\nimport _ from 'lodash';\nimport { SHOW_LEARNERS_SORT_BASIS } from '../../../../utils/constants';\nimport dayjs from 'dayjs';\nimport { useMatch } from 'react-router';\nimport '../index.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FamilyDashboardSidebar() {\n  _s();\n\n  const NUM_LEARNERS_DISPLAY = 5;\n  const learners = useSelector(state => state.learners);\n  const lastLogin = useSelector(state => {\n    var _state$auth;\n\n    return state === null || state === void 0 ? void 0 : (_state$auth = state.auth) === null || _state$auth === void 0 ? void 0 : _state$auth.lastLogin;\n  });\n  const atDashboardHome = useMatch('/');\n  const shouldForceToAddLearner = useSelector(state => {\n    var _state$learners, _state$learners$data, _state$auth2;\n\n    return atDashboardHome && !(state !== null && state !== void 0 && (_state$learners = state.learners) !== null && _state$learners !== void 0 && (_state$learners$data = _state$learners.data) !== null && _state$learners$data !== void 0 && _state$learners$data.length) && (state === null || state === void 0 ? void 0 : (_state$auth2 = state.auth) === null || _state$auth2 === void 0 ? void 0 : _state$auth2.lastLogin) && dayjs(new Date()).diff(state.auth.lastLogin, 'seconds') < 30;\n  } // not 30 seconds has passed since closing modal\n  );\n  React.useEffect(() => {\n    if (shouldForceToAddLearner) {\n      const addLearner = document.getElementById('addLearnerModal');\n      addLearner.click();\n    }\n  }, [shouldForceToAddLearner]);\n\n  const getSideBarItems = () => {\n    let items = [{\n      icon: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }, this),\n      label: 'Home',\n      to: '/'\n    }, {\n      icon: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-envelope\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }, this),\n      label: 'Messaging',\n      to: '/inbox'\n    }, {\n      icon: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fa fa-envelope\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }, this),\n      label: 'Mailing',\n      to: '/mail'\n    } // {\n    //   icon: <i className=\"fa fa-lightbulb-o\"></i>,\n    //   label: \"My Classes\",\n    //   to: \"/classes\",\n    //   children: [\n    //     {\n    //       label: \"Search Classes\",\n    //       to: \"/wad\",\n    //     },\n    //     {\n    //       label: \"View My Classes\",\n    //       to: \"/dwadaw\",\n    //     },\n    //   ],\n    // },\n    // {\n    //   icon: <i className=\"fa fa-clock-o\"></i>,\n    //   label: \"My Schedule\",\n    //   to: \"/classes\",\n    //   children: [\n    //     {\n    //       label: \"View All Schedule\",\n    //       to: \"/wdad\",\n    //     },\n    //     {\n    //       label: \"Calendar View\",\n    //       to: \"/wda\",\n    //     },\n    //   ],\n    // },\n    ];\n    return items;\n  };\n\n  const sideBarSections = [{\n    sectionName: 'My Learner Dashboard',\n    content: getSideBarItems().map(item => /*#__PURE__*/_jsxDEV(SideBarLink, { ...item\n    }, item.label, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 46\n    }, this))\n  }, {\n    sectionName: /*#__PURE__*/_jsxDEV(\"li\", {\n      children: [\"My Learners\", learners.data.length > NUM_LEARNERS_DISPLAY && /*#__PURE__*/_jsxDEV(ViewAllLearnersModal, {\n        trigger: /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"float-right\",\n          style: {\n            fontWeight: '100',\n            color: '#00897b',\n            textDecoration: 'underline',\n            cursor: 'pointer',\n            pointerEvents: 'all'\n          },\n          children: [\"View All ( \", learners.data.length, \" )\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this),\n    content: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [!learners.loading && learners.success && _.sortBy(learners.data, SHOW_LEARNERS_SORT_BASIS).slice(0, NUM_LEARNERS_DISPLAY).map(learner => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          pointerEvents: 'all'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          style: {\n            cursor: 'pointer'\n          },\n          onClick: e => {\n            e.preventDefault();\n          },\n          children: /*#__PURE__*/_jsxDEV(LearnerInfoModal, {\n            mode: \"update\",\n            info: learner,\n            trigger: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Avatar, {\n                left: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: getS3Url(learner.photo),\n                  alt: learner.nickname,\n                  class: \"profile-pic mr-2\",\n                  height: 30,\n                  width: 30,\n                  style: {\n                    objectFit: 'cover',\n                    objectPosition: 'center'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 31\n                }, this),\n                right: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"hide-menu\",\n                  children: learner.nickname\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 36\n                }, this)\n              }, learner.nickname, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 19\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this)), learners.loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-column justify-content-center\" // style={{ marginLeft: 20 }}\n        ,\n        children: new Array(learners.data.length ? learners.data.length : 1).fill({}).slice(0, NUM_LEARNERS_DISPLAY).map(() => /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            pointerEvents: 'all'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              cursor: 'pointer'\n            },\n            onClick: e => {\n              e.preventDefault();\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2\",\n              children: /*#__PURE__*/_jsxDEV(LearnerContentLoader, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }, this), lastLogin && /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          pointerEvents: 'all'\n        },\n        children: /*#__PURE__*/_jsxDEV(LearnerInfoModal, {\n          trigger: /*#__PURE__*/_jsxDEV(\"a\", {\n            id: \"addLearnerModal\",\n            style: {\n              cursor: 'pointer'\n            },\n            \"aria-expanded\": \"false\",\n            onClick: e => {\n              e.preventDefault();\n            },\n            className: \"ml-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fa fa-plus mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 21\n            }, this), ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n              class: \"hide-menu\",\n              children: \"Add New Learner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 19\n          }, this),\n          mode: \"add\",\n          shouldForceToAddLearner: shouldForceToAddLearner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)\n  }];\n  return sideBarSections.map(_ref => {\n    let {\n      sectionName,\n      content\n    } = _ref;\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      id: \"sidebarnav parent\",\n      style: {\n        pointerEvents: 'all'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown-divider\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"nav-small-cap\",\n        children: sectionName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 7\n      }, this), content]\n    }, sectionName, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 5\n    }, this);\n  });\n}\n\n_s(FamilyDashboardSidebar, \"ml9iM0JQG+Hm0gw7yGVJJSepzPc=\", false, function () {\n  return [useSelector, useSelector, useMatch, useSelector];\n});\n\n_c = FamilyDashboardSidebar;\n\nvar _c;\n\n$RefreshReg$(_c, \"FamilyDashboardSidebar\");","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/components/Dashboard/DashboardSidebar/FamilyDashboardSidebar/index.jsx"],"names":["LearnerContentLoader","React","ViewAllLearnersModal","SideBarLink","Avatar","LearnerInfoModal","useSelector","getS3Url","_","SHOW_LEARNERS_SORT_BASIS","dayjs","useMatch","FamilyDashboardSidebar","NUM_LEARNERS_DISPLAY","learners","state","lastLogin","auth","atDashboardHome","shouldForceToAddLearner","data","length","Date","diff","useEffect","addLearner","document","getElementById","click","getSideBarItems","items","icon","label","to","sideBarSections","sectionName","content","map","item","fontWeight","color","textDecoration","cursor","pointerEvents","loading","success","sortBy","slice","learner","e","preventDefault","photo","nickname","objectFit","objectPosition","Array","fill"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\nimport LearnerContentLoader from '../../../LearnerContentLoader';\nimport React from 'react';\nimport ViewAllLearnersModal from '../../../ViewAllLearnersModal';\nimport SideBarLink from '../../../common/SideBarLink';\nimport Avatar from '../../../common/Avatar';\nimport LearnerInfoModal from '../../../LearnerInfoModal';\nimport { useSelector } from 'react-redux';\nimport { getS3Url } from 'utils/teacherApplication';\nimport _ from 'lodash';\nimport { SHOW_LEARNERS_SORT_BASIS } from '../../../../utils/constants';\nimport dayjs from 'dayjs';\nimport { useMatch } from 'react-router';\nimport '../index.css';\n\nexport default function FamilyDashboardSidebar() {\n  const NUM_LEARNERS_DISPLAY = 5;\n  const learners = useSelector(state => state.learners);\n  const lastLogin = useSelector(state => state?.auth?.lastLogin);\n  const atDashboardHome = useMatch('/')\n  const shouldForceToAddLearner = useSelector(\n    state =>\n      atDashboardHome &&\n      !state?.learners?.data?.length &&\n      state?.auth?.lastLogin &&\n      dayjs(new Date()).diff(state.auth.lastLogin, 'seconds') < 30 // not 30 seconds has passed since closing modal\n  );\n\n  React.useEffect(() => {\n    if (shouldForceToAddLearner) {\n      const addLearner = document.getElementById('addLearnerModal');\n      addLearner.click();\n    }\n  }, [shouldForceToAddLearner]);\n  const getSideBarItems = () => {\n    let items = [\n      { icon: <i className='fa fa-home' />, label: 'Home', to: '/' },\n      { icon: <i className='fa fa-envelope' />, label: 'Messaging', to: '/inbox' },\n      { icon: <i className='fa fa-envelope' />, label: 'Mailing', to: '/mail' }\n      // {\n      //   icon: <i className=\"fa fa-lightbulb-o\"></i>,\n      //   label: \"My Classes\",\n      //   to: \"/classes\",\n      //   children: [\n      //     {\n      //       label: \"Search Classes\",\n      //       to: \"/wad\",\n      //     },\n      //     {\n      //       label: \"View My Classes\",\n      //       to: \"/dwadaw\",\n      //     },\n      //   ],\n      // },\n      // {\n      //   icon: <i className=\"fa fa-clock-o\"></i>,\n      //   label: \"My Schedule\",\n      //   to: \"/classes\",\n      //   children: [\n      //     {\n      //       label: \"View All Schedule\",\n      //       to: \"/wdad\",\n      //     },\n      //     {\n      //       label: \"Calendar View\",\n      //       to: \"/wda\",\n      //     },\n      //   ],\n      // },\n    ];\n\n    return items;\n  };\n\n  const sideBarSections = [\n    {\n      sectionName: 'My Learner Dashboard',\n      content: getSideBarItems().map(item => <SideBarLink key={item.label} {...item} />)\n    },\n    {\n      sectionName: (\n        <li>\n          My Learners\n          {learners.data.length > NUM_LEARNERS_DISPLAY && (\n            <ViewAllLearnersModal\n              trigger={\n                <span\n                  class='float-right'\n                  style={{\n                    fontWeight: '100',\n                    color: '#00897b',\n                    textDecoration: 'underline',\n                    cursor: 'pointer',\n                    pointerEvents: 'all'\n                  }}\n                >\n                  View All ( {learners.data.length} )\n                </span>\n              }\n            />\n          )}\n        </li>\n      ),\n      content: (\n        <div>\n          {!learners.loading &&\n            learners.success &&\n            _.sortBy(learners.data, SHOW_LEARNERS_SORT_BASIS)\n              .slice(0, NUM_LEARNERS_DISPLAY)\n              .map(learner => (\n                <li style={{ pointerEvents: 'all' }}>\n                  <a\n                    style={{ cursor: 'pointer' }}\n                    onClick={e => {\n                      e.preventDefault();\n                    }}\n                  >\n                    <LearnerInfoModal\n                      mode='update'\n                      info={learner}\n                      trigger={\n                        <div>\n                          <Avatar\n                            left={\n                              <img\n                                src={getS3Url(learner.photo)}\n                                alt={learner.nickname}\n                                class='profile-pic mr-2'\n                                height={30}\n                                width={30}\n                                style={{ objectFit: 'cover', objectPosition: 'center' }}\n                              />\n                            }\n                            right={<span className='hide-menu'>{learner.nickname}</span>}\n                            key={learner.nickname}\n                          />\n                        </div>\n                      }\n                    />\n                  </a>\n                </li>\n              ))}\n          {learners.loading && (\n            <div\n              className='flex flex-column justify-content-center'\n              // style={{ marginLeft: 20 }}\n            >\n              {new Array(learners.data.length ? learners.data.length : 1)\n                .fill({})\n                .slice(0, NUM_LEARNERS_DISPLAY)\n                .map(() => (\n                  <li style={{ pointerEvents: 'all' }}>\n                    <a\n                      style={{ cursor: 'pointer' }}\n                      onClick={e => {\n                        e.preventDefault();\n                      }}\n                    >\n                      <div className='mt-2'>\n                        <LearnerContentLoader />\n                      </div>\n                    </a>\n                  </li>\n                ))}\n            </div>\n          )}\n          {/* </li> */}\n          {lastLogin && (\n            <li style={{ pointerEvents: 'all' }}>\n              <LearnerInfoModal\n                trigger={\n                  <a\n                    id='addLearnerModal'\n                    style={{ cursor: 'pointer' }}\n                    aria-expanded='false'\n                    onClick={e => {\n                      e.preventDefault();\n                    }}\n                    className='ml-2'\n                  >\n                    <i class='fa fa-plus mr-3' />{' '}\n                    <span class='hide-menu'>Add New Learner</span>\n                  </a>\n                }\n                mode='add'\n                shouldForceToAddLearner={shouldForceToAddLearner}\n              />\n            </li>\n          )}\n        </div>\n      )\n    }\n  ];\n  return sideBarSections.map(({ sectionName, content }) => (\n    <ul id='sidebarnav parent' key={sectionName} style={{ pointerEvents: 'all' }}>\n      <div className='dropdown-divider' />\n      <li className='nav-small-cap'>{sectionName}</li>\n      {content}\n    </ul>\n  ));\n}\n"]},"metadata":{},"sourceType":"module"}