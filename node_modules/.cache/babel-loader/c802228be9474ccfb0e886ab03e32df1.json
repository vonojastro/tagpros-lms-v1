{"ast":null,"code":"import { api } from \"../api\";\nimport { onLoadingScreen, offLoadingScreen } from \"../redux/actions/ui-elements\";\nimport { getDiscountsSuccess, saveDiscountSuccess, updateDiscountSuccess } from \"../redux/actions/discount\";\nconst DISCOUNT_ENDPOINT = '/discount';\nexport const getDiscounts = async (dispatch, callback) => {\n  try {\n    dispatch(onLoadingScreen());\n    const response = await api.get(DISCOUNT_ENDPOINT + \"/list\");\n    dispatch(getDiscountsSuccess(response.data));\n    callback(true, response.data);\n  } catch (error) {\n    console.log(\"(getDiscounts) Status:\", error);\n    callback(false);\n    dispatch(offLoadingScreen());\n  } finally {\n    dispatch(offLoadingScreen());\n  }\n};\nexport const saveDiscount = async (dispatch, args, callback) => {\n  try {\n    const response = await api.post(DISCOUNT_ENDPOINT + \"/add\", args);\n    dispatch(saveDiscountSuccess(response.data));\n    callback(true, response.data);\n  } catch (error) {\n    console.log(\"(saveDiscount) Status:\", error);\n    callback(false);\n  }\n};\nexport const updateDiscount = async (dispatch, args, callback) => {\n  try {\n    const response = await api.post(DISCOUNT_ENDPOINT + \"/update\", args);\n    dispatch(updateDiscountSuccess(response.data));\n    callback(true, response.data);\n  } catch (error) {\n    console.log(\"(updateDiscount) Status:\", error);\n    callback(false);\n  }\n};","map":{"version":3,"sources":["/Users/vonojastro/Desktop/lms-frontend-v2/src/api/discount.js"],"names":["api","onLoadingScreen","offLoadingScreen","getDiscountsSuccess","saveDiscountSuccess","updateDiscountSuccess","DISCOUNT_ENDPOINT","getDiscounts","dispatch","callback","response","get","data","error","console","log","saveDiscount","args","post","updateDiscount"],"mappings":"AAAA,SAASA,GAAT,QAAoB,QAApB;AACA,SAASC,eAAT,EAA0BC,gBAA1B,QAAkD,8BAAlD;AACA,SAASC,mBAAT,EAA8BC,mBAA9B,EAAmDC,qBAAnD,QAAgF,2BAAhF;AAEA,MAAMC,iBAAiB,GAAG,WAA1B;AAEA,OAAO,MAAMC,YAAY,GAAG,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACzD,MAAI;AACGD,IAAAA,QAAQ,CAACP,eAAe,EAAhB,CAAR;AACN,UAAMS,QAAQ,GAAG,MAAMV,GAAG,CAACW,GAAJ,CAAQL,iBAAiB,GAAG,OAA5B,CAAvB;AAEAE,IAAAA,QAAQ,CAACL,mBAAmB,CAACO,QAAQ,CAACE,IAAV,CAApB,CAAR;AACAH,IAAAA,QAAQ,CAAC,IAAD,EAAOC,QAAQ,CAACE,IAAhB,CAAR;AACA,GAND,CAME,OAAOC,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,KAAtC;AACAJ,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACMD,IAAAA,QAAQ,CAACN,gBAAgB,EAAjB,CAAR;AACN,GAVD,SAUU;AACTM,IAAAA,QAAQ,CAACN,gBAAgB,EAAjB,CAAR;AACA;AACD,CAdM;AAgBP,OAAO,MAAMc,YAAY,GAAG,OAAOR,QAAP,EAAiBS,IAAjB,EAAuBR,QAAvB,KAAoC;AAC/D,MAAI;AACH,UAAMC,QAAQ,GAAG,MAAMV,GAAG,CAACkB,IAAJ,CAASZ,iBAAiB,GAAG,MAA7B,EAAqCW,IAArC,CAAvB;AAEAT,IAAAA,QAAQ,CAACJ,mBAAmB,CAACM,QAAQ,CAACE,IAAV,CAApB,CAAR;AACAH,IAAAA,QAAQ,CAAC,IAAD,EAAOC,QAAQ,CAACE,IAAhB,CAAR;AACA,GALD,CAKE,OAAOC,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,KAAtC;AACAJ,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACA;AACD,CAVM;AAYP,OAAO,MAAMU,cAAc,GAAG,OAAOX,QAAP,EAAiBS,IAAjB,EAAuBR,QAAvB,KAAoC;AACjE,MAAI;AACH,UAAMC,QAAQ,GAAG,MAAMV,GAAG,CAACkB,IAAJ,CAASZ,iBAAiB,GAAG,SAA7B,EAAwCW,IAAxC,CAAvB;AAEAT,IAAAA,QAAQ,CAACH,qBAAqB,CAACK,QAAQ,CAACE,IAAV,CAAtB,CAAR;AACAH,IAAAA,QAAQ,CAAC,IAAD,EAAOC,QAAQ,CAACE,IAAhB,CAAR;AACA,GALD,CAKE,OAAOC,KAAP,EAAc;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCF,KAAxC;AACAJ,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACA;AACD,CAVM","sourcesContent":["import { api } from \"../api\";\nimport { onLoadingScreen, offLoadingScreen } from \"../redux/actions/ui-elements\";\nimport { getDiscountsSuccess, saveDiscountSuccess, updateDiscountSuccess } from \"../redux/actions/discount\";\n\nconst DISCOUNT_ENDPOINT = '/discount';\n\nexport const getDiscounts = async (dispatch, callback) => {\n\ttry {\n        dispatch(onLoadingScreen());\n\t\tconst response = await api.get(DISCOUNT_ENDPOINT + \"/list\");\n\n\t\tdispatch(getDiscountsSuccess(response.data));\n\t\tcallback(true, response.data);\n\t} catch (error) {\n\t\tconsole.log(\"(getDiscounts) Status:\", error);\n\t\tcallback(false);\n        dispatch(offLoadingScreen());\n\t} finally {\n\t\tdispatch(offLoadingScreen());\n\t}\n};\n\nexport const saveDiscount = async (dispatch, args, callback) => {\n\ttry {\n\t\tconst response = await api.post(DISCOUNT_ENDPOINT + \"/add\", args);\n\n\t\tdispatch(saveDiscountSuccess(response.data));\n\t\tcallback(true, response.data);\n\t} catch (error) {\n\t\tconsole.log(\"(saveDiscount) Status:\", error);\n\t\tcallback(false);\n\t}\n};\n\nexport const updateDiscount = async (dispatch, args, callback) => {\n\ttry {\n\t\tconst response = await api.post(DISCOUNT_ENDPOINT + \"/update\", args);\n\n\t\tdispatch(updateDiscountSuccess(response.data));\n\t\tcallback(true, response.data);\n\t} catch (error) {\n\t\tconsole.log(\"(updateDiscount) Status:\", error);\n\t\tcallback(false);\n\t}\n};\n"]},"metadata":{},"sourceType":"module"}