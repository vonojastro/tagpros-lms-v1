!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("../node_modules/react/index.js")):"function"==typeof define&&define.amd?define(["exports","../node_modules/react/index"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactSimpleWysiwyg={},e.React)}(this,(function(e,t){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var r=function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function l(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var l=arguments[t],i=0,a=l.length;i<a;i++,r++)o[r]=l[i];return o}function a(e){for(var t,n,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];if(!o.length)return e;var l=o.shift();if(u(e)&&u(l))for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(u(l[s])?(e[s]||Object.assign(e,((t={})[s]={},t)),a(e[s],l[s])):Object.assign(e,((n={})[s]=l[s],n)));return a.apply(void 0,i([e],o))}function s(e){if(e.nodeType===Node.TEXT_NODE)return e;for(var t=e.childNodes,n=t.length-1;n>=0;n--){var o=s(t[n]);if(null!==o)return o}return null}function c(){if(document.selection)return document.selection.createRange().parentElement();var e=window.getSelection();return e.rangeCount>0?e.getRangeAt(0).startContainer.parentNode:null}function u(e){return e&&"object"==typeof e&&!Array.isArray(e)}function d(e){return e&&e.replace(/&nbsp;|\u202F|\u00A0/g," ")}function p(e){var t=s(e),n=document.activeElement===e;if(null!==t&&null!==t.nodeValue&&n){var o=document.createRange(),r=window.getSelection();o.setStart(t,t.nodeValue.length),o.collapse(!0),r.removeAllRanges(),r.addRange(o),e instanceof HTMLElement&&e.focus()}}var f=function(e){function n(t){var n=e.call(this,t)||this;return n.previousValue=t.value,n.onChange=n.onChange.bind(n),n.setElementRef=n.setElementRef.bind(n),n}return o(n,e),n.prototype.shouldComponentUpdate=function(e){return!this.el||(d(e.value)!==d(this.el.innerHTML)||(t=this.props,n=e,!["disabled","tagName","className"].every((function(e){return t[e]===n[e]}))));var t,n},n.prototype.componentDidUpdate=function(){this.el&&(this.props.value!==this.el.innerHTML&&(this.previousValue=this.props.value,this.el.innerHTML=this.props.value),p(this.el))},n.prototype.onChange=function(e){if(this.el){var t=this.el.innerHTML,n=this.previousValue;this.previousValue=t,this.props.onChange&&t!==n&&this.props.onChange(r(r({},e),{target:{value:t}}))}},n.prototype.setElementRef=function(e){var t=this.props.contentEditableRef;this.el=e,t&&t(e)},n.prototype.render=function(){var e=this.props;e.contentEditableRef;var n=e.tagName,o=e.value,i=l(e,["contentEditableRef","tagName","value"]);return t.createElement(n||"div",r(r({},i),{contentEditable:!this.props.disabled,dangerouslySetInnerHTML:{__html:o},onBlur:this.props.onBlur||this.onChange,onInput:this.onChange,onKeyDown:this.props.onKeyDown||this.onChange,onKeyUp:this.props.onKeyUp||this.onChange,ref:this.setElementRef}))},n}(t.Component),m={button:{normal:{backgroundColor:"transparent",border:"none",color:"#222",height:24,outline:"none",padding:0,verticalAlign:"top",width:24},hovered:{backgroundColor:"#eaeaea"},active:{backgroundColor:"#e0e0e0"}},contentEditable:{flex:"1 0 auto",outline:"none",padding:5},dropdown:{boxSizing:"border-box",height:20,marginTop:2,outline:"none",verticalAlign:"top"},editor:{border:"1px solid #ddd",borderRadius:3,display:"flex",flexDirection:"column",minHeight:100,msFlexDirection:"column"},separator:{backgroundColor:"#ddd",display:"inline-block",height:20,margin:2,verticalAlign:"top",width:1}},h=t.createContext({styles:m}),v=function(e){function n(t){var n=e.call(this,t)||this;return n.state={},n.onClickOutside=n.onClickOutside.bind(n),n.onTextSelect=n.onTextSelect.bind(n),n.setContentEditableRef=n.setContentEditableRef.bind(n),n}return o(n,e),n.prototype.componentDidMount=function(){document.addEventListener("click",this.onClickOutside)},n.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.onClickOutside)},n.prototype.onClickOutside=function(e){var t=this.state.contentEditable;e.target!==t&&(t&&t.contains(e.target)||this.setState({selection:null}))},n.prototype.onTextSelect=function(e){this.props.onSelect&&this.props.onSelect(e),this.setState({selection:c()})},n.prototype.setContentEditableRef=function(e){this.setState({contentEditable:e}),this.props.contentEditableRef&&this.props.contentEditableRef(e)},n.prototype.render=function(){var e=this.props,n=e.children,o=e.styles,i=l(e,["children","styles"]),s=this.state,c=s.contentEditable,u=s.selection,d=a({},m,o),p={el:c,selection:u,styles:d};return t.createElement("div",{style:p.styles.editor},t.createElement(h.Provider,{value:p},n,t.createElement(f,r({},i,{contentEditableRef:this.setContentEditableRef,onSelect:this.onTextSelect,style:d.contentEditable}))))},n}(t.PureComponent);function y(e){var n=e.displayName||e.name;return o.displayName="withEditorContext("+n+")",o;function o(n){return t.createElement(h.Consumer,null,(function(o){return t.createElement(e,r({},n,{el:o.el,selection:o.selection,styles:o.styles}))}))}}var g=S("Bold","ùêÅ","bold"),E=S("Clear formatting","TÃ≤‚Çì","removeFormat"),L=S("Italic","ùë∞","italic"),b=S("Link","üîó",(function(e){e&&"A"===e.nodeName?document.execCommand("unlink"):document.execCommand("createLink",!1,prompt("URL",""))})),C=S("Numbered list",t.createElement((function(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},t.createElement("path",{fill:"currentColor",d:"M 6.99938,12.998L 6.99938,10.998L 20.9994,10.998L 20.9994,12.998L 6.99938,12.998 Z M 6.99938,18.9981L 6.99938,16.9981L 20.9994,16.9981L 20.9994,18.9981L 6.99938,18.9981 Z M 6.99938,6.99809L 6.99938,4.99809L 20.9994,4.99809L 20.9994,6.99809L 6.99938,6.99809 Z M 2.99938,7.99809L 2.99938,4.99809L 1.99938,4.99809L 1.99938,3.99809L 3.99938,3.99809L 3.99938,7.99809L 2.99938,7.99809 Z M 1.99938,16.9981L 1.99938,15.9981L 4.99938,15.9981L 4.99938,19.9981L 1.99938,19.9981L 1.99938,18.9981L 3.99938,18.9981L 3.99938,18.4981L 2.99938,18.4981L 2.99938,17.4981L 3.99938,17.4981L 3.99938,16.9981L 1.99938,16.9981 Z M 4.25,10C 4.66421,10 5,10.3358 5,10.75C 5,10.9524 4.91983,11.1361 4.7895,11.271L 3.11983,13L 5,13L 5,14L 2,14L 2,13.0782L 4,11L 2,11L 2,10L 4.25,10 Z "}))}),null),"insertOrderedList"),w=S("Redo","‚Ü∑","redo"),x=S("Underline",t.createElement("span",{style:{textDecoration:"underline"}},"ùêî"),"underline"),O=S("Undo","‚Ü∂","undo"),M=S("Bullet list",t.createElement((function(){return t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",style:{verticalAlign:"text-top"}},t.createElement("path",{fill:"currentColor",d:"M 7,5L 21,5L 21,7L 7,7L 7,5 Z M 7,13L 7,11L 21,11L 21,13L 7,13 Z M 4,4.50001C 4.83,4.50001 5.5,5.16993 5.5,6.00001C 5.5,6.83008 4.83,7.50001 4,7.50001C 3.17,7.50001 2.5,6.83008 2.5,6.00001C 2.5,5.16993 3.17,4.50001 4,4.50001 Z M 4,10.5C 4.83,10.5 5.5,11.17 5.5,12C 5.5,12.83 4.83,13.5 4,13.5C 3.17,13.5 2.5,12.83 2.5,12C 2.5,11.17 3.17,10.5 4,10.5 Z M 7,19L 7,17L 21,17L 21,19L 7,19 Z M 4,16.5C 4.83,16.5 5.5,17.17 5.5,18C 5.5,18.83 4.83,19.5 4,19.5C 3.17,19.5 2.5,18.83 2.5,18C 2.5,17.17 3.17,16.5 4,16.5 Z "}))}),null),"insertUnorderedList");function R(e){var n=t.useState(!1),o=n[0],i=n[1],a=e.active,s=e.styles;e.el,e.selection;var c=l(e,["active","styles","el","selection"]),u=r(r(r(r(r({},s.button.normal),e.style),o?s.button.hovered:{}),o?e.hoverStyle:{}),a?s.button.active:{});return t.createElement("button",r({type:"button"},c,{style:u,onMouseEnter:function(t){i(!0),e.onMouseEnter&&e.onMouseEnter(t)},onMouseLeave:function(t){i(!1),e.onMouseLeave&&e.onMouseLeave(t)}}))}function S(e,n,o){return i.displayName=e.replace(/\s/g,""),y(i);function i(i){var a=i.selection,s=l(i,["selection"]),c=!1;return"string"==typeof o&&(c=!!a&&document.queryCommandState(o)),t.createElement(R,r({title:e},s,{onMouseDown:function(){"function"==typeof o?o(a):document.execCommand(o)},active:c}),n)}}var B=function(e,n){return o.displayName=e,y(o);function o(o){var i=o.selection,a=l(o,["selection"]);return t.createElement(k,r({},a,{onChange:function(e){var t=parseInt(e.target.value,10),o=n[t],r=o[1],l=o[2];e.preventDefault(),e.target.selectedIndex=0,"function"==typeof r?r(i):document.execCommand(r,!1,l)},title:e,items:n}))}}("Styles",[["Normal","formatBlock","DIV"],["ùóõùó≤ùóÆùó±ùó≤ùóø ùü≠","formatBlock","H1"],["Header 2","formatBlock","H2"],["ùô≤ùöòùöçùöé","formatBlock","PRE"]]);function k(e){e.el;var n=e.items,o=e.selected;e.selection;var i=e.styles,a=l(e,["el","items","selected","selection","styles"]),s=r(r({},i.dropdown),e.style);return t.createElement("select",r({},a,{value:o,style:s}),t.createElement("option",{hidden:!0},e.title),n.map((function(e,n){return t.createElement("option",{key:n,value:n},e[0])})))}var T=y((function(e){return t.createElement("span",{style:e.styles.separator})}));function j(e){var n=r(r({},N.root),e.style);return t.createElement("div",r({},e,{style:n}))}var N={root:{backgroundColor:"#f5f5f5",borderBottom:"1px solid #ddd"}};e.BtnBold=g,e.BtnBulletList=M,e.BtnClearFormatting=E,e.BtnItalic=L,e.BtnLink=b,e.BtnNumberedList=C,e.BtnRedo=w,e.BtnStyles=B,e.BtnUnderline=x,e.BtnUndo=O,e.Button=R,e.ContentEditable=f,e.DefaultEditor=function(e){return t.createElement(v,r({},e),t.createElement(j,null,t.createElement(O,null),t.createElement(w,null),t.createElement(T,null),t.createElement(g,null),t.createElement(L,null),t.createElement(x,null),t.createElement(T,null),t.createElement(C,null),t.createElement(M,null),t.createElement(T,null),t.createElement(b,null),t.createElement(E,null),t.createElement(T,null),t.createElement(B,null)))},e.Dropdown=k,e.Editor=v,e.Separator=T,e.Toolbar=j,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
